function UT(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(s,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function zT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mh={exports:{}},Wa={},Fh={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function $T(){if(Ny)return Ue;Ny=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.iterator;function E(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,L={};function k(O,Y,pe){this.props=O,this.context=Y,this.refs=L,this.updater=pe||b}k.prototype.isReactComponent={},k.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},k.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function $(){}$.prototype=k.prototype;function U(O,Y,pe){this.props=O,this.context=Y,this.refs=L,this.updater=pe||b}var z=U.prototype=new $;z.constructor=U,R(z,k.prototype),z.isPureReactComponent=!0;var X=Array.isArray,ue=Object.prototype.hasOwnProperty,q={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function N(O,Y,pe){var Pe,Te={},me=null,De=null;if(Y!=null)for(Pe in Y.ref!==void 0&&(De=Y.ref),Y.key!==void 0&&(me=""+Y.key),Y)ue.call(Y,Pe)&&!j.hasOwnProperty(Pe)&&(Te[Pe]=Y[Pe]);var Be=arguments.length-2;if(Be===1)Te.children=pe;else if(1<Be){for(var Le=Array(Be),Xe=0;Xe<Be;Xe++)Le[Xe]=arguments[Xe+2];Te.children=Le}if(O&&O.defaultProps)for(Pe in Be=O.defaultProps,Be)Te[Pe]===void 0&&(Te[Pe]=Be[Pe]);return{$$typeof:t,type:O,key:me,ref:De,props:Te,_owner:q.current}}function P(O,Y){return{$$typeof:t,type:O.type,key:Y,ref:O.ref,props:O.props,_owner:O._owner}}function C(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function D(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(pe){return Y[pe]})}var V=/\/+/g;function A(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?D(""+O.key):Y.toString(36)}function je(O,Y,pe,Pe,Te){var me=typeof O;(me==="undefined"||me==="boolean")&&(O=null);var De=!1;if(O===null)De=!0;else switch(me){case"string":case"number":De=!0;break;case"object":switch(O.$$typeof){case t:case e:De=!0}}if(De)return De=O,Te=Te(De),O=Pe===""?"."+A(De,0):Pe,X(Te)?(pe="",O!=null&&(pe=O.replace(V,"$&/")+"/"),je(Te,Y,pe,"",function(Xe){return Xe})):Te!=null&&(C(Te)&&(Te=P(Te,pe+(!Te.key||De&&De.key===Te.key?"":(""+Te.key).replace(V,"$&/")+"/")+O)),Y.push(Te)),1;if(De=0,Pe=Pe===""?".":Pe+":",X(O))for(var Be=0;Be<O.length;Be++){me=O[Be];var Le=Pe+A(me,Be);De+=je(me,Y,pe,Le,Te)}else if(Le=E(O),typeof Le=="function")for(O=Le.call(O),Be=0;!(me=O.next()).done;)me=me.value,Le=Pe+A(me,Be++),De+=je(me,Y,pe,Le,Te);else if(me==="object")throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return De}function Oe(O,Y,pe){if(O==null)return O;var Pe=[],Te=0;return je(O,Pe,"","",function(me){return Y.call(pe,me,Te++)}),Pe}function ke(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(pe){(O._status===0||O._status===-1)&&(O._status=1,O._result=pe)},function(pe){(O._status===0||O._status===-1)&&(O._status=2,O._result=pe)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Ce={current:null},ee={transition:null},fe={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:ee,ReactCurrentOwner:q};function le(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:Oe,forEach:function(O,Y,pe){Oe(O,function(){Y.apply(this,arguments)},pe)},count:function(O){var Y=0;return Oe(O,function(){Y++}),Y},toArray:function(O){return Oe(O,function(Y){return Y})||[]},only:function(O){if(!C(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ue.Component=k,Ue.Fragment=n,Ue.Profiler=o,Ue.PureComponent=U,Ue.StrictMode=s,Ue.Suspense=m,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Ue.act=le,Ue.cloneElement=function(O,Y,pe){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Pe=R({},O.props),Te=O.key,me=O.ref,De=O._owner;if(Y!=null){if(Y.ref!==void 0&&(me=Y.ref,De=q.current),Y.key!==void 0&&(Te=""+Y.key),O.type&&O.type.defaultProps)var Be=O.type.defaultProps;for(Le in Y)ue.call(Y,Le)&&!j.hasOwnProperty(Le)&&(Pe[Le]=Y[Le]===void 0&&Be!==void 0?Be[Le]:Y[Le])}var Le=arguments.length-2;if(Le===1)Pe.children=pe;else if(1<Le){Be=Array(Le);for(var Xe=0;Xe<Le;Xe++)Be[Xe]=arguments[Xe+2];Pe.children=Be}return{$$typeof:t,type:O.type,key:Te,ref:me,props:Pe,_owner:De}},Ue.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:a,_context:O},O.Consumer=O},Ue.createElement=N,Ue.createFactory=function(O){var Y=N.bind(null,O);return Y.type=O,Y},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(O){return{$$typeof:f,render:O}},Ue.isValidElement=C,Ue.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:ke}},Ue.memo=function(O,Y){return{$$typeof:g,type:O,compare:Y===void 0?null:Y}},Ue.startTransition=function(O){var Y=ee.transition;ee.transition={};try{O()}finally{ee.transition=Y}},Ue.unstable_act=le,Ue.useCallback=function(O,Y){return Ce.current.useCallback(O,Y)},Ue.useContext=function(O){return Ce.current.useContext(O)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(O){return Ce.current.useDeferredValue(O)},Ue.useEffect=function(O,Y){return Ce.current.useEffect(O,Y)},Ue.useId=function(){return Ce.current.useId()},Ue.useImperativeHandle=function(O,Y,pe){return Ce.current.useImperativeHandle(O,Y,pe)},Ue.useInsertionEffect=function(O,Y){return Ce.current.useInsertionEffect(O,Y)},Ue.useLayoutEffect=function(O,Y){return Ce.current.useLayoutEffect(O,Y)},Ue.useMemo=function(O,Y){return Ce.current.useMemo(O,Y)},Ue.useReducer=function(O,Y,pe){return Ce.current.useReducer(O,Y,pe)},Ue.useRef=function(O){return Ce.current.useRef(O)},Ue.useState=function(O){return Ce.current.useState(O)},Ue.useSyncExternalStore=function(O,Y,pe){return Ce.current.useSyncExternalStore(O,Y,pe)},Ue.useTransition=function(){return Ce.current.useTransition()},Ue.version="18.3.1",Ue}var by;function Zf(){return by||(by=1,Fh.exports=$T()),Fh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function WT(){if(Sy)return Wa;Sy=1;var t=Zf(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(f,m,g){var x,w={},E=null,b=null;g!==void 0&&(E=""+g),m.key!==void 0&&(E=""+m.key),m.ref!==void 0&&(b=m.ref);for(x in m)s.call(m,x)&&!a.hasOwnProperty(x)&&(w[x]=m[x]);if(f&&f.defaultProps)for(x in m=f.defaultProps,m)w[x]===void 0&&(w[x]=m[x]);return{$$typeof:e,type:f,key:E,ref:b,props:w,_owner:o.current}}return Wa.Fragment=n,Wa.jsx=c,Wa.jsxs=c,Wa}var Py;function HT(){return Py||(Py=1,Mh.exports=WT()),Mh.exports}var u=HT(),F=Zf();const em=zT(F),GT=UT({__proto__:null,default:em},[F]);var Xc={},Oh={exports:{}},En={},Bh={exports:{}},Uh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function qT(){return Ay||(Ay=1,function(t){function e(ee,fe){var le=ee.length;ee.push(fe);e:for(;0<le;){var O=le-1>>>1,Y=ee[O];if(0<o(Y,fe))ee[O]=fe,ee[le]=Y,le=O;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var fe=ee[0],le=ee.pop();if(le!==fe){ee[0]=le;e:for(var O=0,Y=ee.length,pe=Y>>>1;O<pe;){var Pe=2*(O+1)-1,Te=ee[Pe],me=Pe+1,De=ee[me];if(0>o(Te,le))me<Y&&0>o(De,Te)?(ee[O]=De,ee[me]=le,O=me):(ee[O]=Te,ee[Pe]=le,O=Pe);else if(me<Y&&0>o(De,le))ee[O]=De,ee[me]=le,O=me;else break e}}return fe}function o(ee,fe){var le=ee.sortIndex-fe.sortIndex;return le!==0?le:ee.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],g=[],x=1,w=null,E=3,b=!1,R=!1,L=!1,k=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(ee){for(var fe=n(g);fe!==null;){if(fe.callback===null)s(g);else if(fe.startTime<=ee)s(g),fe.sortIndex=fe.expirationTime,e(m,fe);else break;fe=n(g)}}function X(ee){if(L=!1,z(ee),!R)if(n(m)!==null)R=!0,ke(ue);else{var fe=n(g);fe!==null&&Ce(X,fe.startTime-ee)}}function ue(ee,fe){R=!1,L&&(L=!1,$(N),N=-1),b=!0;var le=E;try{for(z(fe),w=n(m);w!==null&&(!(w.expirationTime>fe)||ee&&!D());){var O=w.callback;if(typeof O=="function"){w.callback=null,E=w.priorityLevel;var Y=O(w.expirationTime<=fe);fe=t.unstable_now(),typeof Y=="function"?w.callback=Y:w===n(m)&&s(m),z(fe)}else s(m);w=n(m)}if(w!==null)var pe=!0;else{var Pe=n(g);Pe!==null&&Ce(X,Pe.startTime-fe),pe=!1}return pe}finally{w=null,E=le,b=!1}}var q=!1,j=null,N=-1,P=5,C=-1;function D(){return!(t.unstable_now()-C<P)}function V(){if(j!==null){var ee=t.unstable_now();C=ee;var fe=!0;try{fe=j(!0,ee)}finally{fe?A():(q=!1,j=null)}}else q=!1}var A;if(typeof U=="function")A=function(){U(V)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,Oe=je.port2;je.port1.onmessage=V,A=function(){Oe.postMessage(null)}}else A=function(){k(V,0)};function ke(ee){j=ee,q||(q=!0,A())}function Ce(ee,fe){N=k(function(){ee(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){R||b||(R=!0,ke(ue))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(m)},t.unstable_next=function(ee){switch(E){case 1:case 2:case 3:var fe=3;break;default:fe=E}var le=E;E=fe;try{return ee()}finally{E=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,fe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var le=E;E=ee;try{return fe()}finally{E=le}},t.unstable_scheduleCallback=function(ee,fe,le){var O=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?O+le:O):le=O,ee){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=le+Y,ee={id:x++,callback:fe,priorityLevel:ee,startTime:le,expirationTime:Y,sortIndex:-1},le>O?(ee.sortIndex=le,e(g,ee),n(m)===null&&ee===n(g)&&(L?($(N),N=-1):L=!0,Ce(X,le-O))):(ee.sortIndex=Y,e(m,ee),R||b||(R=!0,ke(ue))),ee},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(ee){var fe=E;return function(){var le=E;E=fe;try{return ee.apply(this,arguments)}finally{E=le}}}}(Uh)),Uh}var jy;function KT(){return jy||(jy=1,Bh.exports=qT()),Bh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function QT(){if(Cy)return En;Cy=1;var t=Zf(),e=KT();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},w={};function E(r){return m.call(w,r)?!0:m.call(x,r)?!1:g.test(r)?w[r]=!0:(x[r]=!0,!1)}function b(r,i,l,h){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function R(r,i,l,h){if(i===null||typeof i>"u"||b(r,i,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function L(r,i,l,h,p,v,T){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=i,this.sanitizeURL=v,this.removeEmptyString=T}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){k[r]=new L(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];k[i]=new L(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){k[r]=new L(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){k[r]=new L(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){k[r]=new L(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){k[r]=new L(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){k[r]=new L(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){k[r]=new L(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){k[r]=new L(r,5,!1,r.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function U(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace($,U);k[i]=new L(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace($,U);k[i]=new L(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace($,U);k[i]=new L(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){k[r]=new L(r,1,!1,r.toLowerCase(),null,!1,!1)}),k.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){k[r]=new L(r,1,!1,r.toLowerCase(),null,!0,!0)});function z(r,i,l,h){var p=k.hasOwnProperty(i)?k[i]:null;(p!==null?p.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(R(i,l,p,h)&&(l=null),h||p===null?E(i)&&(l===null?r.removeAttribute(i):r.setAttribute(i,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(i=p.attributeName,h=p.attributeNamespace,l===null?r.removeAttribute(i):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?r.setAttributeNS(h,i,l):r.setAttribute(i,l))))}var X=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ue=Symbol.for("react.element"),q=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),Oe=Symbol.for("react.memo"),ke=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),ee=Symbol.iterator;function fe(r){return r===null||typeof r!="object"?null:(r=ee&&r[ee]||r["@@iterator"],typeof r=="function"?r:null)}var le=Object.assign,O;function Y(r){if(O===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||""}return`
`+O+r}var pe=!1;function Pe(r,i){if(!r||pe)return"";pe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(K){var h=K}Reflect.construct(r,[],i)}else{try{i.call()}catch(K){h=K}r.call(i.prototype)}else{try{throw Error()}catch(K){h=K}r()}}catch(K){if(K&&h&&typeof K.stack=="string"){for(var p=K.stack.split(`
`),v=h.stack.split(`
`),T=p.length-1,I=v.length-1;1<=T&&0<=I&&p[T]!==v[I];)I--;for(;1<=T&&0<=I;T--,I--)if(p[T]!==v[I]){if(T!==1||I!==1)do if(T--,I--,0>I||p[T]!==v[I]){var M=`
`+p[T].replace(" at new "," at ");return r.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",r.displayName)),M}while(1<=T&&0<=I);break}}}finally{pe=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Y(r):""}function Te(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=Pe(r.type,!1),r;case 11:return r=Pe(r.type.render,!1),r;case 1:return r=Pe(r.type,!0),r;default:return""}}function me(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case q:return"Portal";case P:return"Profiler";case N:return"StrictMode";case A:return"Suspense";case je:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case D:return(r.displayName||"Context")+".Consumer";case C:return(r._context.displayName||"Context")+".Provider";case V:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Oe:return i=r.displayName||null,i!==null?i:me(r.type)||"Memo";case ke:i=r._payload,r=r._init;try{return me(r(i))}catch{}}return null}function De(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(i);case 8:return i===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Be(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Le(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Xe(r){var i=Le(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),h=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,v=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return p.call(this)},set:function(T){h=""+T,v.call(this,T)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function ct(r){r._valueTracker||(r._valueTracker=Xe(r))}function Dt(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),h="";return r&&(h=Le(r)?r.checked?"true":"false":r.value),r=h,r!==l?(i.setValue(r),!0):!1}function ze(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Pt(r,i){var l=i.checked;return le({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Ut(r,i){var l=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;l=Be(i.value!=null?i.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Un(r,i){i=i.checked,i!=null&&z(r,"checked",i,!1)}function Pn(r,i){Un(r,i);var l=Be(i.value),h=i.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?mn(r,i.type,l):i.hasOwnProperty("defaultValue")&&mn(r,i.type,Be(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function zn(r,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,l||i===r.value||(r.value=i),r.defaultValue=i}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function mn(r,i,l){(i!=="number"||ze(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var zt=Array.isArray;function $t(r,i,l,h){if(r=r.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=i.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&h&&(r[l].defaultSelected=!0)}else{for(l=""+Be(l),i=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,h&&(r[p].defaultSelected=!0);return}i!==null||r[p].disabled||(i=r[p])}i!==null&&(i.selected=!0)}}function ie(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function J(r,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(n(92));if(zt(l)){if(1<l.length)throw Error(n(93));l=l[0]}i=l}i==null&&(i=""),l=i}r._wrapperState={initialValue:Be(l)}}function Z(r,i){var l=Be(i.value),h=Be(i.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),i.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function ve(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function de(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ie(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?de(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var rt,xr=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,h,p){MSApp.execUnsafeLocalFunction(function(){return r(i,l,h,p)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(rt=rt||document.createElement("div"),rt.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=rt.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function wr(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var Br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},An=["Webkit","ms","Moz","O"];Object.keys(Br).forEach(function(r){An.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Br[i]=Br[r]})});function Xs(r,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||Br.hasOwnProperty(r)&&Br[r]?(""+i).trim():i+"px"}function Js(r,i){r=r.style;for(var l in i)if(i.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=Xs(l,i[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,p):r[l]=p}}var an=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sa(r,i){if(i){if(an[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function ia(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zs=null;function qi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ki=null,$n=null,_r=null;function Qi(r){if(r=ja(r)){if(typeof Ki!="function")throw Error(n(280));var i=r.stateNode;i&&(i=hc(i),Ki(r.stateNode,r.type,i))}}function Er(r){$n?_r?_r.push(r):_r=[r]:$n=r}function oa(){if($n){var r=$n,i=_r;if(_r=$n=null,Qi(r),i)for(r=0;r<i.length;r++)Qi(i[r])}}function ei(r,i){return r(i)}function aa(){}var Ur=!1;function la(r,i,l){if(Ur)return r(i,l);Ur=!0;try{return ei(r,i,l)}finally{Ur=!1,($n!==null||_r!==null)&&(aa(),oa())}}function xt(r,i){var l=r.stateNode;if(l===null)return null;var h=hc(l);if(h===null)return null;l=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var Yi=!1;if(f)try{var nr={};Object.defineProperty(nr,"passive",{get:function(){Yi=!0}}),window.addEventListener("test",nr,nr),window.removeEventListener("test",nr,nr)}catch{Yi=!1}function ti(r,i,l,h,p,v,T,I,M){var K=Array.prototype.slice.call(arguments,3);try{i.apply(l,K)}catch(ne){this.onError(ne)}}var ni=!1,Xi=null,rr=!1,ca=null,dd={onError:function(r){ni=!0,Xi=r}};function Ji(r,i,l,h,p,v,T,I,M){ni=!1,Xi=null,ti.apply(dd,arguments)}function Ml(r,i,l,h,p,v,T,I,M){if(Ji.apply(this,arguments),ni){if(ni){var K=Xi;ni=!1,Xi=null}else throw Error(n(198));rr||(rr=!0,ca=K)}}function sr(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function ri(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function ir(r){if(sr(r)!==r)throw Error(n(188))}function Fl(r){var i=r.alternate;if(!i){if(i=sr(r),i===null)throw Error(n(188));return i!==r?null:r}for(var l=r,h=i;;){var p=l.return;if(p===null)break;var v=p.alternate;if(v===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===l)return ir(p),r;if(v===h)return ir(p),i;v=v.sibling}throw Error(n(188))}if(l.return!==h.return)l=p,h=v;else{for(var T=!1,I=p.child;I;){if(I===l){T=!0,l=p,h=v;break}if(I===h){T=!0,h=p,l=v;break}I=I.sibling}if(!T){for(I=v.child;I;){if(I===l){T=!0,l=v,h=p;break}if(I===h){T=!0,h=v,l=p;break}I=I.sibling}if(!T)throw Error(n(189))}}if(l.alternate!==h)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:i}function ua(r){return r=Fl(r),r!==null?Zi(r):null}function Zi(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Zi(r);if(i!==null)return i;r=r.sibling}return null}var eo=e.unstable_scheduleCallback,da=e.unstable_cancelCallback,Ol=e.unstable_shouldYield,hd=e.unstable_requestPaint,st=e.unstable_now,Bl=e.unstable_getCurrentPriorityLevel,si=e.unstable_ImmediatePriority,us=e.unstable_UserBlockingPriority,Wn=e.unstable_NormalPriority,ha=e.unstable_LowPriority,Ul=e.unstable_IdlePriority,ii=null,jn=null;function zl(r){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(ii,r,void 0,(r.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:Wl,fa=Math.log,$l=Math.LN2;function Wl(r){return r>>>=0,r===0?32:31-(fa(r)/$l|0)|0}var to=64,no=4194304;function ds(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function oi(r,i){var l=r.pendingLanes;if(l===0)return 0;var h=0,p=r.suspendedLanes,v=r.pingedLanes,T=l&268435455;if(T!==0){var I=T&~p;I!==0?h=ds(I):(v&=T,v!==0&&(h=ds(v)))}else T=l&~p,T!==0?h=ds(T):v!==0&&(h=ds(v));if(h===0)return 0;if(i!==0&&i!==h&&(i&p)===0&&(p=h&-h,v=i&-i,p>=v||p===16&&(v&4194240)!==0))return i;if((h&4)!==0&&(h|=l&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=h;0<i;)l=31-ln(i),p=1<<l,h|=r[l],i&=~p;return h}function fd(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zr(r,i){for(var l=r.suspendedLanes,h=r.pingedLanes,p=r.expirationTimes,v=r.pendingLanes;0<v;){var T=31-ln(v),I=1<<T,M=p[T];M===-1?((I&l)===0||(I&h)!==0)&&(p[T]=fd(I,i)):M<=i&&(r.expiredLanes|=I),v&=~I}}function Cn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ai(){var r=to;return to<<=1,(to&4194240)===0&&(to=64),r}function hs(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function fs(r,i,l){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-ln(i),r[i]=l}function tt(r,i){var l=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-ln(l),v=1<<p;i[p]=0,h[p]=-1,r[p]=-1,l&=~v}}function ms(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var h=31-ln(l),p=1<<h;p&i|r[h]&i&&(r[h]|=i),l&=~p}}var We=0;function ps(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Hl,ro,Gl,ql,Kl,ma=!1,Tr=[],Wt=null,or=null,ar=null,gs=new Map,Hn=new Map,Nr=[],md="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ql(r,i){switch(r){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":gs.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hn.delete(i.pointerId)}}function pn(r,i,l,h,p,v){return r===null||r.nativeEvent!==v?(r={blockedOn:i,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[p]},i!==null&&(i=ja(i),i!==null&&ro(i)),r):(r.eventSystemFlags|=h,i=r.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),r)}function pd(r,i,l,h,p){switch(i){case"focusin":return Wt=pn(Wt,r,i,l,h,p),!0;case"dragenter":return or=pn(or,r,i,l,h,p),!0;case"mouseover":return ar=pn(ar,r,i,l,h,p),!0;case"pointerover":var v=p.pointerId;return gs.set(v,pn(gs.get(v)||null,r,i,l,h,p)),!0;case"gotpointercapture":return v=p.pointerId,Hn.set(v,pn(Hn.get(v)||null,r,i,l,h,p)),!0}return!1}function Yl(r){var i=hi(r.target);if(i!==null){var l=sr(i);if(l!==null){if(i=l.tag,i===13){if(i=ri(l),i!==null){r.blockedOn=i,Kl(r.priority,function(){Gl(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function $r(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=so(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);Zs=h,l.target.dispatchEvent(h),Zs=null}else return i=ja(l),i!==null&&ro(i),r.blockedOn=l,!1;i.shift()}return!0}function li(r,i,l){$r(r)&&l.delete(i)}function Xl(){ma=!1,Wt!==null&&$r(Wt)&&(Wt=null),or!==null&&$r(or)&&(or=null),ar!==null&&$r(ar)&&(ar=null),gs.forEach(li),Hn.forEach(li)}function lr(r,i){r.blockedOn===i&&(r.blockedOn=null,ma||(ma=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Xl)))}function cr(r){function i(p){return lr(p,r)}if(0<Tr.length){lr(Tr[0],r);for(var l=1;l<Tr.length;l++){var h=Tr[l];h.blockedOn===r&&(h.blockedOn=null)}}for(Wt!==null&&lr(Wt,r),or!==null&&lr(or,r),ar!==null&&lr(ar,r),gs.forEach(i),Hn.forEach(i),l=0;l<Nr.length;l++)h=Nr[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<Nr.length&&(l=Nr[0],l.blockedOn===null);)Yl(l),l.blockedOn===null&&Nr.shift()}var Wr=X.ReactCurrentBatchConfig,ys=!0;function ut(r,i,l,h){var p=We,v=Wr.transition;Wr.transition=null;try{We=1,pa(r,i,l,h)}finally{We=p,Wr.transition=v}}function gd(r,i,l,h){var p=We,v=Wr.transition;Wr.transition=null;try{We=4,pa(r,i,l,h)}finally{We=p,Wr.transition=v}}function pa(r,i,l,h){if(ys){var p=so(r,i,l,h);if(p===null)Pd(r,i,h,ci,l),Ql(r,h);else if(pd(p,r,i,l,h))h.stopPropagation();else if(Ql(r,h),i&4&&-1<md.indexOf(r)){for(;p!==null;){var v=ja(p);if(v!==null&&Hl(v),v=so(r,i,l,h),v===null&&Pd(r,i,h,ci,l),v===p)break;p=v}p!==null&&h.stopPropagation()}else Pd(r,i,h,null,l)}}var ci=null;function so(r,i,l,h){if(ci=null,r=qi(h),r=hi(r),r!==null)if(i=sr(r),i===null)r=null;else if(l=i.tag,l===13){if(r=ri(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return ci=r,null}function ga(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bl()){case si:return 1;case us:return 4;case Wn:case ha:return 16;case Ul:return 536870912;default:return 16}default:return 16}}var In=null,io=null,gn=null;function ya(){if(gn)return gn;var r,i=io,l=i.length,h,p="value"in In?In.value:In.textContent,v=p.length;for(r=0;r<l&&i[r]===p[r];r++);var T=l-r;for(h=1;h<=T&&i[l-h]===p[v-h];h++);return gn=p.slice(r,1<h?1-h:void 0)}function oo(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function br(){return!0}function va(){return!1}function Ht(r){function i(l,h,p,v,T){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(l=r[I],this[I]=l?l(v):v[I]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?br:va,this.isPropagationStopped=va,this}return le(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),i}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ao=Ht(ur),Sr=le({},ur,{view:0,detail:0}),yd=Ht(Sr),lo,Hr,vs,ui=le({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==vs&&(vs&&r.type==="mousemove"?(lo=r.screenX-vs.screenX,Hr=r.screenY-vs.screenY):Hr=lo=0,vs=r),lo)},movementY:function(r){return"movementY"in r?r.movementY:Hr}}),co=Ht(ui),xa=le({},ui,{dataTransfer:0}),Jl=Ht(xa),uo=le({},Sr,{relatedTarget:0}),ho=Ht(uo),Zl=le({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),Gr=Ht(Zl),ec=le({},ur,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),tc=Ht(ec),nc=le({},ur,{data:0}),wa=Ht(nc),fo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sc(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=rc[r])?!!i[r]:!1}function Pr(){return sc}var d=le({},Sr,{key:function(r){if(r.key){var i=fo[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=oo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?cn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(r){return r.type==="keypress"?oo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?oo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),y=Ht(d),_=le({},ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Ht(_),W=le({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr}),Q=Ht(W),ce=le({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ze=Ht(ce),At=le({},ui,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),He=Ht(At),Lt=[9,13,27,32],Tt=f&&"CompositionEvent"in window,Gn=null;f&&"documentMode"in document&&(Gn=document.documentMode);var Rn=f&&"TextEvent"in window&&!Gn,di=f&&(!Tt||Gn&&8<Gn&&11>=Gn),mo=" ",vp=!1;function xp(r,i){switch(r){case"keyup":return Lt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var po=!1;function FE(r,i){switch(r){case"compositionend":return wp(i);case"keypress":return i.which!==32?null:(vp=!0,mo);case"textInput":return r=i.data,r===mo&&vp?null:r;default:return null}}function OE(r,i){if(po)return r==="compositionend"||!Tt&&xp(r,i)?(r=ya(),gn=io=In=null,po=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return di&&i.locale!=="ko"?null:i.data;default:return null}}var BE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _p(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!BE[r.type]:i==="textarea"}function Ep(r,i,l,h){Er(h),i=cc(i,"onChange"),0<i.length&&(l=new ao("onChange","change",null,l,h),r.push({event:l,listeners:i}))}var _a=null,Ea=null;function UE(r){Bp(r,0)}function ic(r){var i=wo(r);if(Dt(i))return r}function zE(r,i){if(r==="change")return i}var Tp=!1;if(f){var vd;if(f){var xd="oninput"in document;if(!xd){var Np=document.createElement("div");Np.setAttribute("oninput","return;"),xd=typeof Np.oninput=="function"}vd=xd}else vd=!1;Tp=vd&&(!document.documentMode||9<document.documentMode)}function bp(){_a&&(_a.detachEvent("onpropertychange",Sp),Ea=_a=null)}function Sp(r){if(r.propertyName==="value"&&ic(Ea)){var i=[];Ep(i,Ea,r,qi(r)),la(UE,i)}}function $E(r,i,l){r==="focusin"?(bp(),_a=i,Ea=l,_a.attachEvent("onpropertychange",Sp)):r==="focusout"&&bp()}function WE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ic(Ea)}function HE(r,i){if(r==="click")return ic(i)}function GE(r,i){if(r==="input"||r==="change")return ic(i)}function qE(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var dr=typeof Object.is=="function"?Object.is:qE;function Ta(r,i){if(dr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),h=Object.keys(i);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!m.call(i,p)||!dr(r[p],i[p]))return!1}return!0}function Pp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ap(r,i){var l=Pp(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=i&&h>=i)return{node:l,offset:i-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Pp(l)}}function jp(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?jp(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Cp(){for(var r=window,i=ze();i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=ze(r.document)}return i}function wd(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function KE(r){var i=Cp(),l=r.focusedElem,h=r.selectionRange;if(i!==l&&l&&l.ownerDocument&&jp(l.ownerDocument.documentElement,l)){if(h!==null&&wd(l)){if(i=h.start,r=h.end,r===void 0&&(r=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(r,l.value.length);else if(r=(i=l.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,v=Math.min(h.start,p);h=h.end===void 0?v:Math.min(h.end,p),!r.extend&&v>h&&(p=h,h=v,v=p),p=Ap(l,v);var T=Ap(l,h);p&&T&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),r.removeAllRanges(),v>h?(r.addRange(i),r.extend(T.node,T.offset)):(i.setEnd(T.node,T.offset),r.addRange(i)))}}for(i=[],r=l;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)r=i[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var QE=f&&"documentMode"in document&&11>=document.documentMode,go=null,_d=null,Na=null,Ed=!1;function Ip(r,i,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ed||go==null||go!==ze(h)||(h=go,"selectionStart"in h&&wd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Na&&Ta(Na,h)||(Na=h,h=cc(_d,"onSelect"),0<h.length&&(i=new ao("onSelect","select",null,i,l),r.push({event:i,listeners:h}),i.target=go)))}function oc(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var yo={animationend:oc("Animation","AnimationEnd"),animationiteration:oc("Animation","AnimationIteration"),animationstart:oc("Animation","AnimationStart"),transitionend:oc("Transition","TransitionEnd")},Td={},Rp={};f&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function ac(r){if(Td[r])return Td[r];if(!yo[r])return r;var i=yo[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in Rp)return Td[r]=i[l];return r}var kp=ac("animationend"),Vp=ac("animationiteration"),Dp=ac("animationstart"),Lp=ac("transitionend"),Mp=new Map,Fp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(r,i){Mp.set(r,i),a(i,[r])}for(var Nd=0;Nd<Fp.length;Nd++){var bd=Fp[Nd],YE=bd.toLowerCase(),XE=bd[0].toUpperCase()+bd.slice(1);xs(YE,"on"+XE)}xs(kp,"onAnimationEnd"),xs(Vp,"onAnimationIteration"),xs(Dp,"onAnimationStart"),xs("dblclick","onDoubleClick"),xs("focusin","onFocus"),xs("focusout","onBlur"),xs(Lp,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JE=new Set("cancel close invalid load scroll toggle".split(" ").concat(ba));function Op(r,i,l){var h=r.type||"unknown-event";r.currentTarget=l,Ml(h,i,void 0,r),r.currentTarget=null}function Bp(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],p=h.event;h=h.listeners;e:{var v=void 0;if(i)for(var T=h.length-1;0<=T;T--){var I=h[T],M=I.instance,K=I.currentTarget;if(I=I.listener,M!==v&&p.isPropagationStopped())break e;Op(p,I,K),v=M}else for(T=0;T<h.length;T++){if(I=h[T],M=I.instance,K=I.currentTarget,I=I.listener,M!==v&&p.isPropagationStopped())break e;Op(p,I,K),v=M}}}if(rr)throw r=ca,rr=!1,ca=null,r}function at(r,i){var l=i[kd];l===void 0&&(l=i[kd]=new Set);var h=r+"__bubble";l.has(h)||(Up(i,r,2,!1),l.add(h))}function Sd(r,i,l){var h=0;i&&(h|=4),Up(l,r,h,i)}var lc="_reactListening"+Math.random().toString(36).slice(2);function Sa(r){if(!r[lc]){r[lc]=!0,s.forEach(function(l){l!=="selectionchange"&&(JE.has(l)||Sd(l,!1,r),Sd(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[lc]||(i[lc]=!0,Sd("selectionchange",!1,i))}}function Up(r,i,l,h){switch(ga(i)){case 1:var p=ut;break;case 4:p=gd;break;default:p=pa}l=p.bind(null,i,l,r),p=void 0,!Yi||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),h?p!==void 0?r.addEventListener(i,l,{capture:!0,passive:p}):r.addEventListener(i,l,!0):p!==void 0?r.addEventListener(i,l,{passive:p}):r.addEventListener(i,l,!1)}function Pd(r,i,l,h,p){var v=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var I=h.stateNode.containerInfo;if(I===p||I.nodeType===8&&I.parentNode===p)break;if(T===4)for(T=h.return;T!==null;){var M=T.tag;if((M===3||M===4)&&(M=T.stateNode.containerInfo,M===p||M.nodeType===8&&M.parentNode===p))return;T=T.return}for(;I!==null;){if(T=hi(I),T===null)return;if(M=T.tag,M===5||M===6){h=v=T;continue e}I=I.parentNode}}h=h.return}la(function(){var K=v,ne=qi(l),oe=[];e:{var te=Mp.get(r);if(te!==void 0){var he=ao,ye=r;switch(r){case"keypress":if(oo(l)===0)break e;case"keydown":case"keyup":he=y;break;case"focusin":ye="focus",he=ho;break;case"focusout":ye="blur",he=ho;break;case"beforeblur":case"afterblur":he=ho;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Jl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Q;break;case kp:case Vp:case Dp:he=Gr;break;case Lp:he=Ze;break;case"scroll":he=yd;break;case"wheel":he=He;break;case"copy":case"cut":case"paste":he=tc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=S}var xe=(i&4)!==0,wt=!xe&&r==="scroll",H=xe?te!==null?te+"Capture":null:te;xe=[];for(var B=K,G;B!==null;){G=B;var ae=G.stateNode;if(G.tag===5&&ae!==null&&(G=ae,H!==null&&(ae=xt(B,H),ae!=null&&xe.push(Pa(B,ae,G)))),wt)break;B=B.return}0<xe.length&&(te=new he(te,ye,null,l,ne),oe.push({event:te,listeners:xe}))}}if((i&7)===0){e:{if(te=r==="mouseover"||r==="pointerover",he=r==="mouseout"||r==="pointerout",te&&l!==Zs&&(ye=l.relatedTarget||l.fromElement)&&(hi(ye)||ye[qr]))break e;if((he||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,he?(ye=l.relatedTarget||l.toElement,he=K,ye=ye?hi(ye):null,ye!==null&&(wt=sr(ye),ye!==wt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(he=null,ye=K),he!==ye)){if(xe=co,ae="onMouseLeave",H="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(xe=S,ae="onPointerLeave",H="onPointerEnter",B="pointer"),wt=he==null?te:wo(he),G=ye==null?te:wo(ye),te=new xe(ae,B+"leave",he,l,ne),te.target=wt,te.relatedTarget=G,ae=null,hi(ne)===K&&(xe=new xe(H,B+"enter",ye,l,ne),xe.target=G,xe.relatedTarget=wt,ae=xe),wt=ae,he&&ye)t:{for(xe=he,H=ye,B=0,G=xe;G;G=vo(G))B++;for(G=0,ae=H;ae;ae=vo(ae))G++;for(;0<B-G;)xe=vo(xe),B--;for(;0<G-B;)H=vo(H),G--;for(;B--;){if(xe===H||H!==null&&xe===H.alternate)break t;xe=vo(xe),H=vo(H)}xe=null}else xe=null;he!==null&&zp(oe,te,he,xe,!1),ye!==null&&wt!==null&&zp(oe,wt,ye,xe,!0)}}e:{if(te=K?wo(K):window,he=te.nodeName&&te.nodeName.toLowerCase(),he==="select"||he==="input"&&te.type==="file")var _e=zE;else if(_p(te))if(Tp)_e=GE;else{_e=WE;var Ne=$E}else(he=te.nodeName)&&he.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(_e=HE);if(_e&&(_e=_e(r,K))){Ep(oe,_e,l,ne);break e}Ne&&Ne(r,te,K),r==="focusout"&&(Ne=te._wrapperState)&&Ne.controlled&&te.type==="number"&&mn(te,"number",te.value)}switch(Ne=K?wo(K):window,r){case"focusin":(_p(Ne)||Ne.contentEditable==="true")&&(go=Ne,_d=K,Na=null);break;case"focusout":Na=_d=go=null;break;case"mousedown":Ed=!0;break;case"contextmenu":case"mouseup":case"dragend":Ed=!1,Ip(oe,l,ne);break;case"selectionchange":if(QE)break;case"keydown":case"keyup":Ip(oe,l,ne)}var be;if(Tt)e:{switch(r){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else po?xp(r,l)&&(Re="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(di&&l.locale!=="ko"&&(po||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&po&&(be=ya()):(In=ne,io="value"in In?In.value:In.textContent,po=!0)),Ne=cc(K,Re),0<Ne.length&&(Re=new wa(Re,r,null,l,ne),oe.push({event:Re,listeners:Ne}),be?Re.data=be:(be=wp(l),be!==null&&(Re.data=be)))),(be=Rn?FE(r,l):OE(r,l))&&(K=cc(K,"onBeforeInput"),0<K.length&&(ne=new wa("onBeforeInput","beforeinput",null,l,ne),oe.push({event:ne,listeners:K}),ne.data=be))}Bp(oe,i)})}function Pa(r,i,l){return{instance:r,listener:i,currentTarget:l}}function cc(r,i){for(var l=i+"Capture",h=[];r!==null;){var p=r,v=p.stateNode;p.tag===5&&v!==null&&(p=v,v=xt(r,l),v!=null&&h.unshift(Pa(r,v,p)),v=xt(r,i),v!=null&&h.push(Pa(r,v,p))),r=r.return}return h}function vo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function zp(r,i,l,h,p){for(var v=i._reactName,T=[];l!==null&&l!==h;){var I=l,M=I.alternate,K=I.stateNode;if(M!==null&&M===h)break;I.tag===5&&K!==null&&(I=K,p?(M=xt(l,v),M!=null&&T.unshift(Pa(l,M,I))):p||(M=xt(l,v),M!=null&&T.push(Pa(l,M,I)))),l=l.return}T.length!==0&&r.push({event:i,listeners:T})}var ZE=/\r\n?/g,eT=/\u0000|\uFFFD/g;function $p(r){return(typeof r=="string"?r:""+r).replace(ZE,`
`).replace(eT,"")}function uc(r,i,l){if(i=$p(i),$p(r)!==i&&l)throw Error(n(425))}function dc(){}var Ad=null,jd=null;function Cd(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Id=typeof setTimeout=="function"?setTimeout:void 0,tT=typeof clearTimeout=="function"?clearTimeout:void 0,Wp=typeof Promise=="function"?Promise:void 0,nT=typeof queueMicrotask=="function"?queueMicrotask:typeof Wp<"u"?function(r){return Wp.resolve(null).then(r).catch(rT)}:Id;function rT(r){setTimeout(function(){throw r})}function Rd(r,i){var l=i,h=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){r.removeChild(p),cr(i);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);cr(i)}function ws(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Hp(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}var xo=Math.random().toString(36).slice(2),Ar="__reactFiber$"+xo,Aa="__reactProps$"+xo,qr="__reactContainer$"+xo,kd="__reactEvents$"+xo,sT="__reactListeners$"+xo,iT="__reactHandles$"+xo;function hi(r){var i=r[Ar];if(i)return i;for(var l=r.parentNode;l;){if(i=l[qr]||l[Ar]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=Hp(r);r!==null;){if(l=r[Ar])return l;r=Hp(r)}return i}r=l,l=r.parentNode}return null}function ja(r){return r=r[Ar]||r[qr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function wo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function hc(r){return r[Aa]||null}var Vd=[],_o=-1;function _s(r){return{current:r}}function lt(r){0>_o||(r.current=Vd[_o],Vd[_o]=null,_o--)}function it(r,i){_o++,Vd[_o]=r.current,r.current=i}var Es={},Jt=_s(Es),yn=_s(!1),fi=Es;function Eo(r,i){var l=r.type.contextTypes;if(!l)return Es;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var p={},v;for(v in l)p[v]=i[v];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=p),p}function vn(r){return r=r.childContextTypes,r!=null}function fc(){lt(yn),lt(Jt)}function Gp(r,i,l){if(Jt.current!==Es)throw Error(n(168));it(Jt,i),it(yn,l)}function qp(r,i,l){var h=r.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in i))throw Error(n(108,De(r)||"Unknown",p));return le({},l,h)}function mc(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Es,fi=Jt.current,it(Jt,r),it(yn,yn.current),!0}function Kp(r,i,l){var h=r.stateNode;if(!h)throw Error(n(169));l?(r=qp(r,i,fi),h.__reactInternalMemoizedMergedChildContext=r,lt(yn),lt(Jt),it(Jt,r)):lt(yn),it(yn,l)}var Kr=null,pc=!1,Dd=!1;function Qp(r){Kr===null?Kr=[r]:Kr.push(r)}function oT(r){pc=!0,Qp(r)}function Ts(){if(!Dd&&Kr!==null){Dd=!0;var r=0,i=We;try{var l=Kr;for(We=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}Kr=null,pc=!1}catch(p){throw Kr!==null&&(Kr=Kr.slice(r+1)),eo(si,Ts),p}finally{We=i,Dd=!1}}return null}var To=[],No=0,gc=null,yc=0,qn=[],Kn=0,mi=null,Qr=1,Yr="";function pi(r,i){To[No++]=yc,To[No++]=gc,gc=r,yc=i}function Yp(r,i,l){qn[Kn++]=Qr,qn[Kn++]=Yr,qn[Kn++]=mi,mi=r;var h=Qr;r=Yr;var p=32-ln(h)-1;h&=~(1<<p),l+=1;var v=32-ln(i)+p;if(30<v){var T=p-p%5;v=(h&(1<<T)-1).toString(32),h>>=T,p-=T,Qr=1<<32-ln(i)+p|l<<p|h,Yr=v+r}else Qr=1<<v|l<<p|h,Yr=r}function Ld(r){r.return!==null&&(pi(r,1),Yp(r,1,0))}function Md(r){for(;r===gc;)gc=To[--No],To[No]=null,yc=To[--No],To[No]=null;for(;r===mi;)mi=qn[--Kn],qn[Kn]=null,Yr=qn[--Kn],qn[Kn]=null,Qr=qn[--Kn],qn[Kn]=null}var kn=null,Vn=null,dt=!1,hr=null;function Xp(r,i){var l=Jn(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=r,i=r.deletions,i===null?(r.deletions=[l],r.flags|=16):i.push(l)}function Jp(r,i){switch(r.tag){case 5:var l=r.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,kn=r,Vn=ws(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,kn=r,Vn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=mi!==null?{id:Qr,overflow:Yr}:null,r.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=Jn(18,null,null,0),l.stateNode=i,l.return=r,r.child=l,kn=r,Vn=null,!0):!1;default:return!1}}function Fd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Od(r){if(dt){var i=Vn;if(i){var l=i;if(!Jp(r,i)){if(Fd(r))throw Error(n(418));i=ws(l.nextSibling);var h=kn;i&&Jp(r,i)?Xp(h,l):(r.flags=r.flags&-4097|2,dt=!1,kn=r)}}else{if(Fd(r))throw Error(n(418));r.flags=r.flags&-4097|2,dt=!1,kn=r}}}function Zp(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;kn=r}function vc(r){if(r!==kn)return!1;if(!dt)return Zp(r),dt=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Cd(r.type,r.memoizedProps)),i&&(i=Vn)){if(Fd(r))throw eg(),Error(n(418));for(;i;)Xp(r,i),i=ws(i.nextSibling)}if(Zp(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(i===0){Vn=ws(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}r=r.nextSibling}Vn=null}}else Vn=kn?ws(r.stateNode.nextSibling):null;return!0}function eg(){for(var r=Vn;r;)r=ws(r.nextSibling)}function bo(){Vn=kn=null,dt=!1}function Bd(r){hr===null?hr=[r]:hr.push(r)}var aT=X.ReactCurrentBatchConfig;function Ca(r,i,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var h=l.stateNode}if(!h)throw Error(n(147,r));var p=h,v=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===v?i.ref:(i=function(T){var I=p.refs;T===null?delete I[v]:I[v]=T},i._stringRef=v,i)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function xc(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function tg(r){var i=r._init;return i(r._payload)}function ng(r){function i(H,B){if(r){var G=H.deletions;G===null?(H.deletions=[B],H.flags|=16):G.push(B)}}function l(H,B){if(!r)return null;for(;B!==null;)i(H,B),B=B.sibling;return null}function h(H,B){for(H=new Map;B!==null;)B.key!==null?H.set(B.key,B):H.set(B.index,B),B=B.sibling;return H}function p(H,B){return H=Is(H,B),H.index=0,H.sibling=null,H}function v(H,B,G){return H.index=G,r?(G=H.alternate,G!==null?(G=G.index,G<B?(H.flags|=2,B):G):(H.flags|=2,B)):(H.flags|=1048576,B)}function T(H){return r&&H.alternate===null&&(H.flags|=2),H}function I(H,B,G,ae){return B===null||B.tag!==6?(B=Ih(G,H.mode,ae),B.return=H,B):(B=p(B,G),B.return=H,B)}function M(H,B,G,ae){var _e=G.type;return _e===j?ne(H,B,G.props.children,ae,G.key):B!==null&&(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ke&&tg(_e)===B.type)?(ae=p(B,G.props),ae.ref=Ca(H,B,G),ae.return=H,ae):(ae=$c(G.type,G.key,G.props,null,H.mode,ae),ae.ref=Ca(H,B,G),ae.return=H,ae)}function K(H,B,G,ae){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=Rh(G,H.mode,ae),B.return=H,B):(B=p(B,G.children||[]),B.return=H,B)}function ne(H,B,G,ae,_e){return B===null||B.tag!==7?(B=Ti(G,H.mode,ae,_e),B.return=H,B):(B=p(B,G),B.return=H,B)}function oe(H,B,G){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Ih(""+B,H.mode,G),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ue:return G=$c(B.type,B.key,B.props,null,H.mode,G),G.ref=Ca(H,null,B),G.return=H,G;case q:return B=Rh(B,H.mode,G),B.return=H,B;case ke:var ae=B._init;return oe(H,ae(B._payload),G)}if(zt(B)||fe(B))return B=Ti(B,H.mode,G,null),B.return=H,B;xc(H,B)}return null}function te(H,B,G,ae){var _e=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return _e!==null?null:I(H,B,""+G,ae);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case ue:return G.key===_e?M(H,B,G,ae):null;case q:return G.key===_e?K(H,B,G,ae):null;case ke:return _e=G._init,te(H,B,_e(G._payload),ae)}if(zt(G)||fe(G))return _e!==null?null:ne(H,B,G,ae,null);xc(H,G)}return null}function he(H,B,G,ae,_e){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return H=H.get(G)||null,I(B,H,""+ae,_e);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case ue:return H=H.get(ae.key===null?G:ae.key)||null,M(B,H,ae,_e);case q:return H=H.get(ae.key===null?G:ae.key)||null,K(B,H,ae,_e);case ke:var Ne=ae._init;return he(H,B,G,Ne(ae._payload),_e)}if(zt(ae)||fe(ae))return H=H.get(G)||null,ne(B,H,ae,_e,null);xc(B,ae)}return null}function ye(H,B,G,ae){for(var _e=null,Ne=null,be=B,Re=B=0,Ot=null;be!==null&&Re<G.length;Re++){be.index>Re?(Ot=be,be=null):Ot=be.sibling;var Qe=te(H,be,G[Re],ae);if(Qe===null){be===null&&(be=Ot);break}r&&be&&Qe.alternate===null&&i(H,be),B=v(Qe,B,Re),Ne===null?_e=Qe:Ne.sibling=Qe,Ne=Qe,be=Ot}if(Re===G.length)return l(H,be),dt&&pi(H,Re),_e;if(be===null){for(;Re<G.length;Re++)be=oe(H,G[Re],ae),be!==null&&(B=v(be,B,Re),Ne===null?_e=be:Ne.sibling=be,Ne=be);return dt&&pi(H,Re),_e}for(be=h(H,be);Re<G.length;Re++)Ot=he(be,H,Re,G[Re],ae),Ot!==null&&(r&&Ot.alternate!==null&&be.delete(Ot.key===null?Re:Ot.key),B=v(Ot,B,Re),Ne===null?_e=Ot:Ne.sibling=Ot,Ne=Ot);return r&&be.forEach(function(Rs){return i(H,Rs)}),dt&&pi(H,Re),_e}function xe(H,B,G,ae){var _e=fe(G);if(typeof _e!="function")throw Error(n(150));if(G=_e.call(G),G==null)throw Error(n(151));for(var Ne=_e=null,be=B,Re=B=0,Ot=null,Qe=G.next();be!==null&&!Qe.done;Re++,Qe=G.next()){be.index>Re?(Ot=be,be=null):Ot=be.sibling;var Rs=te(H,be,Qe.value,ae);if(Rs===null){be===null&&(be=Ot);break}r&&be&&Rs.alternate===null&&i(H,be),B=v(Rs,B,Re),Ne===null?_e=Rs:Ne.sibling=Rs,Ne=Rs,be=Ot}if(Qe.done)return l(H,be),dt&&pi(H,Re),_e;if(be===null){for(;!Qe.done;Re++,Qe=G.next())Qe=oe(H,Qe.value,ae),Qe!==null&&(B=v(Qe,B,Re),Ne===null?_e=Qe:Ne.sibling=Qe,Ne=Qe);return dt&&pi(H,Re),_e}for(be=h(H,be);!Qe.done;Re++,Qe=G.next())Qe=he(be,H,Re,Qe.value,ae),Qe!==null&&(r&&Qe.alternate!==null&&be.delete(Qe.key===null?Re:Qe.key),B=v(Qe,B,Re),Ne===null?_e=Qe:Ne.sibling=Qe,Ne=Qe);return r&&be.forEach(function(BT){return i(H,BT)}),dt&&pi(H,Re),_e}function wt(H,B,G,ae){if(typeof G=="object"&&G!==null&&G.type===j&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case ue:e:{for(var _e=G.key,Ne=B;Ne!==null;){if(Ne.key===_e){if(_e=G.type,_e===j){if(Ne.tag===7){l(H,Ne.sibling),B=p(Ne,G.props.children),B.return=H,H=B;break e}}else if(Ne.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ke&&tg(_e)===Ne.type){l(H,Ne.sibling),B=p(Ne,G.props),B.ref=Ca(H,Ne,G),B.return=H,H=B;break e}l(H,Ne);break}else i(H,Ne);Ne=Ne.sibling}G.type===j?(B=Ti(G.props.children,H.mode,ae,G.key),B.return=H,H=B):(ae=$c(G.type,G.key,G.props,null,H.mode,ae),ae.ref=Ca(H,B,G),ae.return=H,H=ae)}return T(H);case q:e:{for(Ne=G.key;B!==null;){if(B.key===Ne)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){l(H,B.sibling),B=p(B,G.children||[]),B.return=H,H=B;break e}else{l(H,B);break}else i(H,B);B=B.sibling}B=Rh(G,H.mode,ae),B.return=H,H=B}return T(H);case ke:return Ne=G._init,wt(H,B,Ne(G._payload),ae)}if(zt(G))return ye(H,B,G,ae);if(fe(G))return xe(H,B,G,ae);xc(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,B!==null&&B.tag===6?(l(H,B.sibling),B=p(B,G),B.return=H,H=B):(l(H,B),B=Ih(G,H.mode,ae),B.return=H,H=B),T(H)):l(H,B)}return wt}var So=ng(!0),rg=ng(!1),wc=_s(null),_c=null,Po=null,Ud=null;function zd(){Ud=Po=_c=null}function $d(r){var i=wc.current;lt(wc),r._currentValue=i}function Wd(r,i,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),r===l)break;r=r.return}}function Ao(r,i){_c=r,Ud=Po=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(xn=!0),r.firstContext=null)}function Qn(r){var i=r._currentValue;if(Ud!==r)if(r={context:r,memoizedValue:i,next:null},Po===null){if(_c===null)throw Error(n(308));Po=r,_c.dependencies={lanes:0,firstContext:r}}else Po=Po.next=r;return i}var gi=null;function Hd(r){gi===null?gi=[r]:gi.push(r)}function sg(r,i,l,h){var p=i.interleaved;return p===null?(l.next=l,Hd(i)):(l.next=p.next,p.next=l),i.interleaved=l,Xr(r,h)}function Xr(r,i){r.lanes|=i;var l=r.alternate;for(l!==null&&(l.lanes|=i),l=r,r=r.return;r!==null;)r.childLanes|=i,l=r.alternate,l!==null&&(l.childLanes|=i),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Ns=!1;function Gd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ig(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Jr(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function bs(r,i,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(qe&2)!==0){var p=h.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),h.pending=i,Xr(r,l)}return p=h.interleaved,p===null?(i.next=i,Hd(h)):(i.next=p.next,p.next=i),h.interleaved=i,Xr(r,l)}function Ec(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var h=i.lanes;h&=r.pendingLanes,l|=h,i.lanes=l,ms(r,l)}}function og(r,i){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?p=v=T:v=v.next=T,l=l.next}while(l!==null);v===null?p=v=i:v=v.next=i}else p=v=i;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}function Tc(r,i,l,h){var p=r.updateQueue;Ns=!1;var v=p.firstBaseUpdate,T=p.lastBaseUpdate,I=p.shared.pending;if(I!==null){p.shared.pending=null;var M=I,K=M.next;M.next=null,T===null?v=K:T.next=K,T=M;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,I=ne.lastBaseUpdate,I!==T&&(I===null?ne.firstBaseUpdate=K:I.next=K,ne.lastBaseUpdate=M))}if(v!==null){var oe=p.baseState;T=0,ne=K=M=null,I=v;do{var te=I.lane,he=I.eventTime;if((h&te)===te){ne!==null&&(ne=ne.next={eventTime:he,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var ye=r,xe=I;switch(te=i,he=l,xe.tag){case 1:if(ye=xe.payload,typeof ye=="function"){oe=ye.call(he,oe,te);break e}oe=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=xe.payload,te=typeof ye=="function"?ye.call(he,oe,te):ye,te==null)break e;oe=le({},oe,te);break e;case 2:Ns=!0}}I.callback!==null&&I.lane!==0&&(r.flags|=64,te=p.effects,te===null?p.effects=[I]:te.push(I))}else he={eventTime:he,lane:te,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ne===null?(K=ne=he,M=oe):ne=ne.next=he,T|=te;if(I=I.next,I===null){if(I=p.shared.pending,I===null)break;te=I,I=te.next,te.next=null,p.lastBaseUpdate=te,p.shared.pending=null}}while(!0);if(ne===null&&(M=oe),p.baseState=M,p.firstBaseUpdate=K,p.lastBaseUpdate=ne,i=p.shared.interleaved,i!==null){p=i;do T|=p.lane,p=p.next;while(p!==i)}else v===null&&(p.shared.lanes=0);xi|=T,r.lanes=T,r.memoizedState=oe}}function ag(r,i,l){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var h=r[i],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(n(191,p));p.call(h)}}}var Ia={},jr=_s(Ia),Ra=_s(Ia),ka=_s(Ia);function yi(r){if(r===Ia)throw Error(n(174));return r}function qd(r,i){switch(it(ka,i),it(Ra,r),it(jr,Ia),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ie(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Ie(i,r)}lt(jr),it(jr,i)}function jo(){lt(jr),lt(Ra),lt(ka)}function lg(r){yi(ka.current);var i=yi(jr.current),l=Ie(i,r.type);i!==l&&(it(Ra,r),it(jr,l))}function Kd(r){Ra.current===r&&(lt(jr),lt(Ra))}var ft=_s(0);function Nc(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qd=[];function Yd(){for(var r=0;r<Qd.length;r++)Qd[r]._workInProgressVersionPrimary=null;Qd.length=0}var bc=X.ReactCurrentDispatcher,Xd=X.ReactCurrentBatchConfig,vi=0,mt=null,jt=null,Mt=null,Sc=!1,Va=!1,Da=0,lT=0;function Zt(){throw Error(n(321))}function Jd(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!dr(r[l],i[l]))return!1;return!0}function Zd(r,i,l,h,p,v){if(vi=v,mt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,bc.current=r===null||r.memoizedState===null?hT:fT,r=l(h,p),Va){v=0;do{if(Va=!1,Da=0,25<=v)throw Error(n(301));v+=1,Mt=jt=null,i.updateQueue=null,bc.current=mT,r=l(h,p)}while(Va)}if(bc.current=jc,i=jt!==null&&jt.next!==null,vi=0,Mt=jt=mt=null,Sc=!1,i)throw Error(n(300));return r}function eh(){var r=Da!==0;return Da=0,r}function Cr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?mt.memoizedState=Mt=r:Mt=Mt.next=r,Mt}function Yn(){if(jt===null){var r=mt.alternate;r=r!==null?r.memoizedState:null}else r=jt.next;var i=Mt===null?mt.memoizedState:Mt.next;if(i!==null)Mt=i,jt=r;else{if(r===null)throw Error(n(310));jt=r,r={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Mt===null?mt.memoizedState=Mt=r:Mt=Mt.next=r}return Mt}function La(r,i){return typeof i=="function"?i(r):i}function th(r){var i=Yn(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var h=jt,p=h.baseQueue,v=l.pending;if(v!==null){if(p!==null){var T=p.next;p.next=v.next,v.next=T}h.baseQueue=p=v,l.pending=null}if(p!==null){v=p.next,h=h.baseState;var I=T=null,M=null,K=v;do{var ne=K.lane;if((vi&ne)===ne)M!==null&&(M=M.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),h=K.hasEagerState?K.eagerState:r(h,K.action);else{var oe={lane:ne,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};M===null?(I=M=oe,T=h):M=M.next=oe,mt.lanes|=ne,xi|=ne}K=K.next}while(K!==null&&K!==v);M===null?T=h:M.next=I,dr(h,i.memoizedState)||(xn=!0),i.memoizedState=h,i.baseState=T,i.baseQueue=M,l.lastRenderedState=h}if(r=l.interleaved,r!==null){p=r;do v=p.lane,mt.lanes|=v,xi|=v,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function nh(r){var i=Yn(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var h=l.dispatch,p=l.pending,v=i.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do v=r(v,T.action),T=T.next;while(T!==p);dr(v,i.memoizedState)||(xn=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,h]}function cg(){}function ug(r,i){var l=mt,h=Yn(),p=i(),v=!dr(h.memoizedState,p);if(v&&(h.memoizedState=p,xn=!0),h=h.queue,rh(fg.bind(null,l,h,r),[r]),h.getSnapshot!==i||v||Mt!==null&&Mt.memoizedState.tag&1){if(l.flags|=2048,Ma(9,hg.bind(null,l,h,p,i),void 0,null),Ft===null)throw Error(n(349));(vi&30)!==0||dg(l,i,p)}return p}function dg(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=mt.updateQueue,i===null?(i={lastEffect:null,stores:null},mt.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function hg(r,i,l,h){i.value=l,i.getSnapshot=h,mg(i)&&pg(r)}function fg(r,i,l){return l(function(){mg(i)&&pg(r)})}function mg(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!dr(r,l)}catch{return!0}}function pg(r){var i=Xr(r,1);i!==null&&gr(i,r,1,-1)}function gg(r){var i=Cr();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:r},i.queue=r,r=r.dispatch=dT.bind(null,mt,r),[i.memoizedState,r]}function Ma(r,i,l,h){return r={tag:r,create:i,destroy:l,deps:h,next:null},i=mt.updateQueue,i===null?(i={lastEffect:null,stores:null},mt.updateQueue=i,i.lastEffect=r.next=r):(l=i.lastEffect,l===null?i.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,i.lastEffect=r)),r}function yg(){return Yn().memoizedState}function Pc(r,i,l,h){var p=Cr();mt.flags|=r,p.memoizedState=Ma(1|i,l,void 0,h===void 0?null:h)}function Ac(r,i,l,h){var p=Yn();h=h===void 0?null:h;var v=void 0;if(jt!==null){var T=jt.memoizedState;if(v=T.destroy,h!==null&&Jd(h,T.deps)){p.memoizedState=Ma(i,l,v,h);return}}mt.flags|=r,p.memoizedState=Ma(1|i,l,v,h)}function vg(r,i){return Pc(8390656,8,r,i)}function rh(r,i){return Ac(2048,8,r,i)}function xg(r,i){return Ac(4,2,r,i)}function wg(r,i){return Ac(4,4,r,i)}function _g(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Eg(r,i,l){return l=l!=null?l.concat([r]):null,Ac(4,4,_g.bind(null,i,r),l)}function sh(){}function Tg(r,i){var l=Yn();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&Jd(i,h[1])?h[0]:(l.memoizedState=[r,i],r)}function Ng(r,i){var l=Yn();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&Jd(i,h[1])?h[0]:(r=r(),l.memoizedState=[r,i],r)}function bg(r,i,l){return(vi&21)===0?(r.baseState&&(r.baseState=!1,xn=!0),r.memoizedState=l):(dr(l,i)||(l=ai(),mt.lanes|=l,xi|=l,r.baseState=!0),i)}function cT(r,i){var l=We;We=l!==0&&4>l?l:4,r(!0);var h=Xd.transition;Xd.transition={};try{r(!1),i()}finally{We=l,Xd.transition=h}}function Sg(){return Yn().memoizedState}function uT(r,i,l){var h=js(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Pg(r))Ag(i,l);else if(l=sg(r,i,l,h),l!==null){var p=dn();gr(l,r,h,p),jg(l,i,h)}}function dT(r,i,l){var h=js(r),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Pg(r))Ag(i,p);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var T=i.lastRenderedState,I=v(T,l);if(p.hasEagerState=!0,p.eagerState=I,dr(I,T)){var M=i.interleaved;M===null?(p.next=p,Hd(i)):(p.next=M.next,M.next=p),i.interleaved=p;return}}catch{}finally{}l=sg(r,i,p,h),l!==null&&(p=dn(),gr(l,r,h,p),jg(l,i,h))}}function Pg(r){var i=r.alternate;return r===mt||i!==null&&i===mt}function Ag(r,i){Va=Sc=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function jg(r,i,l){if((l&4194240)!==0){var h=i.lanes;h&=r.pendingLanes,l|=h,i.lanes=l,ms(r,l)}}var jc={readContext:Qn,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},hT={readContext:Qn,useCallback:function(r,i){return Cr().memoizedState=[r,i===void 0?null:i],r},useContext:Qn,useEffect:vg,useImperativeHandle:function(r,i,l){return l=l!=null?l.concat([r]):null,Pc(4194308,4,_g.bind(null,i,r),l)},useLayoutEffect:function(r,i){return Pc(4194308,4,r,i)},useInsertionEffect:function(r,i){return Pc(4,2,r,i)},useMemo:function(r,i){var l=Cr();return i=i===void 0?null:i,r=r(),l.memoizedState=[r,i],r},useReducer:function(r,i,l){var h=Cr();return i=l!==void 0?l(i):i,h.memoizedState=h.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},h.queue=r,r=r.dispatch=uT.bind(null,mt,r),[h.memoizedState,r]},useRef:function(r){var i=Cr();return r={current:r},i.memoizedState=r},useState:gg,useDebugValue:sh,useDeferredValue:function(r){return Cr().memoizedState=r},useTransition:function(){var r=gg(!1),i=r[0];return r=cT.bind(null,r[1]),Cr().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,l){var h=mt,p=Cr();if(dt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),Ft===null)throw Error(n(349));(vi&30)!==0||dg(h,i,l)}p.memoizedState=l;var v={value:l,getSnapshot:i};return p.queue=v,vg(fg.bind(null,h,v,r),[r]),h.flags|=2048,Ma(9,hg.bind(null,h,v,l,i),void 0,null),l},useId:function(){var r=Cr(),i=Ft.identifierPrefix;if(dt){var l=Yr,h=Qr;l=(h&~(1<<32-ln(h)-1)).toString(32)+l,i=":"+i+"R"+l,l=Da++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=lT++,i=":"+i+"r"+l.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},fT={readContext:Qn,useCallback:Tg,useContext:Qn,useEffect:rh,useImperativeHandle:Eg,useInsertionEffect:xg,useLayoutEffect:wg,useMemo:Ng,useReducer:th,useRef:yg,useState:function(){return th(La)},useDebugValue:sh,useDeferredValue:function(r){var i=Yn();return bg(i,jt.memoizedState,r)},useTransition:function(){var r=th(La)[0],i=Yn().memoizedState;return[r,i]},useMutableSource:cg,useSyncExternalStore:ug,useId:Sg,unstable_isNewReconciler:!1},mT={readContext:Qn,useCallback:Tg,useContext:Qn,useEffect:rh,useImperativeHandle:Eg,useInsertionEffect:xg,useLayoutEffect:wg,useMemo:Ng,useReducer:nh,useRef:yg,useState:function(){return nh(La)},useDebugValue:sh,useDeferredValue:function(r){var i=Yn();return jt===null?i.memoizedState=r:bg(i,jt.memoizedState,r)},useTransition:function(){var r=nh(La)[0],i=Yn().memoizedState;return[r,i]},useMutableSource:cg,useSyncExternalStore:ug,useId:Sg,unstable_isNewReconciler:!1};function fr(r,i){if(r&&r.defaultProps){i=le({},i),r=r.defaultProps;for(var l in r)i[l]===void 0&&(i[l]=r[l]);return i}return i}function ih(r,i,l,h){i=r.memoizedState,l=l(h,i),l=l==null?i:le({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Cc={isMounted:function(r){return(r=r._reactInternals)?sr(r)===r:!1},enqueueSetState:function(r,i,l){r=r._reactInternals;var h=dn(),p=js(r),v=Jr(h,p);v.payload=i,l!=null&&(v.callback=l),i=bs(r,v,p),i!==null&&(gr(i,r,p,h),Ec(i,r,p))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var h=dn(),p=js(r),v=Jr(h,p);v.tag=1,v.payload=i,l!=null&&(v.callback=l),i=bs(r,v,p),i!==null&&(gr(i,r,p,h),Ec(i,r,p))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=dn(),h=js(r),p=Jr(l,h);p.tag=2,i!=null&&(p.callback=i),i=bs(r,p,h),i!==null&&(gr(i,r,h,l),Ec(i,r,h))}};function Cg(r,i,l,h,p,v,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,v,T):i.prototype&&i.prototype.isPureReactComponent?!Ta(l,h)||!Ta(p,v):!0}function Ig(r,i,l){var h=!1,p=Es,v=i.contextType;return typeof v=="object"&&v!==null?v=Qn(v):(p=vn(i)?fi:Jt.current,h=i.contextTypes,v=(h=h!=null)?Eo(r,p):Es),i=new i(l,v),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Cc,r.stateNode=i,i._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=v),i}function Rg(r,i,l,h){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,h),i.state!==r&&Cc.enqueueReplaceState(i,i.state,null)}function oh(r,i,l,h){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},Gd(r);var v=i.contextType;typeof v=="object"&&v!==null?p.context=Qn(v):(v=vn(i)?fi:Jt.current,p.context=Eo(r,v)),p.state=r.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(ih(r,i,v,l),p.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&Cc.enqueueReplaceState(p,p.state,null),Tc(r,l,p,h),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Co(r,i){try{var l="",h=i;do l+=Te(h),h=h.return;while(h);var p=l}catch(v){p=`
Error generating stack: `+v.message+`
`+v.stack}return{value:r,source:i,stack:p,digest:null}}function ah(r,i,l){return{value:r,source:null,stack:l??null,digest:i??null}}function lh(r,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var pT=typeof WeakMap=="function"?WeakMap:Map;function kg(r,i,l){l=Jr(-1,l),l.tag=3,l.payload={element:null};var h=i.value;return l.callback=function(){Mc||(Mc=!0,Th=h),lh(r,i)},l}function Vg(r,i,l){l=Jr(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var p=i.value;l.payload=function(){return h(p)},l.callback=function(){lh(r,i)}}var v=r.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){lh(r,i),typeof h!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var T=i.stack;this.componentDidCatch(i.value,{componentStack:T!==null?T:""})}),l}function Dg(r,i,l){var h=r.pingCache;if(h===null){h=r.pingCache=new pT;var p=new Set;h.set(i,p)}else p=h.get(i),p===void 0&&(p=new Set,h.set(i,p));p.has(l)||(p.add(l),r=jT.bind(null,r,i,l),i.then(r,r))}function Lg(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Mg(r,i,l,h,p){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Jr(-1,1),i.tag=2,bs(l,i,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var gT=X.ReactCurrentOwner,xn=!1;function un(r,i,l,h){i.child=r===null?rg(i,null,l,h):So(i,r.child,l,h)}function Fg(r,i,l,h,p){l=l.render;var v=i.ref;return Ao(i,p),h=Zd(r,i,l,h,v,p),l=eh(),r!==null&&!xn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,Zr(r,i,p)):(dt&&l&&Ld(i),i.flags|=1,un(r,i,h,p),i.child)}function Og(r,i,l,h,p){if(r===null){var v=l.type;return typeof v=="function"&&!Ch(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=v,Bg(r,i,v,h,p)):(r=$c(l.type,null,h,i,i.mode,p),r.ref=i.ref,r.return=i,i.child=r)}if(v=r.child,(r.lanes&p)===0){var T=v.memoizedProps;if(l=l.compare,l=l!==null?l:Ta,l(T,h)&&r.ref===i.ref)return Zr(r,i,p)}return i.flags|=1,r=Is(v,h),r.ref=i.ref,r.return=i,i.child=r}function Bg(r,i,l,h,p){if(r!==null){var v=r.memoizedProps;if(Ta(v,h)&&r.ref===i.ref)if(xn=!1,i.pendingProps=h=v,(r.lanes&p)!==0)(r.flags&131072)!==0&&(xn=!0);else return i.lanes=r.lanes,Zr(r,i,p)}return ch(r,i,l,h,p)}function Ug(r,i,l){var h=i.pendingProps,p=h.children,v=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(Ro,Dn),Dn|=l;else{if((l&1073741824)===0)return r=v!==null?v.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,it(Ro,Dn),Dn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:l,it(Ro,Dn),Dn|=h}else v!==null?(h=v.baseLanes|l,i.memoizedState=null):h=l,it(Ro,Dn),Dn|=h;return un(r,i,p,l),i.child}function zg(r,i){var l=i.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function ch(r,i,l,h,p){var v=vn(l)?fi:Jt.current;return v=Eo(i,v),Ao(i,p),l=Zd(r,i,l,h,v,p),h=eh(),r!==null&&!xn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,Zr(r,i,p)):(dt&&h&&Ld(i),i.flags|=1,un(r,i,l,p),i.child)}function $g(r,i,l,h,p){if(vn(l)){var v=!0;mc(i)}else v=!1;if(Ao(i,p),i.stateNode===null)Rc(r,i),Ig(i,l,h),oh(i,l,h,p),h=!0;else if(r===null){var T=i.stateNode,I=i.memoizedProps;T.props=I;var M=T.context,K=l.contextType;typeof K=="object"&&K!==null?K=Qn(K):(K=vn(l)?fi:Jt.current,K=Eo(i,K));var ne=l.getDerivedStateFromProps,oe=typeof ne=="function"||typeof T.getSnapshotBeforeUpdate=="function";oe||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(I!==h||M!==K)&&Rg(i,T,h,K),Ns=!1;var te=i.memoizedState;T.state=te,Tc(i,h,T,p),M=i.memoizedState,I!==h||te!==M||yn.current||Ns?(typeof ne=="function"&&(ih(i,l,ne,h),M=i.memoizedState),(I=Ns||Cg(i,l,I,h,te,M,K))?(oe||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(i.flags|=4194308)):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=M),T.props=h,T.state=M,T.context=K,h=I):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{T=i.stateNode,ig(r,i),I=i.memoizedProps,K=i.type===i.elementType?I:fr(i.type,I),T.props=K,oe=i.pendingProps,te=T.context,M=l.contextType,typeof M=="object"&&M!==null?M=Qn(M):(M=vn(l)?fi:Jt.current,M=Eo(i,M));var he=l.getDerivedStateFromProps;(ne=typeof he=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(I!==oe||te!==M)&&Rg(i,T,h,M),Ns=!1,te=i.memoizedState,T.state=te,Tc(i,h,T,p);var ye=i.memoizedState;I!==oe||te!==ye||yn.current||Ns?(typeof he=="function"&&(ih(i,l,he,h),ye=i.memoizedState),(K=Ns||Cg(i,l,K,h,te,ye,M)||!1)?(ne||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,ye,M),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,ye,M)),typeof T.componentDidUpdate=="function"&&(i.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof T.componentDidUpdate!="function"||I===r.memoizedProps&&te===r.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&te===r.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=ye),T.props=h,T.state=ye,T.context=M,h=K):(typeof T.componentDidUpdate!="function"||I===r.memoizedProps&&te===r.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&te===r.memoizedState||(i.flags|=1024),h=!1)}return uh(r,i,l,h,v,p)}function uh(r,i,l,h,p,v){zg(r,i);var T=(i.flags&128)!==0;if(!h&&!T)return p&&Kp(i,l,!1),Zr(r,i,v);h=i.stateNode,gT.current=i;var I=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,r!==null&&T?(i.child=So(i,r.child,null,v),i.child=So(i,null,I,v)):un(r,i,I,v),i.memoizedState=h.state,p&&Kp(i,l,!0),i.child}function Wg(r){var i=r.stateNode;i.pendingContext?Gp(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Gp(r,i.context,!1),qd(r,i.containerInfo)}function Hg(r,i,l,h,p){return bo(),Bd(p),i.flags|=256,un(r,i,l,h),i.child}var dh={dehydrated:null,treeContext:null,retryLane:0};function hh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Gg(r,i,l){var h=i.pendingProps,p=ft.current,v=!1,T=(i.flags&128)!==0,I;if((I=T)||(I=r!==null&&r.memoizedState===null?!1:(p&2)!==0),I?(v=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),it(ft,p&1),r===null)return Od(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(T=h.children,r=h.fallback,v?(h=i.mode,v=i.child,T={mode:"hidden",children:T},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=T):v=Wc(T,h,0,null),r=Ti(r,h,l,null),v.return=i,r.return=i,v.sibling=r,i.child=v,i.child.memoizedState=hh(l),i.memoizedState=dh,r):fh(i,T));if(p=r.memoizedState,p!==null&&(I=p.dehydrated,I!==null))return yT(r,i,T,h,I,p,l);if(v){v=h.fallback,T=i.mode,p=r.child,I=p.sibling;var M={mode:"hidden",children:h.children};return(T&1)===0&&i.child!==p?(h=i.child,h.childLanes=0,h.pendingProps=M,i.deletions=null):(h=Is(p,M),h.subtreeFlags=p.subtreeFlags&14680064),I!==null?v=Is(I,v):(v=Ti(v,T,l,null),v.flags|=2),v.return=i,h.return=i,h.sibling=v,i.child=h,h=v,v=i.child,T=r.child.memoizedState,T=T===null?hh(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=r.childLanes&~l,i.memoizedState=dh,h}return v=r.child,r=v.sibling,h=Is(v,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=l),h.return=i,h.sibling=null,r!==null&&(l=i.deletions,l===null?(i.deletions=[r],i.flags|=16):l.push(r)),i.child=h,i.memoizedState=null,h}function fh(r,i){return i=Wc({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Ic(r,i,l,h){return h!==null&&Bd(h),So(i,r.child,null,l),r=fh(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function yT(r,i,l,h,p,v,T){if(l)return i.flags&256?(i.flags&=-257,h=ah(Error(n(422))),Ic(r,i,T,h)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(v=h.fallback,p=i.mode,h=Wc({mode:"visible",children:h.children},p,0,null),v=Ti(v,p,T,null),v.flags|=2,h.return=i,v.return=i,h.sibling=v,i.child=h,(i.mode&1)!==0&&So(i,r.child,null,T),i.child.memoizedState=hh(T),i.memoizedState=dh,v);if((i.mode&1)===0)return Ic(r,i,T,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var I=h.dgst;return h=I,v=Error(n(419)),h=ah(v,h,void 0),Ic(r,i,T,h)}if(I=(T&r.childLanes)!==0,xn||I){if(h=Ft,h!==null){switch(T&-T){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|T))!==0?0:p,p!==0&&p!==v.retryLane&&(v.retryLane=p,Xr(r,p),gr(h,r,p,-1))}return jh(),h=ah(Error(n(421))),Ic(r,i,T,h)}return p.data==="$?"?(i.flags|=128,i.child=r.child,i=CT.bind(null,r),p._reactRetry=i,null):(r=v.treeContext,Vn=ws(p.nextSibling),kn=i,dt=!0,hr=null,r!==null&&(qn[Kn++]=Qr,qn[Kn++]=Yr,qn[Kn++]=mi,Qr=r.id,Yr=r.overflow,mi=i),i=fh(i,h.children),i.flags|=4096,i)}function qg(r,i,l){r.lanes|=i;var h=r.alternate;h!==null&&(h.lanes|=i),Wd(r.return,i,l)}function mh(r,i,l,h,p){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=l,v.tailMode=p)}function Kg(r,i,l){var h=i.pendingProps,p=h.revealOrder,v=h.tail;if(un(r,i,h.children,l),h=ft.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&qg(r,l,i);else if(r.tag===19)qg(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(it(ft,h),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(l=i.child,p=null;l!==null;)r=l.alternate,r!==null&&Nc(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),mh(i,!1,p,l,v);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(r=p.alternate,r!==null&&Nc(r)===null){i.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}mh(i,!0,l,null,v);break;case"together":mh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Rc(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Zr(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),xi|=i.lanes,(l&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,l=Is(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=Is(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function vT(r,i,l){switch(i.tag){case 3:Wg(i),bo();break;case 5:lg(i);break;case 1:vn(i.type)&&mc(i);break;case 4:qd(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,p=i.memoizedProps.value;it(wc,h._currentValue),h._currentValue=p;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(it(ft,ft.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?Gg(r,i,l):(it(ft,ft.current&1),r=Zr(r,i,l),r!==null?r.sibling:null);it(ft,ft.current&1);break;case 19:if(h=(l&i.childLanes)!==0,(r.flags&128)!==0){if(h)return Kg(r,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),it(ft,ft.current),h)break;return null;case 22:case 23:return i.lanes=0,Ug(r,i,l)}return Zr(r,i,l)}var Qg,ph,Yg,Xg;Qg=function(r,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},ph=function(){},Yg=function(r,i,l,h){var p=r.memoizedProps;if(p!==h){r=i.stateNode,yi(jr.current);var v=null;switch(l){case"input":p=Pt(r,p),h=Pt(r,h),v=[];break;case"select":p=le({},p,{value:void 0}),h=le({},h,{value:void 0}),v=[];break;case"textarea":p=ie(r,p),h=ie(r,h),v=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=dc)}sa(l,h);var T;l=null;for(K in p)if(!h.hasOwnProperty(K)&&p.hasOwnProperty(K)&&p[K]!=null)if(K==="style"){var I=p[K];for(T in I)I.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(o.hasOwnProperty(K)?v||(v=[]):(v=v||[]).push(K,null));for(K in h){var M=h[K];if(I=p!=null?p[K]:void 0,h.hasOwnProperty(K)&&M!==I&&(M!=null||I!=null))if(K==="style")if(I){for(T in I)!I.hasOwnProperty(T)||M&&M.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in M)M.hasOwnProperty(T)&&I[T]!==M[T]&&(l||(l={}),l[T]=M[T])}else l||(v||(v=[]),v.push(K,l)),l=M;else K==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,I=I?I.__html:void 0,M!=null&&I!==M&&(v=v||[]).push(K,M)):K==="children"?typeof M!="string"&&typeof M!="number"||(v=v||[]).push(K,""+M):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(o.hasOwnProperty(K)?(M!=null&&K==="onScroll"&&at("scroll",r),v||I===M||(v=[])):(v=v||[]).push(K,M))}l&&(v=v||[]).push("style",l);var K=v;(i.updateQueue=K)&&(i.flags|=4)}},Xg=function(r,i,l,h){l!==h&&(i.flags|=4)};function Fa(r,i){if(!dt)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function en(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(i)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=h,r.childLanes=l,i}function xT(r,i,l){var h=i.pendingProps;switch(Md(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(i),null;case 1:return vn(i.type)&&fc(),en(i),null;case 3:return h=i.stateNode,jo(),lt(yn),lt(Jt),Yd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(vc(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,hr!==null&&(Sh(hr),hr=null))),ph(r,i),en(i),null;case 5:Kd(i);var p=yi(ka.current);if(l=i.type,r!==null&&i.stateNode!=null)Yg(r,i,l,h,p),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(n(166));return en(i),null}if(r=yi(jr.current),vc(i)){h=i.stateNode,l=i.type;var v=i.memoizedProps;switch(h[Ar]=i,h[Aa]=v,r=(i.mode&1)!==0,l){case"dialog":at("cancel",h),at("close",h);break;case"iframe":case"object":case"embed":at("load",h);break;case"video":case"audio":for(p=0;p<ba.length;p++)at(ba[p],h);break;case"source":at("error",h);break;case"img":case"image":case"link":at("error",h),at("load",h);break;case"details":at("toggle",h);break;case"input":Ut(h,v),at("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},at("invalid",h);break;case"textarea":J(h,v),at("invalid",h)}sa(l,v),p=null;for(var T in v)if(v.hasOwnProperty(T)){var I=v[T];T==="children"?typeof I=="string"?h.textContent!==I&&(v.suppressHydrationWarning!==!0&&uc(h.textContent,I,r),p=["children",I]):typeof I=="number"&&h.textContent!==""+I&&(v.suppressHydrationWarning!==!0&&uc(h.textContent,I,r),p=["children",""+I]):o.hasOwnProperty(T)&&I!=null&&T==="onScroll"&&at("scroll",h)}switch(l){case"input":ct(h),zn(h,v,!0);break;case"textarea":ct(h),ve(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=dc)}h=p,i.updateQueue=h,h!==null&&(i.flags|=4)}else{T=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=de(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=T.createElement(l,{is:h.is}):(r=T.createElement(l),l==="select"&&(T=r,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):r=T.createElementNS(r,l),r[Ar]=i,r[Aa]=h,Qg(r,i,!1,!1),i.stateNode=r;e:{switch(T=ia(l,h),l){case"dialog":at("cancel",r),at("close",r),p=h;break;case"iframe":case"object":case"embed":at("load",r),p=h;break;case"video":case"audio":for(p=0;p<ba.length;p++)at(ba[p],r);p=h;break;case"source":at("error",r),p=h;break;case"img":case"image":case"link":at("error",r),at("load",r),p=h;break;case"details":at("toggle",r),p=h;break;case"input":Ut(r,h),p=Pt(r,h),at("invalid",r);break;case"option":p=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},p=le({},h,{value:void 0}),at("invalid",r);break;case"textarea":J(r,h),p=ie(r,h),at("invalid",r);break;default:p=h}sa(l,p),I=p;for(v in I)if(I.hasOwnProperty(v)){var M=I[v];v==="style"?Js(r,M):v==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&xr(r,M)):v==="children"?typeof M=="string"?(l!=="textarea"||M!=="")&&wr(r,M):typeof M=="number"&&wr(r,""+M):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?M!=null&&v==="onScroll"&&at("scroll",r):M!=null&&z(r,v,M,T))}switch(l){case"input":ct(r),zn(r,h,!1);break;case"textarea":ct(r),ve(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Be(h.value));break;case"select":r.multiple=!!h.multiple,v=h.value,v!=null?$t(r,!!h.multiple,v,!1):h.defaultValue!=null&&$t(r,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=dc)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return en(i),null;case 6:if(r&&i.stateNode!=null)Xg(r,i,r.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(n(166));if(l=yi(ka.current),yi(jr.current),vc(i)){if(h=i.stateNode,l=i.memoizedProps,h[Ar]=i,(v=h.nodeValue!==l)&&(r=kn,r!==null))switch(r.tag){case 3:uc(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&uc(h.nodeValue,l,(r.mode&1)!==0)}v&&(i.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Ar]=i,i.stateNode=h}return en(i),null;case 13:if(lt(ft),h=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(dt&&Vn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)eg(),bo(),i.flags|=98560,v=!1;else if(v=vc(i),h!==null&&h.dehydrated!==null){if(r===null){if(!v)throw Error(n(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Ar]=i}else bo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;en(i),v=!1}else hr!==null&&(Sh(hr),hr=null),v=!0;if(!v)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(ft.current&1)!==0?Ct===0&&(Ct=3):jh())),i.updateQueue!==null&&(i.flags|=4),en(i),null);case 4:return jo(),ph(r,i),r===null&&Sa(i.stateNode.containerInfo),en(i),null;case 10:return $d(i.type._context),en(i),null;case 17:return vn(i.type)&&fc(),en(i),null;case 19:if(lt(ft),v=i.memoizedState,v===null)return en(i),null;if(h=(i.flags&128)!==0,T=v.rendering,T===null)if(h)Fa(v,!1);else{if(Ct!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(T=Nc(r),T!==null){for(i.flags|=128,Fa(v,!1),h=T.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=l,l=i.child;l!==null;)v=l,r=h,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=r,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,r=T.dependencies,v.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return it(ft,ft.current&1|2),i.child}r=r.sibling}v.tail!==null&&st()>ko&&(i.flags|=128,h=!0,Fa(v,!1),i.lanes=4194304)}else{if(!h)if(r=Nc(T),r!==null){if(i.flags|=128,h=!0,l=r.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),Fa(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!dt)return en(i),null}else 2*st()-v.renderingStartTime>ko&&l!==1073741824&&(i.flags|=128,h=!0,Fa(v,!1),i.lanes=4194304);v.isBackwards?(T.sibling=i.child,i.child=T):(l=v.last,l!==null?l.sibling=T:i.child=T,v.last=T)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=st(),i.sibling=null,l=ft.current,it(ft,h?l&1|2:l&1),i):(en(i),null);case 22:case 23:return Ah(),h=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(Dn&1073741824)!==0&&(en(i),i.subtreeFlags&6&&(i.flags|=8192)):en(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function wT(r,i){switch(Md(i),i.tag){case 1:return vn(i.type)&&fc(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return jo(),lt(yn),lt(Jt),Yd(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Kd(i),null;case 13:if(lt(ft),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));bo()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return lt(ft),null;case 4:return jo(),null;case 10:return $d(i.type._context),null;case 22:case 23:return Ah(),null;case 24:return null;default:return null}}var kc=!1,tn=!1,_T=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Io(r,i){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){vt(r,i,h)}else l.current=null}function gh(r,i,l){try{l()}catch(h){vt(r,i,h)}}var Jg=!1;function ET(r,i){if(Ad=ys,r=Cp(),wd(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var T=0,I=-1,M=-1,K=0,ne=0,oe=r,te=null;t:for(;;){for(var he;oe!==l||p!==0&&oe.nodeType!==3||(I=T+p),oe!==v||h!==0&&oe.nodeType!==3||(M=T+h),oe.nodeType===3&&(T+=oe.nodeValue.length),(he=oe.firstChild)!==null;)te=oe,oe=he;for(;;){if(oe===r)break t;if(te===l&&++K===p&&(I=T),te===v&&++ne===h&&(M=T),(he=oe.nextSibling)!==null)break;oe=te,te=oe.parentNode}oe=he}l=I===-1||M===-1?null:{start:I,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(jd={focusedElem:r,selectionRange:l},ys=!1,ge=i;ge!==null;)if(i=ge,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ge=r;else for(;ge!==null;){i=ge;try{var ye=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var xe=ye.memoizedProps,wt=ye.memoizedState,H=i.stateNode,B=H.getSnapshotBeforeUpdate(i.elementType===i.type?xe:fr(i.type,xe),wt);H.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var G=i.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ae){vt(i,i.return,ae)}if(r=i.sibling,r!==null){r.return=i.return,ge=r;break}ge=i.return}return ye=Jg,Jg=!1,ye}function Oa(r,i,l){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&r)===r){var v=p.destroy;p.destroy=void 0,v!==void 0&&gh(i,l,v)}p=p.next}while(p!==h)}}function Vc(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==i)}}function yh(r){var i=r.ref;if(i!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof i=="function"?i(r):i.current=r}}function Zg(r){var i=r.alternate;i!==null&&(r.alternate=null,Zg(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Ar],delete i[Aa],delete i[kd],delete i[sT],delete i[iT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ey(r){return r.tag===5||r.tag===3||r.tag===4}function ty(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ey(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function vh(r,i,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(r,i):l.insertBefore(r,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(r,l)):(i=l,i.appendChild(r)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=dc));else if(h!==4&&(r=r.child,r!==null))for(vh(r,i,l),r=r.sibling;r!==null;)vh(r,i,l),r=r.sibling}function xh(r,i,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(xh(r,i,l),r=r.sibling;r!==null;)xh(r,i,l),r=r.sibling}var Gt=null,mr=!1;function Ss(r,i,l){for(l=l.child;l!==null;)ny(r,i,l),l=l.sibling}function ny(r,i,l){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(ii,l)}catch{}switch(l.tag){case 5:tn||Io(l,i);case 6:var h=Gt,p=mr;Gt=null,Ss(r,i,l),Gt=h,mr=p,Gt!==null&&(mr?(r=Gt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Gt.removeChild(l.stateNode));break;case 18:Gt!==null&&(mr?(r=Gt,l=l.stateNode,r.nodeType===8?Rd(r.parentNode,l):r.nodeType===1&&Rd(r,l),cr(r)):Rd(Gt,l.stateNode));break;case 4:h=Gt,p=mr,Gt=l.stateNode.containerInfo,mr=!0,Ss(r,i,l),Gt=h,mr=p;break;case 0:case 11:case 14:case 15:if(!tn&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var v=p,T=v.destroy;v=v.tag,T!==void 0&&((v&2)!==0||(v&4)!==0)&&gh(l,i,T),p=p.next}while(p!==h)}Ss(r,i,l);break;case 1:if(!tn&&(Io(l,i),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(I){vt(l,i,I)}Ss(r,i,l);break;case 21:Ss(r,i,l);break;case 22:l.mode&1?(tn=(h=tn)||l.memoizedState!==null,Ss(r,i,l),tn=h):Ss(r,i,l);break;default:Ss(r,i,l)}}function ry(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new _T),i.forEach(function(h){var p=IT.bind(null,r,h);l.has(h)||(l.add(h),h.then(p,p))})}}function pr(r,i){var l=i.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var v=r,T=i,I=T;e:for(;I!==null;){switch(I.tag){case 5:Gt=I.stateNode,mr=!1;break e;case 3:Gt=I.stateNode.containerInfo,mr=!0;break e;case 4:Gt=I.stateNode.containerInfo,mr=!0;break e}I=I.return}if(Gt===null)throw Error(n(160));ny(v,T,p),Gt=null,mr=!1;var M=p.alternate;M!==null&&(M.return=null),p.return=null}catch(K){vt(p,i,K)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)sy(i,r),i=i.sibling}function sy(r,i){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(pr(i,r),Ir(r),h&4){try{Oa(3,r,r.return),Vc(3,r)}catch(xe){vt(r,r.return,xe)}try{Oa(5,r,r.return)}catch(xe){vt(r,r.return,xe)}}break;case 1:pr(i,r),Ir(r),h&512&&l!==null&&Io(l,l.return);break;case 5:if(pr(i,r),Ir(r),h&512&&l!==null&&Io(l,l.return),r.flags&32){var p=r.stateNode;try{wr(p,"")}catch(xe){vt(r,r.return,xe)}}if(h&4&&(p=r.stateNode,p!=null)){var v=r.memoizedProps,T=l!==null?l.memoizedProps:v,I=r.type,M=r.updateQueue;if(r.updateQueue=null,M!==null)try{I==="input"&&v.type==="radio"&&v.name!=null&&Un(p,v),ia(I,T);var K=ia(I,v);for(T=0;T<M.length;T+=2){var ne=M[T],oe=M[T+1];ne==="style"?Js(p,oe):ne==="dangerouslySetInnerHTML"?xr(p,oe):ne==="children"?wr(p,oe):z(p,ne,oe,K)}switch(I){case"input":Pn(p,v);break;case"textarea":Z(p,v);break;case"select":var te=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!v.multiple;var he=v.value;he!=null?$t(p,!!v.multiple,he,!1):te!==!!v.multiple&&(v.defaultValue!=null?$t(p,!!v.multiple,v.defaultValue,!0):$t(p,!!v.multiple,v.multiple?[]:"",!1))}p[Aa]=v}catch(xe){vt(r,r.return,xe)}}break;case 6:if(pr(i,r),Ir(r),h&4){if(r.stateNode===null)throw Error(n(162));p=r.stateNode,v=r.memoizedProps;try{p.nodeValue=v}catch(xe){vt(r,r.return,xe)}}break;case 3:if(pr(i,r),Ir(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{cr(i.containerInfo)}catch(xe){vt(r,r.return,xe)}break;case 4:pr(i,r),Ir(r);break;case 13:pr(i,r),Ir(r),p=r.child,p.flags&8192&&(v=p.memoizedState!==null,p.stateNode.isHidden=v,!v||p.alternate!==null&&p.alternate.memoizedState!==null||(Eh=st())),h&4&&ry(r);break;case 22:if(ne=l!==null&&l.memoizedState!==null,r.mode&1?(tn=(K=tn)||ne,pr(i,r),tn=K):pr(i,r),Ir(r),h&8192){if(K=r.memoizedState!==null,(r.stateNode.isHidden=K)&&!ne&&(r.mode&1)!==0)for(ge=r,ne=r.child;ne!==null;){for(oe=ge=ne;ge!==null;){switch(te=ge,he=te.child,te.tag){case 0:case 11:case 14:case 15:Oa(4,te,te.return);break;case 1:Io(te,te.return);var ye=te.stateNode;if(typeof ye.componentWillUnmount=="function"){h=te,l=te.return;try{i=h,ye.props=i.memoizedProps,ye.state=i.memoizedState,ye.componentWillUnmount()}catch(xe){vt(h,l,xe)}}break;case 5:Io(te,te.return);break;case 22:if(te.memoizedState!==null){ay(oe);continue}}he!==null?(he.return=te,ge=he):ay(oe)}ne=ne.sibling}e:for(ne=null,oe=r;;){if(oe.tag===5){if(ne===null){ne=oe;try{p=oe.stateNode,K?(v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(I=oe.stateNode,M=oe.memoizedProps.style,T=M!=null&&M.hasOwnProperty("display")?M.display:null,I.style.display=Xs("display",T))}catch(xe){vt(r,r.return,xe)}}}else if(oe.tag===6){if(ne===null)try{oe.stateNode.nodeValue=K?"":oe.memoizedProps}catch(xe){vt(r,r.return,xe)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===r)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===r)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===r)break e;ne===oe&&(ne=null),oe=oe.return}ne===oe&&(ne=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:pr(i,r),Ir(r),h&4&&ry(r);break;case 21:break;default:pr(i,r),Ir(r)}}function Ir(r){var i=r.flags;if(i&2){try{e:{for(var l=r.return;l!==null;){if(ey(l)){var h=l;break e}l=l.return}throw Error(n(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(wr(p,""),h.flags&=-33);var v=ty(r);xh(r,v,p);break;case 3:case 4:var T=h.stateNode.containerInfo,I=ty(r);vh(r,I,T);break;default:throw Error(n(161))}}catch(M){vt(r,r.return,M)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function TT(r,i,l){ge=r,iy(r)}function iy(r,i,l){for(var h=(r.mode&1)!==0;ge!==null;){var p=ge,v=p.child;if(p.tag===22&&h){var T=p.memoizedState!==null||kc;if(!T){var I=p.alternate,M=I!==null&&I.memoizedState!==null||tn;I=kc;var K=tn;if(kc=T,(tn=M)&&!K)for(ge=p;ge!==null;)T=ge,M=T.child,T.tag===22&&T.memoizedState!==null?ly(p):M!==null?(M.return=T,ge=M):ly(p);for(;v!==null;)ge=v,iy(v),v=v.sibling;ge=p,kc=I,tn=K}oy(r)}else(p.subtreeFlags&8772)!==0&&v!==null?(v.return=p,ge=v):oy(r)}}function oy(r){for(;ge!==null;){var i=ge;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:tn||Vc(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!tn)if(l===null)h.componentDidMount();else{var p=i.elementType===i.type?l.memoizedProps:fr(i.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=i.updateQueue;v!==null&&ag(i,v,h);break;case 3:var T=i.updateQueue;if(T!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}ag(i,T,l)}break;case 5:var I=i.stateNode;if(l===null&&i.flags&4){l=I;var M=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&l.focus();break;case"img":M.src&&(l.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var K=i.alternate;if(K!==null){var ne=K.memoizedState;if(ne!==null){var oe=ne.dehydrated;oe!==null&&cr(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}tn||i.flags&512&&yh(i)}catch(te){vt(i,i.return,te)}}if(i===r){ge=null;break}if(l=i.sibling,l!==null){l.return=i.return,ge=l;break}ge=i.return}}function ay(r){for(;ge!==null;){var i=ge;if(i===r){ge=null;break}var l=i.sibling;if(l!==null){l.return=i.return,ge=l;break}ge=i.return}}function ly(r){for(;ge!==null;){var i=ge;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Vc(4,i)}catch(M){vt(i,l,M)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var p=i.return;try{h.componentDidMount()}catch(M){vt(i,p,M)}}var v=i.return;try{yh(i)}catch(M){vt(i,v,M)}break;case 5:var T=i.return;try{yh(i)}catch(M){vt(i,T,M)}}}catch(M){vt(i,i.return,M)}if(i===r){ge=null;break}var I=i.sibling;if(I!==null){I.return=i.return,ge=I;break}ge=i.return}}var NT=Math.ceil,Dc=X.ReactCurrentDispatcher,wh=X.ReactCurrentOwner,Xn=X.ReactCurrentBatchConfig,qe=0,Ft=null,Nt=null,qt=0,Dn=0,Ro=_s(0),Ct=0,Ba=null,xi=0,Lc=0,_h=0,Ua=null,wn=null,Eh=0,ko=1/0,es=null,Mc=!1,Th=null,Ps=null,Fc=!1,As=null,Oc=0,za=0,Nh=null,Bc=-1,Uc=0;function dn(){return(qe&6)!==0?st():Bc!==-1?Bc:Bc=st()}function js(r){return(r.mode&1)===0?1:(qe&2)!==0&&qt!==0?qt&-qt:aT.transition!==null?(Uc===0&&(Uc=ai()),Uc):(r=We,r!==0||(r=window.event,r=r===void 0?16:ga(r.type)),r)}function gr(r,i,l,h){if(50<za)throw za=0,Nh=null,Error(n(185));fs(r,l,h),((qe&2)===0||r!==Ft)&&(r===Ft&&((qe&2)===0&&(Lc|=l),Ct===4&&Cs(r,qt)),_n(r,h),l===1&&qe===0&&(i.mode&1)===0&&(ko=st()+500,pc&&Ts()))}function _n(r,i){var l=r.callbackNode;zr(r,i);var h=oi(r,r===Ft?qt:0);if(h===0)l!==null&&da(l),r.callbackNode=null,r.callbackPriority=0;else if(i=h&-h,r.callbackPriority!==i){if(l!=null&&da(l),i===1)r.tag===0?oT(uy.bind(null,r)):Qp(uy.bind(null,r)),nT(function(){(qe&6)===0&&Ts()}),l=null;else{switch(ps(h)){case 1:l=si;break;case 4:l=us;break;case 16:l=Wn;break;case 536870912:l=Ul;break;default:l=Wn}l=vy(l,cy.bind(null,r))}r.callbackPriority=i,r.callbackNode=l}}function cy(r,i){if(Bc=-1,Uc=0,(qe&6)!==0)throw Error(n(327));var l=r.callbackNode;if(Vo()&&r.callbackNode!==l)return null;var h=oi(r,r===Ft?qt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||i)i=zc(r,h);else{i=h;var p=qe;qe|=2;var v=hy();(Ft!==r||qt!==i)&&(es=null,ko=st()+500,_i(r,i));do try{PT();break}catch(I){dy(r,I)}while(!0);zd(),Dc.current=v,qe=p,Nt!==null?i=0:(Ft=null,qt=0,i=Ct)}if(i!==0){if(i===2&&(p=Cn(r),p!==0&&(h=p,i=bh(r,p))),i===1)throw l=Ba,_i(r,0),Cs(r,h),_n(r,st()),l;if(i===6)Cs(r,h);else{if(p=r.current.alternate,(h&30)===0&&!bT(p)&&(i=zc(r,h),i===2&&(v=Cn(r),v!==0&&(h=v,i=bh(r,v))),i===1))throw l=Ba,_i(r,0),Cs(r,h),_n(r,st()),l;switch(r.finishedWork=p,r.finishedLanes=h,i){case 0:case 1:throw Error(n(345));case 2:Ei(r,wn,es);break;case 3:if(Cs(r,h),(h&130023424)===h&&(i=Eh+500-st(),10<i)){if(oi(r,0)!==0)break;if(p=r.suspendedLanes,(p&h)!==h){dn(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Id(Ei.bind(null,r,wn,es),i);break}Ei(r,wn,es);break;case 4:if(Cs(r,h),(h&4194240)===h)break;for(i=r.eventTimes,p=-1;0<h;){var T=31-ln(h);v=1<<T,T=i[T],T>p&&(p=T),h&=~v}if(h=p,h=st()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*NT(h/1960))-h,10<h){r.timeoutHandle=Id(Ei.bind(null,r,wn,es),h);break}Ei(r,wn,es);break;case 5:Ei(r,wn,es);break;default:throw Error(n(329))}}}return _n(r,st()),r.callbackNode===l?cy.bind(null,r):null}function bh(r,i){var l=Ua;return r.current.memoizedState.isDehydrated&&(_i(r,i).flags|=256),r=zc(r,i),r!==2&&(i=wn,wn=l,i!==null&&Sh(i)),r}function Sh(r){wn===null?wn=r:wn.push.apply(wn,r)}function bT(r){for(var i=r;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],v=p.getSnapshot;p=p.value;try{if(!dr(v(),p))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Cs(r,i){for(i&=~_h,i&=~Lc,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var l=31-ln(i),h=1<<l;r[l]=-1,i&=~h}}function uy(r){if((qe&6)!==0)throw Error(n(327));Vo();var i=oi(r,0);if((i&1)===0)return _n(r,st()),null;var l=zc(r,i);if(r.tag!==0&&l===2){var h=Cn(r);h!==0&&(i=h,l=bh(r,h))}if(l===1)throw l=Ba,_i(r,0),Cs(r,i),_n(r,st()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Ei(r,wn,es),_n(r,st()),null}function Ph(r,i){var l=qe;qe|=1;try{return r(i)}finally{qe=l,qe===0&&(ko=st()+500,pc&&Ts())}}function wi(r){As!==null&&As.tag===0&&(qe&6)===0&&Vo();var i=qe;qe|=1;var l=Xn.transition,h=We;try{if(Xn.transition=null,We=1,r)return r()}finally{We=h,Xn.transition=l,qe=i,(qe&6)===0&&Ts()}}function Ah(){Dn=Ro.current,lt(Ro)}function _i(r,i){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,tT(l)),Nt!==null)for(l=Nt.return;l!==null;){var h=l;switch(Md(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&fc();break;case 3:jo(),lt(yn),lt(Jt),Yd();break;case 5:Kd(h);break;case 4:jo();break;case 13:lt(ft);break;case 19:lt(ft);break;case 10:$d(h.type._context);break;case 22:case 23:Ah()}l=l.return}if(Ft=r,Nt=r=Is(r.current,null),qt=Dn=i,Ct=0,Ba=null,_h=Lc=xi=0,wn=Ua=null,gi!==null){for(i=0;i<gi.length;i++)if(l=gi[i],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,v=l.pending;if(v!==null){var T=v.next;v.next=p,h.next=T}l.pending=h}gi=null}return r}function dy(r,i){do{var l=Nt;try{if(zd(),bc.current=jc,Sc){for(var h=mt.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Sc=!1}if(vi=0,Mt=jt=mt=null,Va=!1,Da=0,wh.current=null,l===null||l.return===null){Ct=1,Ba=i,Nt=null;break}e:{var v=r,T=l.return,I=l,M=i;if(i=qt,I.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var K=M,ne=I,oe=ne.tag;if((ne.mode&1)===0&&(oe===0||oe===11||oe===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var he=Lg(T);if(he!==null){he.flags&=-257,Mg(he,T,I,v,i),he.mode&1&&Dg(v,K,i),i=he,M=K;var ye=i.updateQueue;if(ye===null){var xe=new Set;xe.add(M),i.updateQueue=xe}else ye.add(M);break e}else{if((i&1)===0){Dg(v,K,i),jh();break e}M=Error(n(426))}}else if(dt&&I.mode&1){var wt=Lg(T);if(wt!==null){(wt.flags&65536)===0&&(wt.flags|=256),Mg(wt,T,I,v,i),Bd(Co(M,I));break e}}v=M=Co(M,I),Ct!==4&&(Ct=2),Ua===null?Ua=[v]:Ua.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,i&=-i,v.lanes|=i;var H=kg(v,M,i);og(v,H);break e;case 1:I=M;var B=v.type,G=v.stateNode;if((v.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Ps===null||!Ps.has(G)))){v.flags|=65536,i&=-i,v.lanes|=i;var ae=Vg(v,I,i);og(v,ae);break e}}v=v.return}while(v!==null)}my(l)}catch(_e){i=_e,Nt===l&&l!==null&&(Nt=l=l.return);continue}break}while(!0)}function hy(){var r=Dc.current;return Dc.current=jc,r===null?jc:r}function jh(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Ft===null||(xi&268435455)===0&&(Lc&268435455)===0||Cs(Ft,qt)}function zc(r,i){var l=qe;qe|=2;var h=hy();(Ft!==r||qt!==i)&&(es=null,_i(r,i));do try{ST();break}catch(p){dy(r,p)}while(!0);if(zd(),qe=l,Dc.current=h,Nt!==null)throw Error(n(261));return Ft=null,qt=0,Ct}function ST(){for(;Nt!==null;)fy(Nt)}function PT(){for(;Nt!==null&&!Ol();)fy(Nt)}function fy(r){var i=yy(r.alternate,r,Dn);r.memoizedProps=r.pendingProps,i===null?my(r):Nt=i,wh.current=null}function my(r){var i=r;do{var l=i.alternate;if(r=i.return,(i.flags&32768)===0){if(l=xT(l,i,Dn),l!==null){Nt=l;return}}else{if(l=wT(l,i),l!==null){l.flags&=32767,Nt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ct=6,Nt=null;return}}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=r}while(i!==null);Ct===0&&(Ct=5)}function Ei(r,i,l){var h=We,p=Xn.transition;try{Xn.transition=null,We=1,AT(r,i,l,h)}finally{Xn.transition=p,We=h}return null}function AT(r,i,l,h){do Vo();while(As!==null);if((qe&6)!==0)throw Error(n(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var v=l.lanes|l.childLanes;if(tt(r,v),r===Ft&&(Nt=Ft=null,qt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Fc||(Fc=!0,vy(Wn,function(){return Vo(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=Xn.transition,Xn.transition=null;var T=We;We=1;var I=qe;qe|=4,wh.current=null,ET(r,l),sy(l,r),KE(jd),ys=!!Ad,jd=Ad=null,r.current=l,TT(l),hd(),qe=I,We=T,Xn.transition=v}else r.current=l;if(Fc&&(Fc=!1,As=r,Oc=p),v=r.pendingLanes,v===0&&(Ps=null),zl(l.stateNode),_n(r,st()),i!==null)for(h=r.onRecoverableError,l=0;l<i.length;l++)p=i[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(Mc)throw Mc=!1,r=Th,Th=null,r;return(Oc&1)!==0&&r.tag!==0&&Vo(),v=r.pendingLanes,(v&1)!==0?r===Nh?za++:(za=0,Nh=r):za=0,Ts(),null}function Vo(){if(As!==null){var r=ps(Oc),i=Xn.transition,l=We;try{if(Xn.transition=null,We=16>r?16:r,As===null)var h=!1;else{if(r=As,As=null,Oc=0,(qe&6)!==0)throw Error(n(331));var p=qe;for(qe|=4,ge=r.current;ge!==null;){var v=ge,T=v.child;if((ge.flags&16)!==0){var I=v.deletions;if(I!==null){for(var M=0;M<I.length;M++){var K=I[M];for(ge=K;ge!==null;){var ne=ge;switch(ne.tag){case 0:case 11:case 15:Oa(8,ne,v)}var oe=ne.child;if(oe!==null)oe.return=ne,ge=oe;else for(;ge!==null;){ne=ge;var te=ne.sibling,he=ne.return;if(Zg(ne),ne===K){ge=null;break}if(te!==null){te.return=he,ge=te;break}ge=he}}}var ye=v.alternate;if(ye!==null){var xe=ye.child;if(xe!==null){ye.child=null;do{var wt=xe.sibling;xe.sibling=null,xe=wt}while(xe!==null)}}ge=v}}if((v.subtreeFlags&2064)!==0&&T!==null)T.return=v,ge=T;else e:for(;ge!==null;){if(v=ge,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Oa(9,v,v.return)}var H=v.sibling;if(H!==null){H.return=v.return,ge=H;break e}ge=v.return}}var B=r.current;for(ge=B;ge!==null;){T=ge;var G=T.child;if((T.subtreeFlags&2064)!==0&&G!==null)G.return=T,ge=G;else e:for(T=B;ge!==null;){if(I=ge,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:Vc(9,I)}}catch(_e){vt(I,I.return,_e)}if(I===T){ge=null;break e}var ae=I.sibling;if(ae!==null){ae.return=I.return,ge=ae;break e}ge=I.return}}if(qe=p,Ts(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(ii,r)}catch{}h=!0}return h}finally{We=l,Xn.transition=i}}return!1}function py(r,i,l){i=Co(l,i),i=kg(r,i,1),r=bs(r,i,1),i=dn(),r!==null&&(fs(r,1,i),_n(r,i))}function vt(r,i,l){if(r.tag===3)py(r,r,l);else for(;i!==null;){if(i.tag===3){py(i,r,l);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ps===null||!Ps.has(h))){r=Co(l,r),r=Vg(i,r,1),i=bs(i,r,1),r=dn(),i!==null&&(fs(i,1,r),_n(i,r));break}}i=i.return}}function jT(r,i,l){var h=r.pingCache;h!==null&&h.delete(i),i=dn(),r.pingedLanes|=r.suspendedLanes&l,Ft===r&&(qt&l)===l&&(Ct===4||Ct===3&&(qt&130023424)===qt&&500>st()-Eh?_i(r,0):_h|=l),_n(r,i)}function gy(r,i){i===0&&((r.mode&1)===0?i=1:(i=no,no<<=1,(no&130023424)===0&&(no=4194304)));var l=dn();r=Xr(r,i),r!==null&&(fs(r,i,l),_n(r,l))}function CT(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),gy(r,l)}function IT(r,i){var l=0;switch(r.tag){case 13:var h=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(i),gy(r,l)}var yy;yy=function(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps||yn.current)xn=!0;else{if((r.lanes&l)===0&&(i.flags&128)===0)return xn=!1,vT(r,i,l);xn=(r.flags&131072)!==0}else xn=!1,dt&&(i.flags&1048576)!==0&&Yp(i,yc,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;Rc(r,i),r=i.pendingProps;var p=Eo(i,Jt.current);Ao(i,l),p=Zd(null,i,h,r,p,l);var v=eh();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,vn(h)?(v=!0,mc(i)):v=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Gd(i),p.updater=Cc,i.stateNode=p,p._reactInternals=i,oh(i,h,r,l),i=uh(null,i,h,!0,v,l)):(i.tag=0,dt&&v&&Ld(i),un(null,i,p,l),i=i.child),i;case 16:h=i.elementType;e:{switch(Rc(r,i),r=i.pendingProps,p=h._init,h=p(h._payload),i.type=h,p=i.tag=kT(h),r=fr(h,r),p){case 0:i=ch(null,i,h,r,l);break e;case 1:i=$g(null,i,h,r,l);break e;case 11:i=Fg(null,i,h,r,l);break e;case 14:i=Og(null,i,h,fr(h.type,r),l);break e}throw Error(n(306,h,""))}return i;case 0:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:fr(h,p),ch(r,i,h,p,l);case 1:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:fr(h,p),$g(r,i,h,p,l);case 3:e:{if(Wg(i),r===null)throw Error(n(387));h=i.pendingProps,v=i.memoizedState,p=v.element,ig(r,i),Tc(i,h,null,l);var T=i.memoizedState;if(h=T.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){p=Co(Error(n(423)),i),i=Hg(r,i,h,l,p);break e}else if(h!==p){p=Co(Error(n(424)),i),i=Hg(r,i,h,l,p);break e}else for(Vn=ws(i.stateNode.containerInfo.firstChild),kn=i,dt=!0,hr=null,l=rg(i,null,h,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(bo(),h===p){i=Zr(r,i,l);break e}un(r,i,h,l)}i=i.child}return i;case 5:return lg(i),r===null&&Od(i),h=i.type,p=i.pendingProps,v=r!==null?r.memoizedProps:null,T=p.children,Cd(h,p)?T=null:v!==null&&Cd(h,v)&&(i.flags|=32),zg(r,i),un(r,i,T,l),i.child;case 6:return r===null&&Od(i),null;case 13:return Gg(r,i,l);case 4:return qd(i,i.stateNode.containerInfo),h=i.pendingProps,r===null?i.child=So(i,null,h,l):un(r,i,h,l),i.child;case 11:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:fr(h,p),Fg(r,i,h,p,l);case 7:return un(r,i,i.pendingProps,l),i.child;case 8:return un(r,i,i.pendingProps.children,l),i.child;case 12:return un(r,i,i.pendingProps.children,l),i.child;case 10:e:{if(h=i.type._context,p=i.pendingProps,v=i.memoizedProps,T=p.value,it(wc,h._currentValue),h._currentValue=T,v!==null)if(dr(v.value,T)){if(v.children===p.children&&!yn.current){i=Zr(r,i,l);break e}}else for(v=i.child,v!==null&&(v.return=i);v!==null;){var I=v.dependencies;if(I!==null){T=v.child;for(var M=I.firstContext;M!==null;){if(M.context===h){if(v.tag===1){M=Jr(-1,l&-l),M.tag=2;var K=v.updateQueue;if(K!==null){K=K.shared;var ne=K.pending;ne===null?M.next=M:(M.next=ne.next,ne.next=M),K.pending=M}}v.lanes|=l,M=v.alternate,M!==null&&(M.lanes|=l),Wd(v.return,l,i),I.lanes|=l;break}M=M.next}}else if(v.tag===10)T=v.type===i.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(n(341));T.lanes|=l,I=T.alternate,I!==null&&(I.lanes|=l),Wd(T,l,i),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===i){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}un(r,i,p.children,l),i=i.child}return i;case 9:return p=i.type,h=i.pendingProps.children,Ao(i,l),p=Qn(p),h=h(p),i.flags|=1,un(r,i,h,l),i.child;case 14:return h=i.type,p=fr(h,i.pendingProps),p=fr(h.type,p),Og(r,i,h,p,l);case 15:return Bg(r,i,i.type,i.pendingProps,l);case 17:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:fr(h,p),Rc(r,i),i.tag=1,vn(h)?(r=!0,mc(i)):r=!1,Ao(i,l),Ig(i,h,p),oh(i,h,p,l),uh(null,i,h,!0,r,l);case 19:return Kg(r,i,l);case 22:return Ug(r,i,l)}throw Error(n(156,i.tag))};function vy(r,i){return eo(r,i)}function RT(r,i,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(r,i,l,h){return new RT(r,i,l,h)}function Ch(r){return r=r.prototype,!(!r||!r.isReactComponent)}function kT(r){if(typeof r=="function")return Ch(r)?1:0;if(r!=null){if(r=r.$$typeof,r===V)return 11;if(r===Oe)return 14}return 2}function Is(r,i){var l=r.alternate;return l===null?(l=Jn(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function $c(r,i,l,h,p,v){var T=2;if(h=r,typeof r=="function")Ch(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case j:return Ti(l.children,p,v,i);case N:T=8,p|=8;break;case P:return r=Jn(12,l,i,p|2),r.elementType=P,r.lanes=v,r;case A:return r=Jn(13,l,i,p),r.elementType=A,r.lanes=v,r;case je:return r=Jn(19,l,i,p),r.elementType=je,r.lanes=v,r;case Ce:return Wc(l,p,v,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case C:T=10;break e;case D:T=9;break e;case V:T=11;break e;case Oe:T=14;break e;case ke:T=16,h=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=Jn(T,l,i,p),i.elementType=r,i.type=h,i.lanes=v,i}function Ti(r,i,l,h){return r=Jn(7,r,h,i),r.lanes=l,r}function Wc(r,i,l,h){return r=Jn(22,r,h,i),r.elementType=Ce,r.lanes=l,r.stateNode={isHidden:!1},r}function Ih(r,i,l){return r=Jn(6,r,null,i),r.lanes=l,r}function Rh(r,i,l){return i=Jn(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function VT(r,i,l,h,p){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hs(0),this.expirationTimes=hs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hs(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function kh(r,i,l,h,p,v,T,I,M){return r=new VT(r,i,l,I,M),i===1?(i=1,v===!0&&(i|=8)):i=0,v=Jn(3,null,null,i),r.current=v,v.stateNode=r,v.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gd(v),r}function DT(r,i,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:h==null?null:""+h,children:r,containerInfo:i,implementation:l}}function xy(r){if(!r)return Es;r=r._reactInternals;e:{if(sr(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(vn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(vn(l))return qp(r,l,i)}return i}function wy(r,i,l,h,p,v,T,I,M){return r=kh(l,h,!0,r,p,v,T,I,M),r.context=xy(null),l=r.current,h=dn(),p=js(l),v=Jr(h,p),v.callback=i??null,bs(l,v,p),r.current.lanes=p,fs(r,p,h),_n(r,h),r}function Hc(r,i,l,h){var p=i.current,v=dn(),T=js(p);return l=xy(l),i.context===null?i.context=l:i.pendingContext=l,i=Jr(v,T),i.payload={element:r},h=h===void 0?null:h,h!==null&&(i.callback=h),r=bs(p,i,T),r!==null&&(gr(r,p,T,v),Ec(r,p,T)),T}function Gc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function _y(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function Vh(r,i){_y(r,i),(r=r.alternate)&&_y(r,i)}function LT(){return null}var Ey=typeof reportError=="function"?reportError:function(r){console.error(r)};function Dh(r){this._internalRoot=r}qc.prototype.render=Dh.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));Hc(r,i,null,null)},qc.prototype.unmount=Dh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;wi(function(){Hc(null,r,null,null)}),i[qr]=null}};function qc(r){this._internalRoot=r}qc.prototype.unstable_scheduleHydration=function(r){if(r){var i=ql();r={blockedOn:null,target:r,priority:i};for(var l=0;l<Nr.length&&i!==0&&i<Nr[l].priority;l++);Nr.splice(l,0,r),l===0&&Yl(r)}};function Lh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Kc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Ty(){}function MT(r,i,l,h,p){if(p){if(typeof h=="function"){var v=h;h=function(){var K=Gc(T);v.call(K)}}var T=wy(i,h,r,0,null,!1,!1,"",Ty);return r._reactRootContainer=T,r[qr]=T.current,Sa(r.nodeType===8?r.parentNode:r),wi(),T}for(;p=r.lastChild;)r.removeChild(p);if(typeof h=="function"){var I=h;h=function(){var K=Gc(M);I.call(K)}}var M=kh(r,0,!1,null,null,!1,!1,"",Ty);return r._reactRootContainer=M,r[qr]=M.current,Sa(r.nodeType===8?r.parentNode:r),wi(function(){Hc(i,M,l,h)}),M}function Qc(r,i,l,h,p){var v=l._reactRootContainer;if(v){var T=v;if(typeof p=="function"){var I=p;p=function(){var M=Gc(T);I.call(M)}}Hc(i,T,r,p)}else T=MT(l,i,r,p,h);return Gc(T)}Hl=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var l=ds(i.pendingLanes);l!==0&&(ms(i,l|1),_n(i,st()),(qe&6)===0&&(ko=st()+500,Ts()))}break;case 13:wi(function(){var h=Xr(r,1);if(h!==null){var p=dn();gr(h,r,1,p)}}),Vh(r,1)}},ro=function(r){if(r.tag===13){var i=Xr(r,134217728);if(i!==null){var l=dn();gr(i,r,134217728,l)}Vh(r,134217728)}},Gl=function(r){if(r.tag===13){var i=js(r),l=Xr(r,i);if(l!==null){var h=dn();gr(l,r,i,h)}Vh(r,i)}},ql=function(){return We},Kl=function(r,i){var l=We;try{return We=r,i()}finally{We=l}},Ki=function(r,i,l){switch(i){case"input":if(Pn(r,l),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var h=l[i];if(h!==r&&h.form===r.form){var p=hc(h);if(!p)throw Error(n(90));Dt(h),Pn(h,p)}}}break;case"textarea":Z(r,l);break;case"select":i=l.value,i!=null&&$t(r,!!l.multiple,i,!1)}},ei=Ph,aa=wi;var FT={usingClientEntryPoint:!1,Events:[ja,wo,hc,Er,oa,Ph]},$a={findFiberByHostInstance:hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OT={bundleType:$a.bundleType,version:$a.version,rendererPackageName:$a.rendererPackageName,rendererConfig:$a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ua(r),r===null?null:r.stateNode},findFiberByHostInstance:$a.findFiberByHostInstance||LT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{ii=Yc.inject(OT),jn=Yc}catch{}}return En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FT,En.createPortal=function(r,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lh(i))throw Error(n(200));return DT(r,i,null,l)},En.createRoot=function(r,i){if(!Lh(r))throw Error(n(299));var l=!1,h="",p=Ey;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=kh(r,1,!1,null,null,l,!1,h,p),r[qr]=i.current,Sa(r.nodeType===8?r.parentNode:r),new Dh(i)},En.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=ua(i),r=r===null?null:r.stateNode,r},En.flushSync=function(r){return wi(r)},En.hydrate=function(r,i,l){if(!Kc(i))throw Error(n(200));return Qc(null,r,i,!0,l)},En.hydrateRoot=function(r,i,l){if(!Lh(r))throw Error(n(405));var h=l!=null&&l.hydratedSources||null,p=!1,v="",T=Ey;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),i=wy(i,null,r,1,l??null,p,!1,v,T),r[qr]=i.current,Sa(r),h)for(r=0;r<h.length;r++)l=h[r],p=l._getVersion,p=p(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,p]:i.mutableSourceEagerHydrationData.push(l,p);return new qc(i)},En.render=function(r,i,l){if(!Kc(i))throw Error(n(200));return Qc(null,r,i,!1,l)},En.unmountComponentAtNode=function(r){if(!Kc(r))throw Error(n(40));return r._reactRootContainer?(wi(function(){Qc(null,null,r,!1,function(){r._reactRootContainer=null,r[qr]=null})}),!0):!1},En.unstable_batchedUpdates=Ph,En.unstable_renderSubtreeIntoContainer=function(r,i,l,h){if(!Kc(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Qc(r,i,l,!1,h)},En.version="18.3.1-next-f1338f8080-20240426",En}var Iy;function Qv(){if(Iy)return Oh.exports;Iy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Oh.exports=QT(),Oh.exports}var Ry;function YT(){if(Ry)return Xc;Ry=1;var t=Qv();return Xc.createRoot=t.createRoot,Xc.hydrateRoot=t.hydrateRoot,Xc}var XT=YT();Qv();/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cl(){return cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},cl.apply(this,arguments)}var Ls;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ls||(Ls={}));const ky="popstate";function JT(t){t===void 0&&(t={});function e(s,o){let{pathname:a,search:c,hash:f}=s.location;return mf("",{pathname:a,search:c,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Xv(o)}return e1(e,n,null,t)}function kt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Yv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZT(){return Math.random().toString(36).substr(2,8)}function Vy(t,e){return{usr:t.state,key:t.key,idx:e}}function mf(t,e,n,s){return n===void 0&&(n=null),cl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Zo(e):e,{state:n,key:e&&e.key||s||ZT()})}function Xv(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Zo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function e1(t,e,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:a=!1}=s,c=o.history,f=Ls.Pop,m=null,g=x();g==null&&(g=0,c.replaceState(cl({},c.state,{idx:g}),""));function x(){return(c.state||{idx:null}).idx}function w(){f=Ls.Pop;let k=x(),$=k==null?null:k-g;g=k,m&&m({action:f,location:L.location,delta:$})}function E(k,$){f=Ls.Push;let U=mf(L.location,k,$);g=x()+1;let z=Vy(U,g),X=L.createHref(U);try{c.pushState(z,"",X)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(X)}a&&m&&m({action:f,location:L.location,delta:1})}function b(k,$){f=Ls.Replace;let U=mf(L.location,k,$);g=x();let z=Vy(U,g),X=L.createHref(U);c.replaceState(z,"",X),a&&m&&m({action:f,location:L.location,delta:0})}function R(k){let $=o.location.origin!=="null"?o.location.origin:o.location.href,U=typeof k=="string"?k:Xv(k);return U=U.replace(/ $/,"%20"),kt($,"No window.location.(origin|href) available to create URL for href: "+U),new URL(U,$)}let L={get action(){return f},get location(){return t(o,c)},listen(k){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(ky,w),m=k,()=>{o.removeEventListener(ky,w),m=null}},createHref(k){return e(o,k)},createURL:R,encodeLocation(k){let $=R(k);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:E,replace:b,go(k){return c.go(k)}};return L}var Dy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Dy||(Dy={}));function t1(t,e,n){return n===void 0&&(n="/"),n1(t,e,n)}function n1(t,e,n,s){let o=typeof e=="string"?Zo(e):e,a=ex(o.pathname||"/",n);if(a==null)return null;let c=Jv(t);r1(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let g=p1(a);f=h1(c[m],g)}return f}function Jv(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(a,c,f)=>{let m={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};m.relativePath.startsWith("/")&&(kt(m.relativePath.startsWith(s),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(s.length));let g=Ri([s,m.relativePath]),x=n.concat(m);a.children&&a.children.length>0&&(kt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),Jv(a.children,e,x,g)),!(a.path==null&&!a.index)&&e.push({path:g,score:u1(g,a.index),routesMeta:x})};return t.forEach((a,c)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))o(a,c);else for(let m of Zv(a.path))o(a,c,m)}),e}function Zv(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return o?[a,""]:[a];let c=Zv(s.join("/")),f=[];return f.push(...c.map(m=>m===""?a:[a,m].join("/"))),o&&f.push(...c),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function r1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:d1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const s1=/^:[\w-]+$/,i1=3,o1=2,a1=1,l1=10,c1=-2,Ly=t=>t==="*";function u1(t,e){let n=t.split("/"),s=n.length;return n.some(Ly)&&(s+=c1),e&&(s+=o1),n.filter(o=>!Ly(o)).reduce((o,a)=>o+(s1.test(a)?i1:a===""?a1:l1),s)}function d1(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function h1(t,e,n){let{routesMeta:s}=t,o={},a="/",c=[];for(let f=0;f<s.length;++f){let m=s[f],g=f===s.length-1,x=a==="/"?e:e.slice(a.length)||"/",w=f1({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},x),E=m.route;if(!w)return null;Object.assign(o,w.params),c.push({params:o,pathname:Ri([a,w.pathname]),pathnameBase:_1(Ri([a,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(a=Ri([a,w.pathnameBase]))}return c}function f1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=m1(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((g,x,w)=>{let{paramName:E,isOptional:b}=x;if(E==="*"){let L=f[w]||"";c=a.slice(0,a.length-L.length).replace(/(.)\/+$/,"$1")}const R=f[w];return b&&!R?g[E]=void 0:g[E]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:c,pattern:t}}function m1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Yv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function p1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ex(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function g1(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:o=""}=typeof t=="string"?Zo(t):t;return{pathname:n?n.startsWith("/")?n:y1(n,e):e,search:E1(s),hash:T1(o)}}function y1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function zh(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function v1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function x1(t,e){let n=v1(t);return e?n.map((s,o)=>o===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function w1(t,e,n,s){s===void 0&&(s=!1);let o;typeof t=="string"?o=Zo(t):(o=cl({},t),kt(!o.pathname||!o.pathname.includes("?"),zh("?","pathname","search",o)),kt(!o.pathname||!o.pathname.includes("#"),zh("#","pathname","hash",o)),kt(!o.search||!o.search.includes("#"),zh("#","search","hash",o)));let a=t===""||o.pathname==="",c=a?"/":o.pathname,f;if(c==null)f=n;else{let w=e.length-1;if(!s&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),w-=1;o.pathname=E.join("/")}f=w>=0?e[w]:"/"}let m=g1(o,f),g=c&&c!=="/"&&c.endsWith("/"),x=(a||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||x)&&(m.pathname+="/"),m}const Ri=t=>t.join("/").replace(/\/\/+/g,"/"),_1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),E1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,T1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function N1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const tx=["post","put","patch","delete"];new Set(tx);const b1=["get",...tx];new Set(b1);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ul(){return ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ul.apply(this,arguments)}const tm=F.createContext(null),S1=F.createContext(null),ku=F.createContext(null),Vu=F.createContext(null),ea=F.createContext({outlet:null,matches:[],isDataRoute:!1}),nx=F.createContext(null);function Du(){return F.useContext(Vu)!=null}function rx(){return Du()||kt(!1),F.useContext(Vu).location}function sx(t){F.useContext(ku).static||F.useLayoutEffect(t)}function ix(){let{isDataRoute:t}=F.useContext(ea);return t?O1():P1()}function P1(){Du()||kt(!1);let t=F.useContext(tm),{basename:e,future:n,navigator:s}=F.useContext(ku),{matches:o}=F.useContext(ea),{pathname:a}=rx(),c=JSON.stringify(x1(o,n.v7_relativeSplatPath)),f=F.useRef(!1);return sx(()=>{f.current=!0}),F.useCallback(function(g,x){if(x===void 0&&(x={}),!f.current)return;if(typeof g=="number"){s.go(g);return}let w=w1(g,JSON.parse(c),a,x.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Ri([e,w.pathname])),(x.replace?s.replace:s.push)(w,x.state,x)},[e,s,c,a,t])}function A1(t,e){return j1(t,e)}function j1(t,e,n,s){Du()||kt(!1);let{navigator:o}=F.useContext(ku),{matches:a}=F.useContext(ea),c=a[a.length-1],f=c?c.params:{};c&&c.pathname;let m=c?c.pathnameBase:"/";c&&c.route;let g=rx(),x;if(e){var w;let k=typeof e=="string"?Zo(e):e;m==="/"||(w=k.pathname)!=null&&w.startsWith(m)||kt(!1),x=k}else x=g;let E=x.pathname||"/",b=E;if(m!=="/"){let k=m.replace(/^\//,"").split("/");b="/"+E.replace(/^\//,"").split("/").slice(k.length).join("/")}let R=t1(t,{pathname:b}),L=V1(R&&R.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:Ri([m,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:Ri([m,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,n,s);return e&&L?F.createElement(Vu.Provider,{value:{location:ul({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:Ls.Pop}},L):L}function C1(){let t=F1(),e=N1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:o},n):null,null)}const I1=F.createElement(C1,null);class R1 extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?F.createElement(ea.Provider,{value:this.props.routeContext},F.createElement(nx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function k1(t){let{routeContext:e,match:n,children:s}=t,o=F.useContext(tm);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(ea.Provider,{value:e},s)}function V1(t,e,n,s){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,f=(o=n)==null?void 0:o.errors;if(f!=null){let x=c.findIndex(w=>w.route.id&&(f==null?void 0:f[w.route.id])!==void 0);x>=0||kt(!1),c=c.slice(0,Math.min(c.length,x+1))}let m=!1,g=-1;if(n&&s&&s.v7_partialHydration)for(let x=0;x<c.length;x++){let w=c[x];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=x),w.route.id){let{loaderData:E,errors:b}=n,R=w.route.loader&&E[w.route.id]===void 0&&(!b||b[w.route.id]===void 0);if(w.route.lazy||R){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((x,w,E)=>{let b,R=!1,L=null,k=null;n&&(b=f&&w.route.id?f[w.route.id]:void 0,L=w.route.errorElement||I1,m&&(g<0&&E===0?(B1("route-fallback"),R=!0,k=null):g===E&&(R=!0,k=w.route.hydrateFallbackElement||null)));let $=e.concat(c.slice(0,E+1)),U=()=>{let z;return b?z=L:R?z=k:w.route.Component?z=F.createElement(w.route.Component,null):w.route.element?z=w.route.element:z=x,F.createElement(k1,{match:w,routeContext:{outlet:x,matches:$,isDataRoute:n!=null},children:z})};return n&&(w.route.ErrorBoundary||w.route.errorElement||E===0)?F.createElement(R1,{location:n.location,revalidation:n.revalidation,component:L,error:b,children:U(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):U()},null)}var ox=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ox||{}),ax=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ax||{});function D1(t){let e=F.useContext(tm);return e||kt(!1),e}function L1(t){let e=F.useContext(S1);return e||kt(!1),e}function M1(t){let e=F.useContext(ea);return e||kt(!1),e}function lx(t){let e=M1(),n=e.matches[e.matches.length-1];return n.route.id||kt(!1),n.route.id}function F1(){var t;let e=F.useContext(nx),n=L1(),s=lx();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function O1(){let{router:t}=D1(ox.UseNavigateStable),e=lx(ax.UseNavigateStable),n=F.useRef(!1);return sx(()=>{n.current=!0}),F.useCallback(function(o,a){a===void 0&&(a={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,ul({fromRouteId:e},a)))},[t,e])}const My={};function B1(t,e,n){My[t]||(My[t]=!0)}function pf(t){kt(!1)}function U1(t){let{basename:e="/",children:n=null,location:s,navigationType:o=Ls.Pop,navigator:a,static:c=!1,future:f}=t;Du()&&kt(!1);let m=e.replace(/^\/*/,"/"),g=F.useMemo(()=>({basename:m,navigator:a,static:c,future:ul({v7_relativeSplatPath:!1},f)}),[m,f,a,c]);typeof s=="string"&&(s=Zo(s));let{pathname:x="/",search:w="",hash:E="",state:b=null,key:R="default"}=s,L=F.useMemo(()=>{let k=ex(x,m);return k==null?null:{location:{pathname:k,search:w,hash:E,state:b,key:R},navigationType:o}},[m,x,w,E,b,R,o]);return L==null?null:F.createElement(ku.Provider,{value:g},F.createElement(Vu.Provider,{children:n,value:L}))}function z1(t){let{children:e,location:n}=t;return A1(gf(e),n)}new Promise(()=>{});function gf(t,e){e===void 0&&(e=[]);let n=[];return F.Children.forEach(t,(s,o)=>{if(!F.isValidElement(s))return;let a=[...e,o];if(s.type===F.Fragment){n.push.apply(n,gf(s.props.children,a));return}s.type!==pf&&kt(!1),!s.props.index||!s.props.children||kt(!1);let c={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=gf(s.props.children,a)),n.push(c)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const $1="6";try{window.__reactRouterVersion=$1}catch{}const W1="startTransition",Fy=GT[W1];function H1(t){let{basename:e,children:n,future:s,window:o}=t,a=F.useRef();a.current==null&&(a.current=JT({window:o,v5Compat:!0}));let c=a.current,[f,m]=F.useState({action:c.action,location:c.location}),{v7_startTransition:g}=s||{},x=F.useCallback(w=>{g&&Fy?Fy(()=>m(w)):m(w)},[m,g]);return F.useLayoutEffect(()=>c.listen(x),[c,x]),F.createElement(U1,{basename:e,children:n,location:f.location,navigationType:f.action,navigator:c,future:s})}var Oy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Oy||(Oy={}));var By;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(By||(By={}));/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var G1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Je=(t,e)=>{const n=F.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:c,className:f="",children:m,...g},x)=>F.createElement("svg",{ref:x,...G1,width:o,height:o,stroke:s,strokeWidth:c?Number(a)*24/Number(o):a,className:["lucide",`lucide-${q1(t)}`,f].join(" "),...g},[...e.map(([w,E])=>F.createElement(w,E)),...Array.isArray(m)?m:[m]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=Je("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=Je("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=Je("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=Je("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=Je("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=Je("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=Je("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=Je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=Je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=Je("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=Je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=Je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=Je("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=Je("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=Je("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=Je("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=Je("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=Je("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=Je("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=Je("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=Je("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=Je("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=Je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=Je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=Je("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=Je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=Je("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=Je("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=Je("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=Je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=Je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Uy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},dN=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const o=t[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[s++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],c=t[n++],f=t[n++],m=((o&7)<<18|(a&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const a=t[n++],c=t[n++];e[s++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},hx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<t.length;o+=3){const a=t[o],c=o+1<t.length,f=c?t[o+1]:0,m=o+2<t.length,g=m?t[o+2]:0,x=a>>2,w=(a&3)<<4|f>>4;let E=(f&15)<<2|g>>6,b=g&63;m||(b=64,c||(E=64)),s.push(n[x],n[w],n[E],n[b])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],f=o<t.length?n[t.charAt(o)]:0;++o;const g=o<t.length?n[t.charAt(o)]:64;++o;const w=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||f==null||g==null||w==null)throw new hN;const E=a<<2|f>>4;if(s.push(E),g!==64){const b=f<<4&240|g>>2;if(s.push(b),w!==64){const R=g<<6&192|w;s.push(R)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fN=function(t){const e=dx(t);return hx.encodeByteArray(e,!0)},fu=function(t){return fN(t).replace(/\./g,"")},mN=function(t){try{return hx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=()=>pN().__FIREBASE_DEFAULTS__,yN=()=>{if(typeof process>"u"||typeof Uy>"u")return;const t=Uy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mN(t[1]);return e&&JSON.parse(e)},lm=()=>{try{return gN()||yN()||vN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xN=t=>{var e,n;return(n=(e=lm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wN=t=>{const e=xN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},fx=()=>{var t;return(t=lm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fu(JSON.stringify(n)),fu(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NN(){var t;const e=(t=lm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SN(){return!NN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mx(){try{return typeof indexedDB=="object"}catch{return!1}}function px(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function PN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="FirebaseError";class Ks extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=AN,Object.setPrototypeOf(this,Ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mu.prototype.create)}}class Mu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?jN(a,s):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new Ks(o,f,s)}}function jN(t,e){return t.replace(CN,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const CN=/\{\$([^}]+)}/g;function mu(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const a=t[o],c=e[o];if(zy(a)&&zy(c)){if(!mu(a,c))return!1}else if(a!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function zy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=1e3,RN=2,kN=4*60*60*1e3,VN=.5;function $y(t,e=IN,n=RN){const s=e*Math.pow(n,t),o=Math.round(VN*s*(Math.random()-.5)*2);return Math.min(kN,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t){return t&&t._delegate?t._delegate:t}class is{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new _N;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MN(e))try{this.getOrInitializeService({instanceIdentifier:bi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});s.resolve(a)}catch{}}}}clearInstance(e=bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bi){return this.instances.has(e)}getOptions(e=bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[a,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);s===f&&c.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),a=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:LN(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=bi){return this.component?this.component.multipleInstances?e:bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LN(t){return t===bi?void 0:t}function MN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const ON={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},BN=Ke.INFO,UN={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},zN=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),o=UN[e];if(o)console[o](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cm{constructor(e){this.name=e,this._logLevel=BN,this._logHandler=zN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ON[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const $N=(t,e)=>e.some(n=>t instanceof n);let Wy,Hy;function WN(){return Wy||(Wy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HN(){return Hy||(Hy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gx=new WeakMap,vf=new WeakMap,yx=new WeakMap,$h=new WeakMap,um=new WeakMap;function GN(t){const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(Fs(t.result)),o()},c=()=>{s(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&gx.set(n,t)}).catch(()=>{}),um.set(e,t),e}function qN(t){if(vf.has(t))return;const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),o()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});vf.set(t,e)}let xf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KN(t){xf=t(xf)}function QN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Wh(this),e,...n);return yx.set(s,e.sort?e.sort():[e]),Fs(s)}:HN().includes(t)?function(...e){return t.apply(Wh(this),e),Fs(gx.get(this))}:function(...e){return Fs(t.apply(Wh(this),e))}}function YN(t){return typeof t=="function"?QN(t):(t instanceof IDBTransaction&&qN(t),$N(t,WN())?new Proxy(t,xf):t)}function Fs(t){if(t instanceof IDBRequest)return GN(t);if($h.has(t))return $h.get(t);const e=YN(t);return e!==t&&($h.set(t,e),um.set(e,t)),e}const Wh=t=>um.get(t);function vx(t,e,{blocked:n,upgrade:s,blocking:o,terminated:a}={}){const c=indexedDB.open(t,e),f=Fs(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Fs(c.result),m.oldVersion,m.newVersion,Fs(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{a&&m.addEventListener("close",()=>a()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const XN=["get","getKey","getAll","getAllKeys","count"],JN=["put","add","delete","clear"],Hh=new Map;function Gy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hh.get(e))return Hh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=JN.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||XN.includes(n)))return;const a=async function(c,...f){const m=this.transaction(c,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(f.shift())),(await Promise.all([g[n](...f),o&&m.done]))[0]};return Hh.set(e,a),a}KN(t=>({...t,get:(e,n,s)=>Gy(e,n)||t.get(e,n,s),has:(e,n)=>!!Gy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eb(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function eb(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wf="@firebase/app",qy="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new cm("@firebase/app"),tb="@firebase/app-compat",nb="@firebase/analytics-compat",rb="@firebase/analytics",sb="@firebase/app-check-compat",ib="@firebase/app-check",ob="@firebase/auth",ab="@firebase/auth-compat",lb="@firebase/database",cb="@firebase/data-connect",ub="@firebase/database-compat",db="@firebase/functions",hb="@firebase/functions-compat",fb="@firebase/installations",mb="@firebase/installations-compat",pb="@firebase/messaging",gb="@firebase/messaging-compat",yb="@firebase/performance",vb="@firebase/performance-compat",xb="@firebase/remote-config",wb="@firebase/remote-config-compat",_b="@firebase/storage",Eb="@firebase/storage-compat",Tb="@firebase/firestore",Nb="@firebase/vertexai-preview",bb="@firebase/firestore-compat",Sb="firebase",Pb="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="[DEFAULT]",Ab={[wf]:"fire-core",[tb]:"fire-core-compat",[rb]:"fire-analytics",[nb]:"fire-analytics-compat",[ib]:"fire-app-check",[sb]:"fire-app-check-compat",[ob]:"fire-auth",[ab]:"fire-auth-compat",[lb]:"fire-rtdb",[cb]:"fire-data-connect",[ub]:"fire-rtdb-compat",[db]:"fire-fn",[hb]:"fire-fn-compat",[fb]:"fire-iid",[mb]:"fire-iid-compat",[pb]:"fire-fcm",[gb]:"fire-fcm-compat",[yb]:"fire-perf",[vb]:"fire-perf-compat",[xb]:"fire-rc",[wb]:"fire-rc-compat",[_b]:"fire-gcs",[Eb]:"fire-gcs-compat",[Tb]:"fire-fst",[bb]:"fire-fst-compat",[Nb]:"fire-vertex","fire-js":"fire-js",[Sb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=new Map,jb=new Map,Ef=new Map;function Ky(t,e){try{t.container.addComponent(e)}catch(n){os.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zs(t){const e=t.name;if(Ef.has(e))return os.debug(`There were multiple attempts to register component ${e}.`),!1;Ef.set(e,t);for(const n of pu.values())Ky(n,t);for(const n of jb.values())Ky(n,t);return!0}function Nl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new Mu("app","Firebase",Cb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=Pb;function xx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:_f,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Os.create("bad-app-name",{appName:String(o)});if(n||(n=fx()),!n)throw Os.create("no-options");const a=pu.get(o);if(a){if(mu(n,a.options)&&mu(s,a.config))return a;throw Os.create("duplicate-app",{appName:o})}const c=new FN(o);for(const m of Ef.values())c.addComponent(m);const f=new Ib(n,s,c);return pu.set(o,f),f}function wx(t=_f){const e=pu.get(t);if(!e&&t===_f&&fx())return xx();if(!e)throw Os.create("no-app",{appName:t});return e}function kr(t,e,n){var s;let o=(s=Ab[t])!==null&&s!==void 0?s:t;n&&(o+=`-${n}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const f=[`Unable to register library "${o}" with version "${e}":`];a&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),os.warn(f.join(" "));return}zs(new is(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="firebase-heartbeat-database",Vb=1,dl="firebase-heartbeat-store";let Gh=null;function _x(){return Gh||(Gh=vx(kb,Vb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(dl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Os.create("idb-open",{originalErrorMessage:t.message})})),Gh}async function Db(t){try{const n=(await _x()).transaction(dl),s=await n.objectStore(dl).get(Ex(t));return await n.done,s}catch(e){if(e instanceof Ks)os.warn(e.message);else{const n=Os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});os.warn(n.message)}}}async function Qy(t,e){try{const s=(await _x()).transaction(dl,"readwrite");await s.objectStore(dl).put(e,Ex(t)),await s.done}catch(n){if(n instanceof Ks)os.warn(n.message);else{const s=Os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});os.warn(s.message)}}}function Ex(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=1024,Mb=30*24*60*60*1e3;class Fb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Bb(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Yy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const f=new Date(c.date).valueOf();return Date.now()-f<=Mb}),this._storage.overwrite(this._heartbeatsCache))}catch(s){os.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Yy(),{heartbeatsToSend:s,unsentEntries:o}=Ob(this._heartbeatsCache.heartbeats),a=fu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return os.warn(n),""}}}function Yy(){return new Date().toISOString().substring(0,10)}function Ob(t,e=Lb){const n=[];let s=t.slice();for(const o of t){const a=n.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),Xy(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Xy(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Bb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mx()?px().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Db(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Qy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Qy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Xy(t){return fu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(t){zs(new is("platform-logger",e=>new ZN(e),"PRIVATE")),zs(new is("heartbeat",e=>new Fb(e),"PRIVATE")),kr(wf,qy,t),kr(wf,qy,"esm2017"),kr("fire-js","")}Ub("");var zb="firebase",$b="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr(zb,$b,"app");var Jy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vi,Tx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,N){function P(){}P.prototype=N.prototype,j.D=N.prototype,j.prototype=new P,j.prototype.constructor=j,j.C=function(C,D,V){for(var A=Array(arguments.length-2),je=2;je<arguments.length;je++)A[je-2]=arguments[je];return N.prototype[D].apply(C,A)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(j,N,P){P||(P=0);var C=Array(16);if(typeof N=="string")for(var D=0;16>D;++D)C[D]=N.charCodeAt(P++)|N.charCodeAt(P++)<<8|N.charCodeAt(P++)<<16|N.charCodeAt(P++)<<24;else for(D=0;16>D;++D)C[D]=N[P++]|N[P++]<<8|N[P++]<<16|N[P++]<<24;N=j.g[0],P=j.g[1],D=j.g[2];var V=j.g[3],A=N+(V^P&(D^V))+C[0]+3614090360&4294967295;N=P+(A<<7&4294967295|A>>>25),A=V+(D^N&(P^D))+C[1]+3905402710&4294967295,V=N+(A<<12&4294967295|A>>>20),A=D+(P^V&(N^P))+C[2]+606105819&4294967295,D=V+(A<<17&4294967295|A>>>15),A=P+(N^D&(V^N))+C[3]+3250441966&4294967295,P=D+(A<<22&4294967295|A>>>10),A=N+(V^P&(D^V))+C[4]+4118548399&4294967295,N=P+(A<<7&4294967295|A>>>25),A=V+(D^N&(P^D))+C[5]+1200080426&4294967295,V=N+(A<<12&4294967295|A>>>20),A=D+(P^V&(N^P))+C[6]+2821735955&4294967295,D=V+(A<<17&4294967295|A>>>15),A=P+(N^D&(V^N))+C[7]+4249261313&4294967295,P=D+(A<<22&4294967295|A>>>10),A=N+(V^P&(D^V))+C[8]+1770035416&4294967295,N=P+(A<<7&4294967295|A>>>25),A=V+(D^N&(P^D))+C[9]+2336552879&4294967295,V=N+(A<<12&4294967295|A>>>20),A=D+(P^V&(N^P))+C[10]+4294925233&4294967295,D=V+(A<<17&4294967295|A>>>15),A=P+(N^D&(V^N))+C[11]+2304563134&4294967295,P=D+(A<<22&4294967295|A>>>10),A=N+(V^P&(D^V))+C[12]+1804603682&4294967295,N=P+(A<<7&4294967295|A>>>25),A=V+(D^N&(P^D))+C[13]+4254626195&4294967295,V=N+(A<<12&4294967295|A>>>20),A=D+(P^V&(N^P))+C[14]+2792965006&4294967295,D=V+(A<<17&4294967295|A>>>15),A=P+(N^D&(V^N))+C[15]+1236535329&4294967295,P=D+(A<<22&4294967295|A>>>10),A=N+(D^V&(P^D))+C[1]+4129170786&4294967295,N=P+(A<<5&4294967295|A>>>27),A=V+(P^D&(N^P))+C[6]+3225465664&4294967295,V=N+(A<<9&4294967295|A>>>23),A=D+(N^P&(V^N))+C[11]+643717713&4294967295,D=V+(A<<14&4294967295|A>>>18),A=P+(V^N&(D^V))+C[0]+3921069994&4294967295,P=D+(A<<20&4294967295|A>>>12),A=N+(D^V&(P^D))+C[5]+3593408605&4294967295,N=P+(A<<5&4294967295|A>>>27),A=V+(P^D&(N^P))+C[10]+38016083&4294967295,V=N+(A<<9&4294967295|A>>>23),A=D+(N^P&(V^N))+C[15]+3634488961&4294967295,D=V+(A<<14&4294967295|A>>>18),A=P+(V^N&(D^V))+C[4]+3889429448&4294967295,P=D+(A<<20&4294967295|A>>>12),A=N+(D^V&(P^D))+C[9]+568446438&4294967295,N=P+(A<<5&4294967295|A>>>27),A=V+(P^D&(N^P))+C[14]+3275163606&4294967295,V=N+(A<<9&4294967295|A>>>23),A=D+(N^P&(V^N))+C[3]+4107603335&4294967295,D=V+(A<<14&4294967295|A>>>18),A=P+(V^N&(D^V))+C[8]+1163531501&4294967295,P=D+(A<<20&4294967295|A>>>12),A=N+(D^V&(P^D))+C[13]+2850285829&4294967295,N=P+(A<<5&4294967295|A>>>27),A=V+(P^D&(N^P))+C[2]+4243563512&4294967295,V=N+(A<<9&4294967295|A>>>23),A=D+(N^P&(V^N))+C[7]+1735328473&4294967295,D=V+(A<<14&4294967295|A>>>18),A=P+(V^N&(D^V))+C[12]+2368359562&4294967295,P=D+(A<<20&4294967295|A>>>12),A=N+(P^D^V)+C[5]+4294588738&4294967295,N=P+(A<<4&4294967295|A>>>28),A=V+(N^P^D)+C[8]+2272392833&4294967295,V=N+(A<<11&4294967295|A>>>21),A=D+(V^N^P)+C[11]+1839030562&4294967295,D=V+(A<<16&4294967295|A>>>16),A=P+(D^V^N)+C[14]+4259657740&4294967295,P=D+(A<<23&4294967295|A>>>9),A=N+(P^D^V)+C[1]+2763975236&4294967295,N=P+(A<<4&4294967295|A>>>28),A=V+(N^P^D)+C[4]+1272893353&4294967295,V=N+(A<<11&4294967295|A>>>21),A=D+(V^N^P)+C[7]+4139469664&4294967295,D=V+(A<<16&4294967295|A>>>16),A=P+(D^V^N)+C[10]+3200236656&4294967295,P=D+(A<<23&4294967295|A>>>9),A=N+(P^D^V)+C[13]+681279174&4294967295,N=P+(A<<4&4294967295|A>>>28),A=V+(N^P^D)+C[0]+3936430074&4294967295,V=N+(A<<11&4294967295|A>>>21),A=D+(V^N^P)+C[3]+3572445317&4294967295,D=V+(A<<16&4294967295|A>>>16),A=P+(D^V^N)+C[6]+76029189&4294967295,P=D+(A<<23&4294967295|A>>>9),A=N+(P^D^V)+C[9]+3654602809&4294967295,N=P+(A<<4&4294967295|A>>>28),A=V+(N^P^D)+C[12]+3873151461&4294967295,V=N+(A<<11&4294967295|A>>>21),A=D+(V^N^P)+C[15]+530742520&4294967295,D=V+(A<<16&4294967295|A>>>16),A=P+(D^V^N)+C[2]+3299628645&4294967295,P=D+(A<<23&4294967295|A>>>9),A=N+(D^(P|~V))+C[0]+4096336452&4294967295,N=P+(A<<6&4294967295|A>>>26),A=V+(P^(N|~D))+C[7]+1126891415&4294967295,V=N+(A<<10&4294967295|A>>>22),A=D+(N^(V|~P))+C[14]+2878612391&4294967295,D=V+(A<<15&4294967295|A>>>17),A=P+(V^(D|~N))+C[5]+4237533241&4294967295,P=D+(A<<21&4294967295|A>>>11),A=N+(D^(P|~V))+C[12]+1700485571&4294967295,N=P+(A<<6&4294967295|A>>>26),A=V+(P^(N|~D))+C[3]+2399980690&4294967295,V=N+(A<<10&4294967295|A>>>22),A=D+(N^(V|~P))+C[10]+4293915773&4294967295,D=V+(A<<15&4294967295|A>>>17),A=P+(V^(D|~N))+C[1]+2240044497&4294967295,P=D+(A<<21&4294967295|A>>>11),A=N+(D^(P|~V))+C[8]+1873313359&4294967295,N=P+(A<<6&4294967295|A>>>26),A=V+(P^(N|~D))+C[15]+4264355552&4294967295,V=N+(A<<10&4294967295|A>>>22),A=D+(N^(V|~P))+C[6]+2734768916&4294967295,D=V+(A<<15&4294967295|A>>>17),A=P+(V^(D|~N))+C[13]+1309151649&4294967295,P=D+(A<<21&4294967295|A>>>11),A=N+(D^(P|~V))+C[4]+4149444226&4294967295,N=P+(A<<6&4294967295|A>>>26),A=V+(P^(N|~D))+C[11]+3174756917&4294967295,V=N+(A<<10&4294967295|A>>>22),A=D+(N^(V|~P))+C[2]+718787259&4294967295,D=V+(A<<15&4294967295|A>>>17),A=P+(V^(D|~N))+C[9]+3951481745&4294967295,j.g[0]=j.g[0]+N&4294967295,j.g[1]=j.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,j.g[2]=j.g[2]+D&4294967295,j.g[3]=j.g[3]+V&4294967295}s.prototype.u=function(j,N){N===void 0&&(N=j.length);for(var P=N-this.blockSize,C=this.B,D=this.h,V=0;V<N;){if(D==0)for(;V<=P;)o(this,j,V),V+=this.blockSize;if(typeof j=="string"){for(;V<N;)if(C[D++]=j.charCodeAt(V++),D==this.blockSize){o(this,C),D=0;break}}else for(;V<N;)if(C[D++]=j[V++],D==this.blockSize){o(this,C),D=0;break}}this.h=D,this.o+=N},s.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var N=1;N<j.length-8;++N)j[N]=0;var P=8*this.o;for(N=j.length-8;N<j.length;++N)j[N]=P&255,P/=256;for(this.u(j),j=Array(16),N=P=0;4>N;++N)for(var C=0;32>C;C+=8)j[P++]=this.g[N]>>>C&255;return j};function a(j,N){var P=f;return Object.prototype.hasOwnProperty.call(P,j)?P[j]:P[j]=N(j)}function c(j,N){this.h=N;for(var P=[],C=!0,D=j.length-1;0<=D;D--){var V=j[D]|0;C&&V==N||(P[D]=V,C=!1)}this.g=P}var f={};function m(j){return-128<=j&&128>j?a(j,function(N){return new c([N|0],0>N?-1:0)}):new c([j|0],0>j?-1:0)}function g(j){if(isNaN(j)||!isFinite(j))return w;if(0>j)return k(g(-j));for(var N=[],P=1,C=0;j>=P;C++)N[C]=j/P|0,P*=4294967296;return new c(N,0)}function x(j,N){if(j.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(j.charAt(0)=="-")return k(x(j.substring(1),N));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=g(Math.pow(N,8)),C=w,D=0;D<j.length;D+=8){var V=Math.min(8,j.length-D),A=parseInt(j.substring(D,D+V),N);8>V?(V=g(Math.pow(N,V)),C=C.j(V).add(g(A))):(C=C.j(P),C=C.add(g(A)))}return C}var w=m(0),E=m(1),b=m(16777216);t=c.prototype,t.m=function(){if(L(this))return-k(this).m();for(var j=0,N=1,P=0;P<this.g.length;P++){var C=this.i(P);j+=(0<=C?C:4294967296+C)*N,N*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(R(this))return"0";if(L(this))return"-"+k(this).toString(j);for(var N=g(Math.pow(j,6)),P=this,C="";;){var D=X(P,N).g;P=$(P,D.j(N));var V=((0<P.g.length?P.g[0]:P.h)>>>0).toString(j);if(P=D,R(P))return V+C;for(;6>V.length;)V="0"+V;C=V+C}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function R(j){if(j.h!=0)return!1;for(var N=0;N<j.g.length;N++)if(j.g[N]!=0)return!1;return!0}function L(j){return j.h==-1}t.l=function(j){return j=$(this,j),L(j)?-1:R(j)?0:1};function k(j){for(var N=j.g.length,P=[],C=0;C<N;C++)P[C]=~j.g[C];return new c(P,~j.h).add(E)}t.abs=function(){return L(this)?k(this):this},t.add=function(j){for(var N=Math.max(this.g.length,j.g.length),P=[],C=0,D=0;D<=N;D++){var V=C+(this.i(D)&65535)+(j.i(D)&65535),A=(V>>>16)+(this.i(D)>>>16)+(j.i(D)>>>16);C=A>>>16,V&=65535,A&=65535,P[D]=A<<16|V}return new c(P,P[P.length-1]&-2147483648?-1:0)};function $(j,N){return j.add(k(N))}t.j=function(j){if(R(this)||R(j))return w;if(L(this))return L(j)?k(this).j(k(j)):k(k(this).j(j));if(L(j))return k(this.j(k(j)));if(0>this.l(b)&&0>j.l(b))return g(this.m()*j.m());for(var N=this.g.length+j.g.length,P=[],C=0;C<2*N;C++)P[C]=0;for(C=0;C<this.g.length;C++)for(var D=0;D<j.g.length;D++){var V=this.i(C)>>>16,A=this.i(C)&65535,je=j.i(D)>>>16,Oe=j.i(D)&65535;P[2*C+2*D]+=A*Oe,U(P,2*C+2*D),P[2*C+2*D+1]+=V*Oe,U(P,2*C+2*D+1),P[2*C+2*D+1]+=A*je,U(P,2*C+2*D+1),P[2*C+2*D+2]+=V*je,U(P,2*C+2*D+2)}for(C=0;C<N;C++)P[C]=P[2*C+1]<<16|P[2*C];for(C=N;C<2*N;C++)P[C]=0;return new c(P,0)};function U(j,N){for(;(j[N]&65535)!=j[N];)j[N+1]+=j[N]>>>16,j[N]&=65535,N++}function z(j,N){this.g=j,this.h=N}function X(j,N){if(R(N))throw Error("division by zero");if(R(j))return new z(w,w);if(L(j))return N=X(k(j),N),new z(k(N.g),k(N.h));if(L(N))return N=X(j,k(N)),new z(k(N.g),N.h);if(30<j.g.length){if(L(j)||L(N))throw Error("slowDivide_ only works with positive integers.");for(var P=E,C=N;0>=C.l(j);)P=ue(P),C=ue(C);var D=q(P,1),V=q(C,1);for(C=q(C,2),P=q(P,2);!R(C);){var A=V.add(C);0>=A.l(j)&&(D=D.add(P),V=A),C=q(C,1),P=q(P,1)}return N=$(j,D.j(N)),new z(D,N)}for(D=w;0<=j.l(N);){for(P=Math.max(1,Math.floor(j.m()/N.m())),C=Math.ceil(Math.log(P)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),V=g(P),A=V.j(N);L(A)||0<A.l(j);)P-=C,V=g(P),A=V.j(N);R(V)&&(V=E),D=D.add(V),j=$(j,A)}return new z(D,j)}t.A=function(j){return X(this,j).h},t.and=function(j){for(var N=Math.max(this.g.length,j.g.length),P=[],C=0;C<N;C++)P[C]=this.i(C)&j.i(C);return new c(P,this.h&j.h)},t.or=function(j){for(var N=Math.max(this.g.length,j.g.length),P=[],C=0;C<N;C++)P[C]=this.i(C)|j.i(C);return new c(P,this.h|j.h)},t.xor=function(j){for(var N=Math.max(this.g.length,j.g.length),P=[],C=0;C<N;C++)P[C]=this.i(C)^j.i(C);return new c(P,this.h^j.h)};function ue(j){for(var N=j.g.length+1,P=[],C=0;C<N;C++)P[C]=j.i(C)<<1|j.i(C-1)>>>31;return new c(P,j.h)}function q(j,N){var P=N>>5;N%=32;for(var C=j.g.length-P,D=[],V=0;V<C;V++)D[V]=0<N?j.i(V+P)>>>N|j.i(V+P+1)<<32-N:j.i(V+P);return new c(D,j.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Tx=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=x,Vi=c}).apply(typeof Jy<"u"?Jy:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nx,Qa,bx,ou,Tf,Sx,Px,Ax;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,_){return d==Array.prototype||d==Object.prototype||(d[y]=_.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var y=0;y<d.length;++y){var _=d[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(d,y){if(y)e:{var _=s;d=d.split(".");for(var S=0;S<d.length-1;S++){var W=d[S];if(!(W in _))break e;_=_[W]}d=d[d.length-1],S=_[d],y=y(S),y!=S&&y!=null&&e(_,d,{configurable:!0,writable:!0,value:y})}}function a(d,y){d instanceof String&&(d+="");var _=0,S=!1,W={next:function(){if(!S&&_<d.length){var Q=_++;return{value:y(Q,d[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}o("Array.prototype.values",function(d){return d||function(){return a(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function g(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function x(d,y,_){return d.call.apply(d.bind,arguments)}function w(d,y,_){if(!d)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,S),d.apply(y,W)}}return function(){return d.apply(y,arguments)}}function E(d,y,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:w,E.apply(null,arguments)}function b(d,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),d.apply(this,S)}}function R(d,y){function _(){}_.prototype=y.prototype,d.aa=y.prototype,d.prototype=new _,d.prototype.constructor=d,d.Qb=function(S,W,Q){for(var ce=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)ce[Ze-2]=arguments[Ze];return y.prototype[W].apply(S,ce)}}function L(d){const y=d.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=d[S];return _}return[]}function k(d,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(m(S)){const W=d.length||0,Q=S.length||0;d.length=W+Q;for(let ce=0;ce<Q;ce++)d[W+ce]=S[ce]}else d.push(S)}}class ${constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(d){return/^[\s\xa0]*$/.test(d)}function z(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function X(d){return X[" "](d),d}X[" "]=function(){};var ue=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function q(d,y,_){for(const S in d)y.call(_,d[S],S,d)}function j(d,y){for(const _ in d)y.call(void 0,d[_],_,d)}function N(d){const y={};for(const _ in d)y[_]=d[_];return y}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(d,y){let _,S;for(let W=1;W<arguments.length;W++){S=arguments[W];for(_ in S)d[_]=S[_];for(let Q=0;Q<P.length;Q++)_=P[Q],Object.prototype.hasOwnProperty.call(S,_)&&(d[_]=S[_])}}function D(d){var y=1;d=d.split(":");const _=[];for(;0<y&&d.length;)_.push(d.shift()),y--;return d.length&&_.push(d.join(":")),_}function V(d){f.setTimeout(()=>{throw d},0)}function A(){var d=fe;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class je{constructor(){this.h=this.g=null}add(y,_){const S=Oe.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Oe=new $(()=>new ke,d=>d.reset());class ke{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,ee=!1,fe=new je,le=()=>{const d=f.Promise.resolve(void 0);Ce=()=>{d.then(O)}};var O=()=>{for(var d;d=A();){try{d.h.call(d.g)}catch(_){V(_)}var y=Oe;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}ee=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const _=()=>{};f.addEventListener("test",_,y),f.removeEventListener("test",_,y)}catch{}return d}();function Te(d,y){if(pe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var _=this.type=d.type,S=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(ue){e:{try{X(y.nodeName);var W=!0;break e}catch{}W=!1}W||(y=null)}}else _=="mouseover"?y=d.fromElement:_=="mouseout"&&(y=d.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:me[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Te.aa.h.call(this)}}R(Te,pe);var me={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Be=0;function Le(d,y,_,S,W){this.listener=d,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=W,this.key=++Be,this.da=this.fa=!1}function Xe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ct(d){this.src=d,this.g={},this.h=0}ct.prototype.add=function(d,y,_,S,W){var Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);var ce=ze(d,y,S,W);return-1<ce?(y=d[ce],_||(y.fa=!1)):(y=new Le(y,this.src,Q,!!S,W),y.fa=_,d.push(y)),y};function Dt(d,y){var _=y.type;if(_ in d.g){var S=d.g[_],W=Array.prototype.indexOf.call(S,y,void 0),Q;(Q=0<=W)&&Array.prototype.splice.call(S,W,1),Q&&(Xe(y),d.g[_].length==0&&(delete d.g[_],d.h--))}}function ze(d,y,_,S){for(var W=0;W<d.length;++W){var Q=d[W];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==S)return W}return-1}var Pt="closure_lm_"+(1e6*Math.random()|0),Ut={};function Un(d,y,_,S,W){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)Un(d,y[Q],_,S,W);return null}return _=ve(_),d&&d[De]?d.K(y,_,g(S)?!!S.capture:!1,W):Pn(d,y,_,!1,S,W)}function Pn(d,y,_,S,W,Q){if(!y)throw Error("Invalid event type");var ce=g(W)?!!W.capture:!!W,Ze=J(d);if(Ze||(d[Pt]=Ze=new ct(d)),_=Ze.add(y,_,S,ce,Q),_.proxy)return _;if(S=zn(),_.proxy=S,S.src=d,S.listener=_,d.addEventListener)Pe||(W=ce),W===void 0&&(W=!1),d.addEventListener(y.toString(),S,W);else if(d.attachEvent)d.attachEvent($t(y.toString()),S);else if(d.addListener&&d.removeListener)d.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function zn(){function d(_){return y.call(d.src,d.listener,_)}const y=ie;return d}function mn(d,y,_,S,W){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)mn(d,y[Q],_,S,W);else S=g(S)?!!S.capture:!!S,_=ve(_),d&&d[De]?(d=d.i,y=String(y).toString(),y in d.g&&(Q=d.g[y],_=ze(Q,_,S,W),-1<_&&(Xe(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete d.g[y],d.h--)))):d&&(d=J(d))&&(y=d.g[y.toString()],d=-1,y&&(d=ze(y,_,S,W)),(_=-1<d?y[d]:null)&&zt(_))}function zt(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[De])Dt(y.i,d);else{var _=d.type,S=d.proxy;y.removeEventListener?y.removeEventListener(_,S,d.capture):y.detachEvent?y.detachEvent($t(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=J(y))?(Dt(_,d),_.h==0&&(_.src=null,y[Pt]=null)):Xe(d)}}}function $t(d){return d in Ut?Ut[d]:Ut[d]="on"+d}function ie(d,y){if(d.da)d=!0;else{y=new Te(y,this);var _=d.listener,S=d.ha||d.src;d.fa&&zt(d),d=_.call(S,y)}return d}function J(d){return d=d[Pt],d instanceof ct?d:null}var Z="__closure_events_fn_"+(1e9*Math.random()>>>0);function ve(d){return typeof d=="function"?d:(d[Z]||(d[Z]=function(y){return d.handleEvent(y)}),d[Z])}function de(){Y.call(this),this.i=new ct(this),this.M=this,this.F=null}R(de,Y),de.prototype[De]=!0,de.prototype.removeEventListener=function(d,y,_,S){mn(this,d,y,_,S)};function Ie(d,y){var _,S=d.F;if(S)for(_=[];S;S=S.F)_.push(S);if(d=d.M,S=y.type||y,typeof y=="string")y=new pe(y,d);else if(y instanceof pe)y.target=y.target||d;else{var W=y;y=new pe(S,d),C(y,W)}if(W=!0,_)for(var Q=_.length-1;0<=Q;Q--){var ce=y.g=_[Q];W=rt(ce,S,!0,y)&&W}if(ce=y.g=d,W=rt(ce,S,!0,y)&&W,W=rt(ce,S,!1,y)&&W,_)for(Q=0;Q<_.length;Q++)ce=y.g=_[Q],W=rt(ce,S,!1,y)&&W}de.prototype.N=function(){if(de.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var _=d.g[y],S=0;S<_.length;S++)Xe(_[S]);delete d.g[y],d.h--}}this.F=null},de.prototype.K=function(d,y,_,S){return this.i.add(String(d),y,!1,_,S)},de.prototype.L=function(d,y,_,S){return this.i.add(String(d),y,!0,_,S)};function rt(d,y,_,S){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var W=!0,Q=0;Q<y.length;++Q){var ce=y[Q];if(ce&&!ce.da&&ce.capture==_){var Ze=ce.listener,At=ce.ha||ce.src;ce.fa&&Dt(d.i,ce),W=Ze.call(At,S)!==!1&&W}}return W&&!S.defaultPrevented}function xr(d,y,_){if(typeof d=="function")_&&(d=E(d,_));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:f.setTimeout(d,y||0)}function wr(d){d.g=xr(()=>{d.g=null,d.i&&(d.i=!1,wr(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class Br extends Y{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:wr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function An(d){Y.call(this),this.h=d,this.g={}}R(An,Y);var Xs=[];function Js(d){q(d.g,function(y,_){this.g.hasOwnProperty(_)&&zt(y)},d),d.g={}}An.prototype.N=function(){An.aa.N.call(this),Js(this)},An.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var an=f.JSON.stringify,sa=f.JSON.parse,ia=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function Zs(){}Zs.prototype.h=null;function qi(d){return d.h||(d.h=d.i())}function Ki(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _r(){pe.call(this,"d")}R(_r,pe);function Qi(){pe.call(this,"c")}R(Qi,pe);var Er={},oa=null;function ei(){return oa=oa||new de}Er.La="serverreachability";function aa(d){pe.call(this,Er.La,d)}R(aa,pe);function Ur(d){const y=ei();Ie(y,new aa(y))}Er.STAT_EVENT="statevent";function la(d,y){pe.call(this,Er.STAT_EVENT,d),this.stat=y}R(la,pe);function xt(d){const y=ei();Ie(y,new la(y,d))}Er.Ma="timingevent";function Yi(d,y){pe.call(this,Er.Ma,d),this.size=y}R(Yi,pe);function nr(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},y)}function ti(){this.g=!0}ti.prototype.xa=function(){this.g=!1};function ni(d,y,_,S,W,Q){d.info(function(){if(d.g)if(Q)for(var ce="",Ze=Q.split("&"),At=0;At<Ze.length;At++){var He=Ze[At].split("=");if(1<He.length){var Lt=He[0];He=He[1];var Tt=Lt.split("_");ce=2<=Tt.length&&Tt[1]=="type"?ce+(Lt+"="+He+"&"):ce+(Lt+"=redacted&")}}else ce=null;else ce=Q;return"XMLHTTP REQ ("+S+") [attempt "+W+"]: "+y+`
`+_+`
`+ce})}function Xi(d,y,_,S,W,Q,ce){d.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+W+"]: "+y+`
`+_+`
`+Q+" "+ce})}function rr(d,y,_,S){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+dd(d,_)+(S?" "+S:"")})}function ca(d,y){d.info(function(){return"TIMEOUT: "+y})}ti.prototype.info=function(){};function dd(d,y){if(!d.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(d=0;d<_.length;d++)if(Array.isArray(_[d])){var S=_[d];if(!(2>S.length)){var W=S[1];if(Array.isArray(W)&&!(1>W.length)){var Q=W[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ce=1;ce<W.length;ce++)W[ce]=""}}}}return an(_)}catch{return y}}var Ji={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ml={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},sr;function ri(){}R(ri,Zs),ri.prototype.g=function(){return new XMLHttpRequest},ri.prototype.i=function(){return{}},sr=new ri;function ir(d,y,_,S){this.j=d,this.i=y,this.l=_,this.R=S||1,this.U=new An(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fl}function Fl(){this.i=null,this.g="",this.h=!1}var ua={},Zi={};function eo(d,y,_){d.L=1,d.v=ms(Cn(y)),d.m=_,d.P=!0,da(d,null)}function da(d,y){d.F=Date.now(),st(d),d.A=Cn(d.v);var _=d.A,S=d.R;Array.isArray(S)||(S=[String(S)]),gs(_.i,"t",S),d.C=0,_=d.j.J,d.h=new Fl,d.g=nc(d.j,_?y:null,!d.m),0<d.O&&(d.M=new Br(E(d.Y,d,d.g),d.O)),y=d.U,_=d.g,S=d.ca;var W="readystatechange";Array.isArray(W)||(W&&(Xs[0]=W.toString()),W=Xs);for(var Q=0;Q<W.length;Q++){var ce=Un(_,W[Q],S||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=d.H?N(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),Ur(),ni(d.i,d.u,d.A,d.l,d.R,d.m)}ir.prototype.ca=function(d){d=d.target;const y=this.M;y&&gn(d)==3?y.j():this.Y(d)},ir.prototype.Y=function(d){try{if(d==this.g)e:{const Tt=gn(this.g);var y=this.g.Ba();const Gn=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||ya(this.g)))){this.J||Tt!=4||y==7||(y==8||0>=Gn?Ur(3):Ur(2)),si(this);var _=this.g.Z();this.X=_;t:if(Ol(this)){var S=ya(this.g);d="";var W=S.length,Q=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wn(this),us(this);var ce="";break t}this.h.i=new f.TextDecoder}for(y=0;y<W;y++)this.h.h=!0,d+=this.h.i.decode(S[y],{stream:!(Q&&y==W-1)});S.length=0,this.h.g+=d,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=_==200,Xi(this.i,this.u,this.A,this.l,this.R,Tt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,At=this.g;if((Ze=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Ze)){var He=Ze;break t}}He=null}if(_=He)rr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ha(this,_);else{this.o=!1,this.s=3,xt(12),Wn(this),us(this);break e}}if(this.P){_=!0;let Rn;for(;!this.J&&this.C<ce.length;)if(Rn=hd(this,ce),Rn==Zi){Tt==4&&(this.s=4,xt(14),_=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==ua){this.s=4,xt(15),rr(this.i,this.l,ce,"[Invalid Chunk]"),_=!1;break}else rr(this.i,this.l,Rn,null),ha(this,Rn);if(Ol(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||ce.length!=0||this.h.h||(this.s=1,xt(16),_=!1),this.o=this.o&&_,!_)rr(this.i,this.l,ce,"[Invalid Chunked Response]"),Wn(this),us(this);else if(0<ce.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),xa(Lt),Lt.M=!0,xt(11))}}else rr(this.i,this.l,ce,null),ha(this,ce);Tt==4&&Wn(this),this.o&&!this.J&&(Tt==4?ho(this.j,this):(this.o=!1,st(this)))}else oo(this.g),_==400&&0<ce.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),Wn(this),us(this)}}}catch{}finally{}};function Ol(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function hd(d,y){var _=d.C,S=y.indexOf(`
`,_);return S==-1?Zi:(_=Number(y.substring(_,S)),isNaN(_)?ua:(S+=1,S+_>y.length?Zi:(y=y.slice(S,S+_),d.C=S+_,y)))}ir.prototype.cancel=function(){this.J=!0,Wn(this)};function st(d){d.S=Date.now()+d.I,Bl(d,d.I)}function Bl(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=nr(E(d.ba,d),y)}function si(d){d.B&&(f.clearTimeout(d.B),d.B=null)}ir.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ca(this.i,this.A),this.L!=2&&(Ur(),xt(17)),Wn(this),this.s=2,us(this)):Bl(this,this.S-d)};function us(d){d.j.G==0||d.J||ho(d.j,d)}function Wn(d){si(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,Js(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function ha(d,y){try{var _=d.j;if(_.G!=0&&(_.g==d||ln(_.h,d))){if(!d.K&&ln(_.h,d)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var W=S;if(W[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<d.F)uo(_),ur(_);else break e;co(_),xt(18)}}else _.za=W[1],0<_.za-_.T&&37500>W[2]&&_.F&&_.v==0&&!_.C&&(_.C=nr(E(_.Za,_),6e3));if(1>=zl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Gr(_,11)}else if((d.K||_.g==d)&&uo(_),!U(y))for(W=_.Da.g.parse(y),y=0;y<W.length;y++){let He=W[y];if(_.T=He[0],He=He[1],_.G==2)if(He[0]=="c"){_.K=He[1],_.ia=He[2];const Lt=He[3];Lt!=null&&(_.la=Lt,_.j.info("VER="+_.la));const Tt=He[4];Tt!=null&&(_.Aa=Tt,_.j.info("SVER="+_.Aa));const Gn=He[5];Gn!=null&&typeof Gn=="number"&&0<Gn&&(S=1.5*Gn,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Rn=d.g;if(Rn){const di=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(di){var Q=S.h;Q.g||di.indexOf("spdy")==-1&&di.indexOf("quic")==-1&&di.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(fa(Q,Q.h),Q.h=null))}if(S.D){const mo=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;mo&&(S.ya=mo,tt(S.I,S.D,mo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-d.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ce=d;if(S.qa=tc(S,S.J?S.ia:null,S.W),ce.K){$l(S.h,ce);var Ze=ce,At=S.L;At&&(Ze.I=At),Ze.B&&(si(Ze),st(Ze)),S.g=ce}else ui(S);0<_.i.length&&Sr(_)}else He[0]!="stop"&&He[0]!="close"||Gr(_,7);else _.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Gr(_,7):Ht(_):He[0]!="noop"&&_.l&&_.l.ta(He),_.v=0)}}Ur(4)}catch{}}var Ul=class{constructor(d,y){this.g=d,this.map=y}};function ii(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function zl(d){return d.h?1:d.g?d.g.size:0}function ln(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function fa(d,y){d.g?d.g.add(y):d.h=y}function $l(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}ii.prototype.cancel=function(){if(this.i=Wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Wl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const _ of d.g.values())y=y.concat(_.D);return y}return L(d.i)}function to(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(m(d)){for(var y=[],_=d.length,S=0;S<_;S++)y.push(d[S]);return y}y=[],_=0;for(S in d)y[_++]=d[S];return y}function no(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(m(d)||typeof d=="string"){var y=[];d=d.length;for(var _=0;_<d;_++)y.push(_);return y}y=[],_=0;for(const S in d)y[_++]=S;return y}}}function ds(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(m(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var _=no(d),S=to(d),W=S.length,Q=0;Q<W;Q++)y.call(void 0,S[Q],_&&_[Q],d)}var oi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fd(d,y){if(d){d=d.split("&");for(var _=0;_<d.length;_++){var S=d[_].indexOf("="),W=null;if(0<=S){var Q=d[_].substring(0,S);W=d[_].substring(S+1)}else Q=d[_];y(Q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function zr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof zr){this.h=d.h,ai(this,d.j),this.o=d.o,this.g=d.g,hs(this,d.s),this.l=d.l;var y=d.i,_=new Tr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),fs(this,_),this.m=d.m}else d&&(y=String(d).match(oi))?(this.h=!1,ai(this,y[1]||"",!0),this.o=We(y[2]||""),this.g=We(y[3]||"",!0),hs(this,y[4]),this.l=We(y[5]||"",!0),fs(this,y[6]||"",!0),this.m=We(y[7]||"")):(this.h=!1,this.i=new Tr(null,this.h))}zr.prototype.toString=function(){var d=[],y=this.j;y&&d.push(ps(y,ro,!0),":");var _=this.g;return(_||y=="file")&&(d.push("//"),(y=this.o)&&d.push(ps(y,ro,!0),"@"),d.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&d.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&d.push("/"),d.push(ps(_,_.charAt(0)=="/"?ql:Gl,!0))),(_=this.i.toString())&&d.push("?",_),(_=this.m)&&d.push("#",ps(_,ma)),d.join("")};function Cn(d){return new zr(d)}function ai(d,y,_){d.j=_?We(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function hs(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function fs(d,y,_){y instanceof Tr?(d.i=y,Nr(d.i,d.h)):(_||(y=ps(y,Kl)),d.i=new Tr(y,d.h))}function tt(d,y,_){d.i.set(y,_)}function ms(d){return tt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function We(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ps(d,y,_){return typeof d=="string"?(d=encodeURI(d).replace(y,Hl),_&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Hl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ro=/[#\/\?@]/g,Gl=/[#\?:]/g,ql=/[#\?]/g,Kl=/[#\?@]/g,ma=/#/g;function Tr(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Wt(d){d.g||(d.g=new Map,d.h=0,d.i&&fd(d.i,function(y,_){d.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}t=Tr.prototype,t.add=function(d,y){Wt(this),this.i=null,d=Hn(this,d);var _=this.g.get(d);return _||this.g.set(d,_=[]),_.push(y),this.h+=1,this};function or(d,y){Wt(d),y=Hn(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function ar(d,y){return Wt(d),y=Hn(d,y),d.g.has(y)}t.forEach=function(d,y){Wt(this),this.g.forEach(function(_,S){_.forEach(function(W){d.call(y,W,S,this)},this)},this)},t.na=function(){Wt(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const W=d[S];for(let Q=0;Q<W.length;Q++)_.push(y[S])}return _},t.V=function(d){Wt(this);let y=[];if(typeof d=="string")ar(this,d)&&(y=y.concat(this.g.get(Hn(this,d))));else{d=Array.from(this.g.values());for(let _=0;_<d.length;_++)y=y.concat(d[_])}return y},t.set=function(d,y){return Wt(this),this.i=null,d=Hn(this,d),ar(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function gs(d,y,_){or(d,y),0<_.length&&(d.i=null,d.g.set(Hn(d,y),L(_)),d.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const Q=encodeURIComponent(String(S)),ce=this.V(S);for(S=0;S<ce.length;S++){var W=Q;ce[S]!==""&&(W+="="+encodeURIComponent(String(ce[S]))),d.push(W)}}return this.i=d.join("&")};function Hn(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function Nr(d,y){y&&!d.j&&(Wt(d),d.i=null,d.g.forEach(function(_,S){var W=S.toLowerCase();S!=W&&(or(this,S),gs(this,W,_))},d)),d.j=y}function md(d,y){const _=new ti;if(f.Image){const S=new Image;S.onload=b(pn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=b(pn,_,"TestLoadImage: error",!1,y,S),S.onabort=b(pn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=b(pn,_,"TestLoadImage: timeout",!1,y,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=d}else y(!1)}function Ql(d,y){const _=new ti,S=new AbortController,W=setTimeout(()=>{S.abort(),pn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:S.signal}).then(Q=>{clearTimeout(W),Q.ok?pn(_,"TestPingServer: ok",!0,y):pn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(W),pn(_,"TestPingServer: error",!1,y)})}function pn(d,y,_,S,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),S(_)}catch{}}function pd(){this.g=new ia}function Yl(d,y,_){const S=_||"";try{ds(d,function(W,Q){let ce=W;g(W)&&(ce=an(W)),y.push(S+Q+"="+encodeURIComponent(ce))})}catch(W){throw y.push(S+"type="+encodeURIComponent("_badmap")),W}}function $r(d){this.l=d.Ub||null,this.j=d.eb||!1}R($r,Zs),$r.prototype.g=function(){return new li(this.l,this.j)},$r.prototype.i=function(d){return function(){return d}}({});function li(d,y){de.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(li,de),t=li.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,cr(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||f).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,cr(this)),this.g&&(this.readyState=3,cr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xl(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xl(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?lr(this):cr(this),this.readyState==3&&Xl(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,lr(this))},t.Qa=function(d){this.g&&(this.response=d,lr(this))},t.ga=function(){this.g&&lr(this)};function lr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,cr(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,d.push(_[0]+": "+_[1]),_=y.next();return d.join(`\r
`)};function cr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Wr(d){let y="";return q(d,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function ys(d,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Wr(_),typeof d=="string"?_!=null&&encodeURIComponent(String(_)):tt(d,y,_))}function ut(d){de.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(ut,de);var gd=/^https?$/i,pa=["POST","PUT"];t=ut.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sr.g(),this.v=this.o?qi(this.o):qi(sr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(Q){ci(this,Q);return}if(d=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var W in S)_.set(W,S[W]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())_.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),W=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(pa,y,void 0))||S||W||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ce]of _)this.g.setRequestHeader(Q,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{io(this),this.u=!0,this.g.send(d),this.u=!1}catch(Q){ci(this,Q)}};function ci(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,so(d),In(d)}function so(d){d.A||(d.A=!0,Ie(d,"complete"),Ie(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ie(this,"complete"),Ie(this,"abort"),In(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),In(this,!0)),ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ga(this):this.bb())},t.bb=function(){ga(this)};function ga(d){if(d.h&&typeof c<"u"&&(!d.v[1]||gn(d)!=4||d.Z()!=2)){if(d.u&&gn(d)==4)xr(d.Ea,0,d);else if(Ie(d,"readystatechange"),gn(d)==4){d.h=!1;try{const ce=d.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=ce===0){var W=String(d.D).match(oi)[1]||null;!W&&f.self&&f.self.location&&(W=f.self.location.protocol.slice(0,-1)),S=!gd.test(W?W.toLowerCase():"")}_=S}if(_)Ie(d,"complete"),Ie(d,"success");else{d.m=6;try{var Q=2<gn(d)?d.g.statusText:""}catch{Q=""}d.l=Q+" ["+d.Z()+"]",so(d)}}finally{In(d)}}}}function In(d,y){if(d.g){io(d);const _=d.g,S=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||Ie(d,"ready");try{_.onreadystatechange=S}catch{}}}function io(d){d.I&&(f.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function gn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),sa(y)}};function ya(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function oo(d){const y={};d=(d.g&&2<=gn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<d.length;S++){if(U(d[S]))continue;var _=D(d[S]);const W=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[W]||[];y[W]=Q,Q.push(_)}j(y,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function br(d,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[d]||y}function va(d){this.Aa=0,this.i=[],this.j=new ti,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=br("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=br("baseRetryDelayMs",5e3,d),this.cb=br("retryDelaySeedMs",1e4,d),this.Wa=br("forwardChannelMaxRetries",2,d),this.wa=br("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ii(d&&d.concurrentRequestLimit),this.Da=new pd,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=va.prototype,t.la=8,t.G=1,t.connect=function(d,y,_,S){xt(0),this.W=d,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=tc(this,null,this.W),Sr(this)};function Ht(d){if(ao(d),d.G==3){var y=d.U++,_=Cn(d.I);if(tt(_,"SID",d.K),tt(_,"RID",y),tt(_,"TYPE","terminate"),Hr(d,_),y=new ir(d,d.j,y),y.L=2,y.v=ms(Cn(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=y.v,_=!0),_||(y.g=nc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),st(y)}ec(d)}function ur(d){d.g&&(xa(d),d.g.cancel(),d.g=null)}function ao(d){ur(d),d.u&&(f.clearTimeout(d.u),d.u=null),uo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function Sr(d){if(!jn(d.h)&&!d.s){d.s=!0;var y=d.Ga;Ce||le(),ee||(Ce(),ee=!0),fe.add(y,d),d.B=0}}function yd(d,y){return zl(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=nr(E(d.Ga,d,y),Zl(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const W=new ir(this,this.j,d);let Q=this.o;if(this.S&&(Q?(Q=N(Q),C(Q,this.S)):Q=this.S),this.m!==null||this.O||(W.H=Q,Q=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=vs(this,W,y),_=Cn(this.I),tt(_,"RID",d),tt(_,"CVER",22),this.D&&tt(_,"X-HTTP-Session-Id",this.D),Hr(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(Wr(Q)))+"&"+y:this.m&&ys(_,this.m,Q)),fa(this.h,W),this.Ua&&tt(_,"TYPE","init"),this.P?(tt(_,"$req",y),tt(_,"SID","null"),W.T=!0,eo(W,_,null)):eo(W,_,y),this.G=2}}else this.G==3&&(d?lo(this,d):this.i.length==0||jn(this.h)||lo(this))};function lo(d,y){var _;y?_=y.l:_=d.U++;const S=Cn(d.I);tt(S,"SID",d.K),tt(S,"RID",_),tt(S,"AID",d.T),Hr(d,S),d.m&&d.o&&ys(S,d.m,d.o),_=new ir(d,d.j,_,d.B+1),d.m===null&&(_.H=d.o),y&&(d.i=y.D.concat(d.i)),y=vs(d,_,1e3),_.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),fa(d.h,_),eo(_,S,y)}function Hr(d,y){d.H&&q(d.H,function(_,S){tt(y,S,_)}),d.l&&ds({},function(_,S){tt(y,S,_)})}function vs(d,y,_){_=Math.min(d.i.length,_);var S=d.l?E(d.l.Na,d.l,d):null;e:{var W=d.i;let Q=-1;for(;;){const ce=["count="+_];Q==-1?0<_?(Q=W[0].g,ce.push("ofs="+Q)):Q=0:ce.push("ofs="+Q);let Ze=!0;for(let At=0;At<_;At++){let He=W[At].g;const Lt=W[At].map;if(He-=Q,0>He)Q=Math.max(0,W[At].g-100),Ze=!1;else try{Yl(Lt,ce,"req"+He+"_")}catch{S&&S(Lt)}}if(Ze){S=ce.join("&");break e}}}return d=d.i.splice(0,_),y.D=d,S}function ui(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;Ce||le(),ee||(Ce(),ee=!0),fe.add(y,d),d.v=0}}function co(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=nr(E(d.Fa,d),Zl(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Jl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=nr(E(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),ur(this),Jl(this))};function xa(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function Jl(d){d.g=new ir(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=Cn(d.qa);tt(y,"RID","rpc"),tt(y,"SID",d.K),tt(y,"AID",d.T),tt(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&tt(y,"TO",d.ja),tt(y,"TYPE","xmlhttp"),Hr(d,y),d.m&&d.o&&ys(y,d.m,d.o),d.L&&(d.g.I=d.L);var _=d.g;d=d.ia,_.L=1,_.v=ms(Cn(y)),_.m=null,_.P=!0,da(_,d)}t.Za=function(){this.C!=null&&(this.C=null,ur(this),co(this),xt(19))};function uo(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function ho(d,y){var _=null;if(d.g==y){uo(d),xa(d),d.g=null;var S=2}else if(ln(d.h,y))_=y.D,$l(d.h,y),S=1;else return;if(d.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var W=d.B;S=ei(),Ie(S,new Yi(S,_)),Sr(d)}else ui(d);else if(W=y.s,W==3||W==0&&0<y.X||!(S==1&&yd(d,y)||S==2&&co(d)))switch(_&&0<_.length&&(y=d.h,y.i=y.i.concat(_)),W){case 1:Gr(d,5);break;case 4:Gr(d,10);break;case 3:Gr(d,6);break;default:Gr(d,2)}}}function Zl(d,y){let _=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(_*=2),_*y}function Gr(d,y){if(d.j.info("Error code "+y),y==2){var _=E(d.fb,d),S=d.Xa;const W=!S;S=new zr(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ai(S,"https"),ms(S),W?md(S.toString(),_):Ql(S.toString(),_)}else xt(2);d.G=0,d.l&&d.l.sa(y),ec(d),ao(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function ec(d){if(d.G=0,d.ka=[],d.l){const y=Wl(d.h);(y.length!=0||d.i.length!=0)&&(k(d.ka,y),k(d.ka,d.i),d.h.i.length=0,L(d.i),d.i.length=0),d.l.ra()}}function tc(d,y,_){var S=_ instanceof zr?Cn(_):new zr(_);if(S.g!="")y&&(S.g=y+"."+S.g),hs(S,S.s);else{var W=f.location;S=W.protocol,y=y?y+"."+W.hostname:W.hostname,W=+W.port;var Q=new zr(null);S&&ai(Q,S),y&&(Q.g=y),W&&hs(Q,W),_&&(Q.l=_),S=Q}return _=d.D,y=d.ya,_&&y&&tt(S,_,y),tt(S,"VER",d.la),Hr(d,S),S}function nc(d,y,_){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new ut(new $r({eb:_})):new ut(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wa(){}t=wa.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fo(){}fo.prototype.g=function(d,y){return new cn(d,y)};function cn(d,y){de.call(this),this.g=new va(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!U(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!U(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Pr(this)}R(cn,de),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Ht(this.g)},cn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var _={};_.__data__=d,d=_}else this.u&&(_={},_.__data__=an(d),d=_);y.i.push(new Ul(y.Ya++,d)),y.G==3&&Sr(y)},cn.prototype.N=function(){this.g.l=null,delete this.j,Ht(this.g),delete this.g,cn.aa.N.call(this)};function rc(d){_r.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const _ in y){d=_;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}R(rc,_r);function sc(){Qi.call(this),this.status=1}R(sc,Qi);function Pr(d){this.g=d}R(Pr,wa),Pr.prototype.ua=function(){Ie(this.g,"a")},Pr.prototype.ta=function(d){Ie(this.g,new rc(d))},Pr.prototype.sa=function(d){Ie(this.g,new sc)},Pr.prototype.ra=function(){Ie(this.g,"b")},fo.prototype.createWebChannel=fo.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Ax=function(){return new fo},Px=function(){return ei()},Sx=Er,Tf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ji.NO_ERROR=0,Ji.TIMEOUT=8,Ji.HTTP_ERROR=6,ou=Ji,Ml.COMPLETE="complete",bx=Ml,Ki.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",de.prototype.listen=de.prototype.K,Qa=Ki,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,Nx=ut}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const Zy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ta="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new cm("@firebase/firestore");function Ha(){return Li.logLevel}function we(t,...e){if(Li.logLevel<=Ke.DEBUG){const n=e.map(dm);Li.debug(`Firestore (${ta}): ${t}`,...n)}}function as(t,...e){if(Li.logLevel<=Ke.ERROR){const n=e.map(dm);Li.error(`Firestore (${ta}): ${t}`,...n)}}function Wo(t,...e){if(Li.logLevel<=Ke.WARN){const n=e.map(dm);Li.warn(`Firestore (${ta}): ${t}`,...n)}}function dm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t="Unexpected state"){const e=`FIRESTORE (${ta}) INTERNAL ASSERTION FAILED: `+t;throw as(e),new Error(e)}function et(t,e){t||Ve()}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Ks{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class Hb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Gb{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){et(this.o===void 0);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let a=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ns,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const m=a;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},f=m=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ns)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(et(typeof s.accessToken=="string"),new jx(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new sn(e)}}class qb{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Kb{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new qb(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yb{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){et(this.o===void 0);const s=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,we("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>s(a))};const o=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(et(typeof n.token=="string"),this.R=n.token,new Qb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=Xb(40);for(let a=0;a<o.length;++a)s.length<20&&o[a]<n&&(s+=e.charAt(o[a]%e.length))}return s}}function Ye(t,e){return t<e?-1:t>e?1:0}function Ho(t,e,n){return t.length===e.length&&t.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ee(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Vt(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Vt(0,0))}static max(){return new Me(new Vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ve(),s===void 0?s=e.length-n:s>e.length-n&&Ve(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return hl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hl?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const a=e.get(o),c=n.get(o);if(a<c)return-1;if(a>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ht extends hl{construct(e,n,s){return new ht(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ee(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ht(n)}static emptyPath(){return new ht([])}}const Jb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends hl{construct(e,n,s){return new Qt(e,n,s)}static isValidIdentifier(e){return Jb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qt(["__name__"])}static fromServerFormat(e){const n=[];let s="",o=0;const a=()=>{if(s.length===0)throw new Ee(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new Ee(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Ee(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(s+=f,o++):(a(),o++)}if(a(),c)throw new Ee(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(ht.fromString(e))}static fromName(e){return new Se(ht.fromString(e).popFirst(5))}static empty(){return new Se(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new ht(e.slice()))}}function Zb(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,o=Me.fromTimestamp(s===1e9?new Vt(n+1,0):new Vt(n,s));return new $s(o,Se.empty(),e)}function eS(t){return new $s(t.readTime,t.key,-1)}class $s{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new $s(Me.min(),Se.empty(),-1)}static max(){return new $s(Me.max(),Se.empty(),-1)}}function tS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==nS)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((s,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(s,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,s)=>{n(e)})}static reject(e){return new se((n,s)=>{s(e)})}static waitFor(e){return new se((n,s)=>{let o=0,a=0,c=!1;e.forEach(f=>{++o,f.next(()=>{++a,c&&a===o&&n()},m=>s(m))}),c=!0,a===o&&n()})}static or(e){let n=se.resolve(!1);for(const s of e)n=n.next(o=>o?se.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,a)=>{s.push(n.call(this,o,a))}),this.waitFor(s)}static mapArray(e,n){return new se((s,o)=>{const a=e.length,c=new Array(a);let f=0;for(let m=0;m<a;m++){const g=m;n(e[g]).next(x=>{c[g]=x,++f,f===a&&s(c)},x=>o(x))}})}static doWhile(e,n){return new se((s,o)=>{const a=()=>{e()===!0?n().next(()=>{a()},o):s()};a()})}}function sS(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}hm.oe=-1;function Fu(t){return t==null}function gu(t){return t===0&&1/t==-1/0}function iS(t){return typeof t=="number"&&Number.isInteger(t)&&!gu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ix(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zc(this.root,e,this.comparator,!0)}}class Zc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?s(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,a){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=a??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,a){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const a=s(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,s),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();const e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,n,s,o,a){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new t0(this.data.getIterator())}getIteratorFrom(e){return new t0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=s.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Yt(this.comparator);return n.data=e,n}}class t0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Fn([])}unionWith(e){let n=new Yt(Qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ho(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Rx("Invalid base64 string: "+a):a}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const oS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(t){if(et(!!t),typeof t=="string"){let e=0;const n=oS.exec(t);if(et(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mi(t){return typeof t=="string"?Xt.fromBase64String(t):Xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function mm(t){const e=t.mapValue.fields.__previous_value__;return fm(e)?mm(e):e}function fl(t){const e=Ws(t.mapValue.fields.__local_write_time__.timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n,s,o,a,c,f,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g}}class ml{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ml("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ml&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu={mapValue:{}};function Fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fm(t)?4:cS(t)?9007199254740991:lS(t)?10:11:Ve()}function Fr(t,e){if(t===e)return!0;const n=Fi(t);if(n!==Fi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fl(t).isEqual(fl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Ws(o.timestampValue),f=Ws(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,a){return Mi(o.bytesValue).isEqual(Mi(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,a){return _t(o.geoPointValue.latitude)===_t(a.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(a.geoPointValue.longitude)}(t,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return _t(o.integerValue)===_t(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=_t(o.doubleValue),f=_t(a.doubleValue);return c===f?gu(c)===gu(f):isNaN(c)&&isNaN(f)}return!1}(t,e);case 9:return Ho(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},f=a.mapValue.fields||{};if(e0(c)!==e0(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!Fr(c[m],f[m])))return!1;return!0}(t,e);default:return Ve()}}function pl(t,e){return(t.values||[]).find(n=>Fr(n,e))!==void 0}function Go(t,e){if(t===e)return 0;const n=Fi(t),s=Fi(e);if(n!==s)return Ye(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return function(a,c){const f=_t(a.integerValue||a.doubleValue),m=_t(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(t,e);case 3:return n0(t.timestampValue,e.timestampValue);case 4:return n0(fl(t),fl(e));case 5:return Ye(t.stringValue,e.stringValue);case 6:return function(a,c){const f=Mi(a),m=Mi(c);return f.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(a,c){const f=a.split("/"),m=c.split("/");for(let g=0;g<f.length&&g<m.length;g++){const x=Ye(f[g],m[g]);if(x!==0)return x}return Ye(f.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,c){const f=Ye(_t(a.latitude),_t(c.latitude));return f!==0?f:Ye(_t(a.longitude),_t(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return r0(t.arrayValue,e.arrayValue);case 10:return function(a,c){var f,m,g,x;const w=a.fields||{},E=c.fields||{},b=(f=w.value)===null||f===void 0?void 0:f.arrayValue,R=(m=E.value)===null||m===void 0?void 0:m.arrayValue,L=Ye(((g=b==null?void 0:b.values)===null||g===void 0?void 0:g.length)||0,((x=R==null?void 0:R.values)===null||x===void 0?void 0:x.length)||0);return L!==0?L:r0(b,R)}(t.mapValue,e.mapValue);case 11:return function(a,c){if(a===eu.mapValue&&c===eu.mapValue)return 0;if(a===eu.mapValue)return 1;if(c===eu.mapValue)return-1;const f=a.fields||{},m=Object.keys(f),g=c.fields||{},x=Object.keys(g);m.sort(),x.sort();for(let w=0;w<m.length&&w<x.length;++w){const E=Ye(m[w],x[w]);if(E!==0)return E;const b=Go(f[m[w]],g[x[w]]);if(b!==0)return b}return Ye(m.length,x.length)}(t.mapValue,e.mapValue);default:throw Ve()}}function n0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=Ws(t),s=Ws(e),o=Ye(n.seconds,s.seconds);return o!==0?o:Ye(n.nanos,s.nanos)}function r0(t,e){const n=t.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const a=Go(n[o],s[o]);if(a)return a}return Ye(n.length,s.length)}function qo(t){return Nf(t)}function Nf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=Ws(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Mi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",o=!0;for(const a of n.values||[])o?o=!1:s+=",",s+=Nf(a);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const c of s)a?a=!1:o+=",",o+=`${c}:${Nf(n.fields[c])}`;return o+"}"}(t.mapValue):Ve()}function bf(t){return!!t&&"integerValue"in t}function pm(t){return!!t&&"arrayValue"in t}function s0(t){return!!t&&"nullValue"in t}function i0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function au(t){return!!t&&"mapValue"in t}function lS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function el(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return zi(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=el(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=el(t.arrayValue.values[n]);return e}return Object.assign({},t)}function cS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!au(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=el(n)}setAll(e){let n=Qt.emptyPath(),s={},o=[];e.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=f.popLast()}c?s[f.lastSegment()]=el(c):o.push(f.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,s,o)}delete(e){const n=this.field(e.popLast());au(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];au(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){zi(n,(o,a)=>e[o]=a);for(const o of s)delete e[o]}clone(){return new Tn(el(this.value))}}function kx(t){const e=[];return zi(t.fields,(n,s)=>{const o=new Qt([n]);if(au(s)){const a=kx(s.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n,s,o,a,c,f){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=a,this.data=c,this.documentState=f}static newInvalidDocument(e){return new on(e,0,Me.min(),Me.min(),Me.min(),Tn.empty(),0)}static newFoundDocument(e,n,s,o){return new on(e,1,n,Me.min(),s,o,0)}static newNoDocument(e,n){return new on(e,2,n,Me.min(),Me.min(),Tn.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,Me.min(),Me.min(),Tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.position=e,this.inclusive=n}}function o0(t,e,n){let s=0;for(let o=0;o<t.position.length;o++){const a=e[o],c=t.position[o];if(a.field.isKeyField()?s=Se.comparator(Se.fromName(c.referenceValue),n.key):s=Go(c,n.data.field(a.field)),a.dir==="desc"&&(s*=-1),s!==0)break}return s}function a0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n="asc"){this.field=e,this.dir=n}}function uS(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{}class Rt extends Vx{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new hS(e,n,s):n==="array-contains"?new pS(e,s):n==="in"?new gS(e,s):n==="not-in"?new yS(e,s):n==="array-contains-any"?new vS(e,s):new Rt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new fS(e,s):new mS(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Go(n,this.value)):n!==null&&Fi(this.value)===Fi(n)&&this.matchesComparison(Go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Or extends Vx{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Or(e,n)}matches(e){return Dx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Dx(t){return t.op==="and"}function Lx(t){return dS(t)&&Dx(t)}function dS(t){for(const e of t.filters)if(e instanceof Or)return!1;return!0}function Sf(t){if(t instanceof Rt)return t.field.canonicalString()+t.op.toString()+qo(t.value);if(Lx(t))return t.filters.map(e=>Sf(e)).join(",");{const e=t.filters.map(n=>Sf(n)).join(",");return`${t.op}(${e})`}}function Mx(t,e){return t instanceof Rt?function(s,o){return o instanceof Rt&&s.op===o.op&&s.field.isEqual(o.field)&&Fr(s.value,o.value)}(t,e):t instanceof Or?function(s,o){return o instanceof Or&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((a,c,f)=>a&&Mx(c,o.filters[f]),!0):!1}(t,e):void Ve()}function Fx(t){return t instanceof Rt?function(n){return`${n.field.canonicalString()} ${n.op} ${qo(n.value)}`}(t):t instanceof Or?function(n){return n.op.toString()+" {"+n.getFilters().map(Fx).join(" ,")+"}"}(t):"Filter"}class hS extends Rt{constructor(e,n,s){super(e,n,s),this.key=Se.fromName(s.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class fS extends Rt{constructor(e,n){super(e,"in",n),this.keys=Ox("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mS extends Rt{constructor(e,n){super(e,"not-in",n),this.keys=Ox("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ox(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Se.fromName(s.referenceValue))}class pS extends Rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pm(n)&&pl(n.arrayValue,this.value)}}class gS extends Rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pl(this.value.arrayValue,n)}}class yS extends Rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!pl(this.value.arrayValue,n)}}class vS extends Rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>pl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,n=null,s=[],o=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=a,this.startAt=c,this.endAt=f,this.ue=null}}function l0(t,e=null,n=[],s=[],o=null,a=null,c=null){return new xS(t,e,n,s,o,a,c)}function gm(t){const e=Fe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Sf(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(a){return a.field.canonicalString()+a.dir}(s)).join(","),Fu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>qo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>qo(s)).join(",")),e.ue=n}return e.ue}function ym(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!uS(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Mx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!a0(t.startAt,e.startAt)&&a0(t.endAt,e.endAt)}function Pf(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n=null,s=[],o=[],a=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=m,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function wS(t,e,n,s,o,a,c,f){return new Ou(t,e,n,s,o,a,c,f)}function vm(t){return new Ou(t)}function c0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _S(t){return t.collectionGroup!==null}function tl(t){const e=Fe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Yt(Qt.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new vu(a,s))}),n.has(Qt.keyField().canonicalString())||e.ce.push(new vu(Qt.keyField(),s))}return e.ce}function Vr(t){const e=Fe(t);return e.le||(e.le=ES(e,tl(t))),e.le}function ES(t,e){if(t.limitType==="F")return l0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new vu(o.field,a)});const n=t.endAt?new yu(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new yu(t.startAt.position,t.startAt.inclusive):null;return l0(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Af(t,e,n){return new Ou(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bu(t,e){return ym(Vr(t),Vr(e))&&t.limitType===e.limitType}function Bx(t){return`${gm(Vr(t))}|lt:${t.limitType}`}function Do(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>Fx(o)).join(", ")}]`),Fu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>qo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>qo(o)).join(",")),`Target(${s})`}(Vr(t))}; limitType=${t.limitType})`}function Uu(t,e){return e.isFoundDocument()&&function(s,o){const a=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(a):Se.isDocumentKey(s.path)?s.path.isEqual(a):s.path.isImmediateParentOf(a)}(t,e)&&function(s,o){for(const a of tl(s))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(t,e)&&function(s,o){for(const a of s.filters)if(!a.matches(o))return!1;return!0}(t,e)&&function(s,o){return!(s.startAt&&!function(c,f,m){const g=o0(c,f,m);return c.inclusive?g<=0:g<0}(s.startAt,tl(s),o)||s.endAt&&!function(c,f,m){const g=o0(c,f,m);return c.inclusive?g>=0:g>0}(s.endAt,tl(s),o))}(t,e)}function TS(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ux(t){return(e,n)=>{let s=!1;for(const o of tl(t)){const a=NS(o,e,n);if(a!==0)return a;s=s||o.field.isKeyField()}return 0}}function NS(t,e,n){const s=t.field.isKeyField()?Se.comparator(e.key,n.key):function(a,c,f){const m=c.data.field(a),g=f.data.field(a);return m!==null&&g!==null?Go(m,g):Ve()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,a]of s)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){zi(this.inner,(n,s)=>{for(const[o,a]of s)e(o,a)})}isEmpty(){return Ix(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=new yt(Se.comparator);function ls(){return bS}const zx=new yt(Se.comparator);function Ya(...t){let e=zx;for(const n of t)e=e.insert(n.key,n);return e}function $x(t){let e=zx;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ji(){return nl()}function Wx(){return nl()}function nl(){return new na(t=>t.toString(),(t,e)=>t.isEqual(e))}const SS=new yt(Se.comparator),PS=new Yt(Se.comparator);function $e(...t){let e=PS;for(const n of t)e=e.add(n);return e}const AS=new Yt(Ye);function jS(){return AS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gu(e)?"-0":e}}function Hx(t){return{integerValue:""+t}}function Gx(t,e){return iS(e)?Hx(e):xm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(){this._=void 0}}function CS(t,e,n){return t instanceof gl?function(o,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&fm(a)&&(a=mm(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(n,e):t instanceof yl?Kx(t,e):t instanceof vl?Qx(t,e):function(o,a){const c=qx(o,a),f=u0(c)+u0(o.Pe);return bf(c)&&bf(o.Pe)?Hx(f):xm(o.serializer,f)}(t,e)}function IS(t,e,n){return t instanceof yl?Kx(t,e):t instanceof vl?Qx(t,e):n}function qx(t,e){return t instanceof xl?function(s){return bf(s)||function(a){return!!a&&"doubleValue"in a}(s)}(e)?e:{integerValue:0}:null}class gl extends zu{}class yl extends zu{constructor(e){super(),this.elements=e}}function Kx(t,e){const n=Yx(e);for(const s of t.elements)n.some(o=>Fr(o,s))||n.push(s);return{arrayValue:{values:n}}}class vl extends zu{constructor(e){super(),this.elements=e}}function Qx(t,e){let n=Yx(e);for(const s of t.elements)n=n.filter(o=>!Fr(o,s));return{arrayValue:{values:n}}}class xl extends zu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function u0(t){return _t(t.integerValue||t.doubleValue)}function Yx(t){return pm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n){this.field=e,this.transform=n}}function RS(t,e){return t.field.isEqual(e.field)&&function(s,o){return s instanceof yl&&o instanceof yl||s instanceof vl&&o instanceof vl?Ho(s.elements,o.elements,Fr):s instanceof xl&&o instanceof xl?Fr(s.Pe,o.Pe):s instanceof gl&&o instanceof gl}(t.transform,e.transform)}class kS{constructor(e,n){this.version=e,this.transformResults=n}}class tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $u{}function Jx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wm(t.key,tr.none()):new Pl(t.key,t.data,tr.none());{const n=t.data,s=Tn.empty();let o=new Yt(Qt.comparator);for(let a of e.fields)if(!o.has(a)){let c=n.field(a);c===null&&a.length>1&&(a=a.popLast(),c=n.field(a)),c===null?s.delete(a):s.set(a,c),o=o.add(a)}return new Qs(t.key,s,new Fn(o.toArray()),tr.none())}}function VS(t,e,n){t instanceof Pl?function(o,a,c){const f=o.value.clone(),m=h0(o.fieldTransforms,a,c.transformResults);f.setAll(m),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(t,e,n):t instanceof Qs?function(o,a,c){if(!lu(o.precondition,a))return void a.convertToUnknownDocument(c.version);const f=h0(o.fieldTransforms,a,c.transformResults),m=a.data;m.setAll(Zx(o)),m.setAll(f),a.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(t,e,n):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function rl(t,e,n,s){return t instanceof Pl?function(a,c,f,m){if(!lu(a.precondition,c))return f;const g=a.value.clone(),x=f0(a.fieldTransforms,m,c);return g.setAll(x),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(t,e,n,s):t instanceof Qs?function(a,c,f,m){if(!lu(a.precondition,c))return f;const g=f0(a.fieldTransforms,m,c),x=c.data;return x.setAll(Zx(a)),x.setAll(g),c.convertToFoundDocument(c.version,x).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(t,e,n,s):function(a,c,f){return lu(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(t,e,n)}function DS(t,e){let n=null;for(const s of t.fieldTransforms){const o=e.data.field(s.field),a=qx(s.transform,o||null);a!=null&&(n===null&&(n=Tn.empty()),n.set(s.field,a))}return n||null}function d0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ho(s,o,(a,c)=>RS(a,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pl extends $u{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qs extends $u{constructor(e,n,s,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Zx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function h0(t,e,n){const s=new Map;et(t.length===n.length);for(let o=0;o<n.length;o++){const a=t[o],c=a.transform,f=e.data.field(a.field);s.set(a.field,IS(c,f,n[o]))}return s}function f0(t,e,n){const s=new Map;for(const o of t){const a=o.transform,c=n.data.field(o.field);s.set(o.field,CS(a,c,e))}return s}class wm extends $u{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LS extends $u{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&VS(a,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=rl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=rl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Wx();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=n.has(o.key)?null:f;const m=Jx(c,f);m!==null&&s.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(Me.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),$e())}isEqual(e){return this.batchId===e.batchId&&Ho(this.mutations,e.mutations,(n,s)=>d0(n,s))&&Ho(this.baseMutations,e.baseMutations,(n,s)=>d0(n,s))}}class _m{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){et(e.mutations.length===s.length);let o=function(){return SS}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,s[c].version);return new _m(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Ge;function BS(t){switch(t){default:return Ve();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function ew(t){if(t===void 0)return as("GRPC error has no .code"),re.UNKNOWN;switch(t){case bt.OK:return re.OK;case bt.CANCELLED:return re.CANCELLED;case bt.UNKNOWN:return re.UNKNOWN;case bt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case bt.INTERNAL:return re.INTERNAL;case bt.UNAVAILABLE:return re.UNAVAILABLE;case bt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case bt.NOT_FOUND:return re.NOT_FOUND;case bt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case bt.ABORTED:return re.ABORTED;case bt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case bt.DATA_LOSS:return re.DATA_LOSS;default:return Ve()}}(Ge=bt||(bt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=new Vi([4294967295,4294967295],0);function m0(t){const e=US().encode(t),n=new Tx;return n.update(e),new Uint8Array(n.digest())}function p0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Vi([n,s],0),new Vi([o,a],0)]}class Em{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Xa(`Invalid padding: ${n}`);if(s<0)throw new Xa(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Xa(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Xa(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Vi.fromNumber(this.Ie)}Ee(e,n,s){let o=e.add(n.multiply(Vi.fromNumber(s)));return o.compare(zS)===1&&(o=new Vi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=m0(e),[s,o]=p0(n);for(let a=0;a<this.hashCount;a++){const c=this.Ee(s,o,a);if(!this.de(c))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Em(a,o,n);return s.forEach(f=>c.insert(f)),c}insert(e){if(this.Ie===0)return;const n=m0(e),[s,o]=p0(n);for(let a=0;a<this.hashCount;a++){const c=this.Ee(s,o,a);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Xa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n,s,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Al.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Wu(Me.min(),o,new yt(Ye),ls(),$e())}}class Al{constructor(e,n,s,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Al(s,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n,s,o){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=o}}class tw{constructor(e,n){this.targetId=e,this.me=n}}class nw{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class g0{constructor(){this.fe=0,this.ge=v0(),this.pe=Xt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=$e(),n=$e(),s=$e();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ve()}}),new Al(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=v0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,et(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class $S{constructor(e){this.Le=e,this.Be=new Map,this.ke=ls(),this.qe=y0(),this.Qe=new yt(Ye)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const s=this.Ge(n);switch(e.state){case 0:this.ze(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),s.De(e.resumeToken));break;default:Ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,o)=>{this.ze(o)&&n(o)})}He(e){const n=e.targetId,s=e.me.count,o=this.Je(n);if(o){const a=o.target;if(Pf(a))if(s===0){const c=new Se(a.path);this.Ue(n,c,on.newNoDocument(c,Me.min()))}else et(s===1);else{const c=this.Ye(n);if(c!==s){const f=this.Ze(e),m=f?this.Xe(f,e,c):1;if(m!==0){this.je(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,g)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=n;let c,f;try{c=Mi(s).toUint8Array()}catch(m){if(m instanceof Rx)return Wo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Em(c,o,a)}catch(m){return Wo(m instanceof Xa?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.Ie===0?null:f}Xe(e,n,s){return n.me.count===s-this.nt(e,n.targetId)?0:2}nt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let o=0;return s.forEach(a=>{const c=this.Le.tt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.Ue(n,a,null),o++)}),o}rt(e){const n=new Map;this.Be.forEach((a,c)=>{const f=this.Je(c);if(f){if(a.current&&Pf(f.target)){const m=new Se(f.target.path);this.ke.get(m)!==null||this.it(c,m)||this.Ue(c,m,on.newNoDocument(m,e))}a.be&&(n.set(c,a.ve()),a.Ce())}});let s=$e();this.qe.forEach((a,c)=>{let f=!0;c.forEachWhile(m=>{const g=this.Je(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(a))}),this.ke.forEach((a,c)=>c.setReadTime(e));const o=new Wu(e,n,this.Qe,this.ke,s);return this.ke=ls(),this.qe=y0(),this.Qe=new yt(Ye),o}$e(e,n){if(!this.ze(e))return;const s=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,s){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new g0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Yt(Ye),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new g0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function y0(){return new yt(Se.comparator)}function v0(){return new yt(Se.comparator)}const WS={asc:"ASCENDING",desc:"DESCENDING"},HS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GS={and:"AND",or:"OR"};class qS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jf(t,e){return t.useProto3Json||Fu(e)?e:{value:e}}function xu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function KS(t,e){return xu(t,e.toTimestamp())}function Dr(t){return et(!!t),Me.fromTimestamp(function(n){const s=Ws(n);return new Vt(s.seconds,s.nanos)}(t))}function Tm(t,e){return Cf(t,e).canonicalString()}function Cf(t,e){const n=function(o){return new ht(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sw(t){const e=ht.fromString(t);return et(cw(e)),e}function If(t,e){return Tm(t.databaseId,e.path)}function qh(t,e){const n=sw(e);if(n.get(1)!==t.databaseId.projectId)throw new Ee(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ee(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(ow(n))}function iw(t,e){return Tm(t.databaseId,e)}function QS(t){const e=sw(t);return e.length===4?ht.emptyPath():ow(e)}function Rf(t){return new ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ow(t){return et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function x0(t,e,n){return{name:If(t,e),fields:n.value.mapValue.fields}}function YS(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(g,x){return g.useProto3Json?(et(x===void 0||typeof x=="string"),Xt.fromBase64String(x||"")):(et(x===void 0||x instanceof Buffer||x instanceof Uint8Array),Xt.fromUint8Array(x||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(g){const x=g.code===void 0?re.UNKNOWN:ew(g.code);return new Ee(x,g.message||"")}(c);n=new nw(s,o,a,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=qh(t,s.document.name),a=Dr(s.document.updateTime),c=s.document.createTime?Dr(s.document.createTime):Me.min(),f=new Tn({mapValue:{fields:s.document.fields}}),m=on.newFoundDocument(o,a,c,f),g=s.targetIds||[],x=s.removedTargetIds||[];n=new cu(g,x,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=qh(t,s.document),a=s.readTime?Dr(s.readTime):Me.min(),c=on.newNoDocument(o,a),f=s.removedTargetIds||[];n=new cu([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=qh(t,s.document),a=s.removedTargetIds||[];n=new cu([],a,o,null)}else{if(!("filter"in e))return Ve();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:a}=s,c=new OS(o,a),f=s.targetId;n=new tw(f,c)}}return n}function XS(t,e){let n;if(e instanceof Pl)n={update:x0(t,e.key,e.value)};else if(e instanceof wm)n={delete:If(t,e.key)};else if(e instanceof Qs)n={update:x0(t,e.key,e.data),updateMask:oP(e.fieldMask)};else{if(!(e instanceof LS))return Ve();n={verify:If(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const f=c.transform;if(f instanceof gl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof yl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof vl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof xl)return{fieldPath:c.field.canonicalString(),increment:f.Pe};throw Ve()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:KS(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ve()}(t,e.precondition)),n}function JS(t,e){return t&&t.length>0?(et(e!==void 0),t.map(n=>function(o,a){let c=o.updateTime?Dr(o.updateTime):Dr(a);return c.isEqual(Me.min())&&(c=Dr(a)),new kS(c,o.transformResults||[])}(n,e))):[]}function ZS(t,e){return{documents:[iw(t,e.path)]}}function eP(t,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=iw(t,o);const a=function(g){if(g.length!==0)return lw(Or.create(g,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const c=function(g){if(g.length!==0)return g.map(x=>function(E){return{field:Lo(E.field),direction:rP(E.dir)}}(x))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=jf(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{_t:n,parent:o}}function tP(t){let e=QS(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){et(s===1);const x=n.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let a=[];n.where&&(a=function(w){const E=aw(w);return E instanceof Or&&Lx(E)?E.getFilters():[E]}(n.where));let c=[];n.orderBy&&(c=function(w){return w.map(E=>function(R){return new vu(Mo(R.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(E))}(n.orderBy));let f=null;n.limit&&(f=function(w){let E;return E=typeof w=="object"?w.value:w,Fu(E)?null:E}(n.limit));let m=null;n.startAt&&(m=function(w){const E=!!w.before,b=w.values||[];return new yu(b,E)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const E=!w.before,b=w.values||[];return new yu(b,E)}(n.endAt)),wS(e,o,c,a,f,"F",m,g)}function nP(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Mo(n.unaryFilter.field);return Rt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Mo(n.unaryFilter.field);return Rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Mo(n.unaryFilter.field);return Rt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Mo(n.unaryFilter.field);return Rt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}}(t):t.fieldFilter!==void 0?function(n){return Rt.create(Mo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Or.create(n.compositeFilter.filters.map(s=>aw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ve()}}(n.compositeFilter.op))}(t):Ve()}function rP(t){return WS[t]}function sP(t){return HS[t]}function iP(t){return GS[t]}function Lo(t){return{fieldPath:t.canonicalString()}}function Mo(t){return Qt.fromServerFormat(t.fieldPath)}function lw(t){return t instanceof Rt?function(n){if(n.op==="=="){if(i0(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NAN"}};if(s0(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(i0(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NAN"}};if(s0(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(n.field),op:sP(n.op),value:n.value}}}(t):t instanceof Or?function(n){const s=n.getFilters().map(o=>lw(o));return s.length===1?s[0]:{compositeFilter:{op:iP(n.op),filters:s}}}(t):Ve()}function oP(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n,s,o,a=Me.min(),c=Me.min(),f=Xt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e){this.ct=e}}function lP(t){const e=tP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Af(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.un=new uP}addToCollectionParentIndex(e,n){return this.un.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve($s.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve($s.min())}updateCollectionGroup(e,n,s){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class uP{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Yt(ht.comparator),a=!o.has(s);return this.index[n]=o.add(s),a}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Yt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ko(0)}static kn(){return new Ko(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.changes=new na(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?se.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&rl(s.mutation,o,Fn.empty(),Vt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,$e()).next(()=>s))}getLocalViewOfDocuments(e,n,s=$e()){const o=ji();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(a=>{let c=Ya();return a.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const s=ji();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,$e()))}populateOverlays(e,n,s){const o=[];return s.forEach(a=>{n.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,f)=>{n.set(c,f)})})}computeViews(e,n,s,o){let a=ls();const c=nl(),f=function(){return nl()}();return n.forEach((m,g)=>{const x=s.get(g.key);o.has(g.key)&&(x===void 0||x.mutation instanceof Qs)?a=a.insert(g.key,g):x!==void 0?(c.set(g.key,x.mutation.getFieldMask()),rl(x.mutation,g,x.mutation.getFieldMask(),Vt.now())):c.set(g.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,a).next(m=>(m.forEach((g,x)=>c.set(g,x)),n.forEach((g,x)=>{var w;return f.set(g,new hP(x,(w=c.get(g))!==null&&w!==void 0?w:null))}),f))}recalculateAndSaveOverlays(e,n){const s=nl();let o=new yt((c,f)=>c-f),a=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const f of c)f.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let x=s.get(m)||Fn.empty();x=f.applyToLocalView(g,x),s.set(m,x);const w=(o.get(f.batchId)||$e()).add(m);o=o.insert(f.batchId,w)})}).next(()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,x=m.value,w=Wx();x.forEach(E=>{if(!a.has(E)){const b=Jx(n.get(E),s.get(E));b!==null&&w.set(E,b),a=a.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,w))}return se.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(c){return Se.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_S(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-a.size):se.resolve(ji());let f=-1,m=a;return c.next(g=>se.forEach(g,(x,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),a.get(x)?se.resolve():this.remoteDocumentCache.getEntry(e,x).next(E=>{m=m.insert(x,E)}))).next(()=>this.populateOverlays(e,g,a)).next(()=>this.computeViews(e,m,g,$e())).next(x=>({batchId:f,changes:$x(x)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next(s=>{let o=Ya();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const a=n.collectionGroup;let c=Ya();return this.indexManager.getCollectionParents(e,a).next(f=>se.forEach(f,m=>{const g=function(w,E){return new Ou(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,m.child(a));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(x=>{x.forEach((w,E)=>{c=c.insert(w,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,s,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,a,o))).next(c=>{a.forEach((m,g)=>{const x=g.getKey();c.get(x)===null&&(c=c.insert(x,on.newInvalidDocument(x)))});let f=Ya();return c.forEach((m,g)=>{const x=a.get(m);x!==void 0&&rl(x.mutation,g,Fn.empty(),Vt.now()),Uu(n,g)&&(f=f.insert(m,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return se.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Dr(o.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(o){return{name:o.name,query:lP(o.bundledQuery),readTime:Dr(o.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(){this.overlays=new yt(Se.comparator),this.Ir=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ji();return se.forEach(n,o=>this.getOverlay(e,o).next(a=>{a!==null&&s.set(o,a)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,a)=>{this.ht(e,n,a)}),se.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Ir.get(s);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(s)),se.resolve()}getOverlaysForCollection(e,n,s){const o=ji(),a=n.length+1,c=new Se(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===a&&m.largestBatchId>s&&o.set(m.getKey(),m)}return se.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let a=new yt((g,x)=>g-x);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let x=a.get(g.largestBatchId);x===null&&(x=ji(),a=a.insert(g.largestBatchId,x)),x.set(g.getKey(),g)}}const f=ji(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,x)=>f.set(g,x)),!(f.size()>=o)););return se.resolve(f)}ht(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.Ir.get(o.largestBatchId).delete(s.key);this.Ir.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new FS(n,s));let a=this.Ir.get(n);a===void 0&&(a=$e(),this.Ir.set(n,a)),this.Ir.set(n,a.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(){this.Tr=new Yt(Bt.Er),this.dr=new Yt(Bt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Vr(new Bt(e,n))}mr(e,n){e.forEach(s=>this.removeReference(s,n))}gr(e){const n=new Se(new ht([])),s=new Bt(n,e),o=new Bt(n,e+1),a=[];return this.dr.forEachInRange([s,o],c=>{this.Vr(c),a.push(c.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Se(new ht([])),s=new Bt(n,e),o=new Bt(n,e+1);let a=$e();return this.dr.forEachInRange([s,o],c=>{a=a.add(c.key)}),a}containsKey(e){const n=new Bt(e,0),s=this.Tr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Se.comparator(e.key,n.key)||Ye(e.wr,n.wr)}static Ar(e,n){return Ye(e.wr,n.wr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Yt(Bt.Er)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new MS(a,n,s,o);this.mutationQueue.push(c);for(const f of o)this.br=this.br.add(new Bt(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,n){return se.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.vr(s),a=o<0?0:o;return se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([s,o],c=>{const f=this.Dr(c.wr);a.push(f)}),se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Yt(Ye);return n.forEach(o=>{const a=new Bt(o,0),c=new Bt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,c],f=>{s=s.add(f.wr)})}),se.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let a=s;Se.isDocumentKey(a)||(a=a.child(""));const c=new Bt(new Se(a),0);let f=new Yt(Ye);return this.br.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(f=f.add(m.wr)),!0)},c),se.resolve(this.Cr(f))}Cr(e){const n=[];return e.forEach(s=>{const o=this.Dr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){et(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return se.forEach(n.mutations,o=>{const a=new Bt(o.key,n.batchId);return s=s.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=s})}On(e){}containsKey(e,n){const s=new Bt(n,0),o=this.br.firstAfterOrEqual(s);return se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e){this.Mr=e,this.docs=function(){return new yt(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),a=o?o.size:0,c=this.Mr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return se.resolve(s?s.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let s=ls();return n.forEach(o=>{const a=this.docs.get(o);s=s.insert(o,a?a.document.mutableCopy():on.newInvalidDocument(o))}),se.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let a=ls();const c=n.path,f=new Se(c.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:x}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||tS(eS(x),s)<=0||(o.has(x.key)||Uu(n,x))&&(a=a.insert(x.key,x.mutableCopy()))}return se.resolve(a)}getAllFromCollectionGroup(e,n,s,o){Ve()}Or(e,n){return se.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new xP(this)}getSize(e){return se.resolve(this.size)}}class xP extends dP{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(e,o)):this.cr.removeEntry(s)}),se.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.persistence=e,this.Nr=new na(n=>gm(n),ym),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Nm,this.targetCount=0,this.kr=Ko.Bn()}forEachTarget(e,n){return this.Nr.forEach((s,o)=>n(o)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Lr&&(this.Lr=n),se.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ko(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Kn(n),se.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,s){let o=0;const a=[];return this.Nr.forEach((c,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.Nr.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),se.waitFor(a).next(()=>o)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const s=this.Nr.get(n)||null;return se.resolve(s)}addMatchingKeys(e,n,s){return this.Br.Rr(n,s),se.resolve()}removeMatchingKeys(e,n,s){this.Br.mr(n,s);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),se.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Br.yr(n);return se.resolve(s)}containsKey(e,n){return se.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,n){this.qr={},this.overlays={},this.Qr=new hm(0),this.Kr=!1,this.Kr=!0,this.$r=new gP,this.referenceDelegate=e(this),this.Ur=new wP(this),this.indexManager=new cP,this.remoteDocumentCache=function(o){return new vP(o)}(s=>this.referenceDelegate.Wr(s)),this.serializer=new aP(n),this.Gr=new mP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.qr[e.toKey()];return s||(s=new yP(n,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,s){we("MemoryPersistence","Starting transaction:",e);const o=new EP(this.Qr.next());return this.referenceDelegate.zr(),s(o).next(a=>this.referenceDelegate.jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Hr(e,n){return se.or(Object.values(this.qr).map(s=>()=>s.containsKey(e,n)))}}class EP extends rS{constructor(e){super(),this.currentSequenceNumber=e}}class bm{constructor(e){this.persistence=e,this.Jr=new Nm,this.Yr=null}static Zr(e){return new bm(e)}get Xr(){if(this.Yr)return this.Yr;throw Ve()}addReference(e,n,s){return this.Jr.addReference(s,n),this.Xr.delete(s.toString()),se.resolve()}removeReference(e,n,s){return this.Jr.removeReference(s,n),this.Xr.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),se.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(o=>this.Xr.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(a=>this.Xr.add(a.toString()))}).next(()=>s.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Xr,s=>{const o=Se.fromPath(s);return this.ei(e,o).next(a=>{a||n.removeEntry(o,Me.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(s=>{s?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return se.or([()=>se.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.$i=s,this.Ui=o}static Wi(e,n){let s=$e(),o=$e();for(const a of n.docChanges)switch(a.type){case 0:s=s.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Sm(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return SN()?8:sS(TN())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,s,o){const a={result:null};return this.Yi(e,n).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.Zi(e,n,o,s).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new TP;return this.Xi(e,n,c).next(f=>{if(a.result=f,this.zi)return this.es(e,n,c,f.size)})}).next(()=>a.result)}es(e,n,s,o){return s.documentReadCount<this.ji?(Ha()<=Ke.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Do(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),se.resolve()):(Ha()<=Ke.DEBUG&&we("QueryEngine","Query:",Do(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Hi*o?(Ha()<=Ke.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Do(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vr(n))):se.resolve())}Yi(e,n){if(c0(n))return se.resolve(null);let s=Vr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Af(n,null,"F"),s=Vr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(a=>{const c=$e(...a);return this.Ji.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,s).next(m=>{const g=this.ts(n,f);return this.ns(n,g,c,m.readTime)?this.Yi(e,Af(n,null,"F")):this.rs(e,g,n,m)}))})))}Zi(e,n,s,o){return c0(n)||o.isEqual(Me.min())?se.resolve(null):this.Ji.getDocuments(e,s).next(a=>{const c=this.ts(n,a);return this.ns(n,c,s,o)?se.resolve(null):(Ha()<=Ke.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Do(n)),this.rs(e,c,n,Zb(o,-1)).next(f=>f))})}ts(e,n){let s=new Yt(Ux(e));return n.forEach((o,a)=>{Uu(e,a)&&(s=s.add(a))}),s}ns(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Xi(e,n,s){return Ha()<=Ke.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Do(n)),this.Ji.getDocumentsMatchingQuery(e,n,$s.min(),s)}rs(e,n,s,o){return this.Ji.getDocumentsMatchingQuery(e,s,o).next(a=>(n.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,n,s,o){this.persistence=e,this.ss=n,this.serializer=o,this.os=new yt(Ye),this._s=new na(a=>gm(a),ym),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fP(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function SP(t,e,n,s){return new bP(t,e,n,s)}async function uw(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(a=>(o=a,n.ls(e),n.mutationQueue.getAllMutationBatches(s))).next(a=>{const c=[],f=[];let m=$e();for(const g of o){c.push(g.batchId);for(const x of g.mutations)m=m.add(x.key)}for(const g of a){f.push(g.batchId);for(const x of g.mutations)m=m.add(x.key)}return n.localDocuments.getDocuments(s,m).next(g=>({hs:g,removedBatchIds:c,addedBatchIds:f}))})})}function PP(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(f,m,g,x){const w=g.batch,E=w.keys();let b=se.resolve();return E.forEach(R=>{b=b.next(()=>x.getEntry(m,R)).next(L=>{const k=g.docVersions.get(R);et(k!==null),L.version.compareTo(k)<0&&(w.applyToRemoteDocument(L,g),L.isValidDocument()&&(L.setReadTime(g.commitVersion),x.addEntry(L)))})}),b.next(()=>f.mutationQueue.removeMutationBatch(m,w))}(n,s,e,a).next(()=>a.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let m=$e();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(m=m.add(f.batch.mutations[g].key));return m}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function dw(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function AP(t,e){const n=Fe(t),s=e.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const f=[];e.targetChanges.forEach((x,w)=>{const E=o.get(w);if(!E)return;f.push(n.Ur.removeMatchingKeys(a,x.removedDocuments,w).next(()=>n.Ur.addMatchingKeys(a,x.addedDocuments,w)));let b=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?b=b.withResumeToken(Xt.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):x.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(x.resumeToken,s)),o=o.insert(w,b),function(L,k,$){return L.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(E,b,x)&&f.push(n.Ur.updateTargetData(a,b))});let m=ls(),g=$e();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(a,x))}),f.push(jP(a,c,e.documentUpdates).next(x=>{m=x.Ps,g=x.Is})),!s.isEqual(Me.min())){const x=n.Ur.getLastRemoteSnapshotVersion(a).next(w=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,s));f.push(x)}return se.waitFor(f).next(()=>c.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,m,g)).next(()=>m)}).then(a=>(n.os=o,a))}function jP(t,e,n){let s=$e(),o=$e();return n.forEach(a=>s=s.add(a)),e.getEntries(t,s).next(a=>{let c=ls();return n.forEach((f,m)=>{const g=a.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(f)),m.isNoDocument()&&m.version.isEqual(Me.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):we("LocalStore","Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)}),{Ps:c,Is:o}})}function CP(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function IP(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ur.getTargetData(s,e).next(a=>a?(o=a,se.resolve(o)):n.Ur.allocateTargetId(s).next(c=>(o=new Ms(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Ur.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.os.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(s.targetId,s),n._s.set(e,s.targetId)),s})}async function kf(t,e,n){const s=Fe(t),o=s.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",a,c=>s.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Sl(c))throw c;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}s.os=s.os.remove(e),s._s.delete(o.target)}function w0(t,e,n){const s=Fe(t);let o=Me.min(),a=$e();return s.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,x){const w=Fe(m),E=w._s.get(x);return E!==void 0?se.resolve(w.os.get(E)):w.Ur.getTargetData(g,x)}(s,c,Vr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(c,f.targetId).next(m=>{a=m})}).next(()=>s.ss.getDocumentsMatchingQuery(c,e,n?o:Me.min(),n?a:$e())).next(f=>(RP(s,TS(e),f),{documents:f,Ts:a})))}function RP(t,e,n){let s=t.us.get(e)||Me.min();n.forEach((o,a)=>{a.readTime.compareTo(s)>0&&(s=a.readTime)}),t.us.set(e,s)}class _0{constructor(){this.activeTargetIds=jS()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kP{constructor(){this.so=new _0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,s){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new _0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu=null;function Kh(){return tu===null?tu=function(){return 268435456+Math.round(2147483648*Math.random())}():tu++,"0x"+tu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class MP extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+n.host,this.vo=`projects/${o}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}get Fo(){return!1}Mo(n,s,o,a,c){const f=Kh(),m=this.xo(n,s.toUriEncodedString());we("RestConnection",`Sending RPC '${n}' ${f}:`,m,o);const g={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(g,a,c),this.No(n,m,g,o).then(x=>(we("RestConnection",`Received RPC '${n}' ${f}: `,x),x),x=>{throw Wo("RestConnection",`RPC '${n}' ${f} failed with error: `,x,"url: ",m,"request:",o),x})}Lo(n,s,o,a,c,f){return this.Mo(n,s,o,a,c)}Oo(n,s,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ta}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((a,c)=>n[c]=a),o&&o.headers.forEach((a,c)=>n[c]=a)}xo(n,s){const o=DP[n];return`${this.Do}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,s,o){const a=Kh();return new Promise((c,f)=>{const m=new Nx;m.setWithCredentials(!0),m.listenOnce(bx.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case ou.NO_ERROR:const x=m.getResponseJson();we(nn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(x)),c(x);break;case ou.TIMEOUT:we(nn,`RPC '${e}' ${a} timed out`),f(new Ee(re.DEADLINE_EXCEEDED,"Request time out"));break;case ou.HTTP_ERROR:const w=m.getStatus();if(we(nn,`RPC '${e}' ${a} failed with status:`,w,"response text:",m.getResponseText()),w>0){let E=m.getResponseJson();Array.isArray(E)&&(E=E[0]);const b=E==null?void 0:E.error;if(b&&b.status&&b.message){const R=function(k){const $=k.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf($)>=0?$:re.UNKNOWN}(b.status);f(new Ee(R,b.message))}else f(new Ee(re.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Ee(re.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{we(nn,`RPC '${e}' ${a} completed.`)}});const g=JSON.stringify(o);we(nn,`RPC '${e}' ${a} sending request:`,o),m.send(n,"POST",g,s,15)})}Bo(e,n,s){const o=Kh(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Ax(),f=Px(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Oo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const x=a.join("");we(nn,`Creating RPC '${e}' stream ${o}: ${x}`,m);const w=c.createWebChannel(x,m);let E=!1,b=!1;const R=new LP({Io:k=>{b?we(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(E||(we(nn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),E=!0),we(nn,`RPC '${e}' stream ${o} sending:`,k),w.send(k))},To:()=>w.close()}),L=(k,$,U)=>{k.listen($,z=>{try{U(z)}catch(X){setTimeout(()=>{throw X},0)}})};return L(w,Qa.EventType.OPEN,()=>{b||(we(nn,`RPC '${e}' stream ${o} transport opened.`),R.yo())}),L(w,Qa.EventType.CLOSE,()=>{b||(b=!0,we(nn,`RPC '${e}' stream ${o} transport closed`),R.So())}),L(w,Qa.EventType.ERROR,k=>{b||(b=!0,Wo(nn,`RPC '${e}' stream ${o} transport errored:`,k),R.So(new Ee(re.UNAVAILABLE,"The operation could not be completed")))}),L(w,Qa.EventType.MESSAGE,k=>{var $;if(!b){const U=k.data[0];et(!!U);const z=U,X=z.error||(($=z[0])===null||$===void 0?void 0:$.error);if(X){we(nn,`RPC '${e}' stream ${o} received error:`,X);const ue=X.status;let q=function(P){const C=bt[P];if(C!==void 0)return ew(C)}(ue),j=X.message;q===void 0&&(q=re.INTERNAL,j="Unknown error status: "+ue+" with message "+X.message),b=!0,R.So(new Ee(q,j)),w.close()}else we(nn,`RPC '${e}' stream ${o} received:`,U),R.bo(U)}}),L(f,Sx.STAT_EVENT,k=>{k.stat===Tf.PROXY?we(nn,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===Tf.NOPROXY&&we(nn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{R.wo()},0),R}}function Qh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t){return new qS(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,n,s=1e3,o=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=s,this.qo=o,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-s);o>0&&we("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n,s,o,a,c,f,m){this.ui=e,this.Ho=s,this.Jo=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new hw(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(as(n.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Yo===n&&this.P_(s,o)},s=>{e(()=>{const o=new Ee(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(o)})})}P_(e,n){const s=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{s(()=>this.I_(o))}),this.stream.onMessage(o=>{s(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FP extends fw{constructor(e,n,s,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=YS(this.serializer,e),s=function(a){if(!("targetChange"in a))return Me.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Me.min():c.readTime?Dr(c.readTime):Me.min()}(e);return this.listener.d_(n,s)}A_(e){const n={};n.database=Rf(this.serializer),n.addTarget=function(a,c){let f;const m=c.target;if(f=Pf(m)?{documents:ZS(a,m)}:{query:eP(a,m)._t},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=rw(a,c.resumeToken);const g=jf(a,c.expectedCount);g!==null&&(f.expectedCount=g)}else if(c.snapshotVersion.compareTo(Me.min())>0){f.readTime=xu(a,c.snapshotVersion.toTimestamp());const g=jf(a,c.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,e);const s=nP(this.serializer,e);s&&(n.labels=s),this.a_(n)}R_(e){const n={};n.database=Rf(this.serializer),n.removeTarget=e,this.a_(n)}}class OP extends fw{constructor(e,n,s,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return et(!!e.streamToken),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=JS(e.writeResults,e.commitTime),s=Dr(e.commitTime);return this.listener.g_(s,n)}p_(){const e={};e.database=Rf(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>XS(this.serializer,s))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP extends class{}{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new Ee(re.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Mo(e,Cf(n,s),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ee(re.UNKNOWN,a.toString())})}Lo(e,n,s,o,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Lo(e,Cf(n,s),o,c,f,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ee(re.UNKNOWN,c.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class UP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(as(n),this.D_=!1):we("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,n,s,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(c=>{s.enqueueAndForget(async()=>{$i(this)&&(we("RemoteStore","Restarting streams for network reachability change."),await async function(m){const g=Fe(m);g.L_.add(4),await jl(g),g.q_.set("Unknown"),g.L_.delete(4),await Gu(g)}(this))})}),this.q_=new UP(s,o)}}async function Gu(t){if($i(t))for(const e of t.B_)await e(!0)}async function jl(t){for(const e of t.B_)await e(!1)}function mw(t,e){const n=Fe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Cm(n)?jm(n):ra(n).r_()&&Am(n,e))}function Pm(t,e){const n=Fe(t),s=ra(n);n.N_.delete(e),s.r_()&&pw(n,e),n.N_.size===0&&(s.r_()?s.o_():$i(n)&&n.q_.set("Unknown"))}function Am(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ra(t).A_(e)}function pw(t,e){t.Q_.xe(e),ra(t).R_(e)}function jm(t){t.Q_=new $S({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ra(t).start(),t.q_.v_()}function Cm(t){return $i(t)&&!ra(t).n_()&&t.N_.size>0}function $i(t){return Fe(t).L_.size===0}function gw(t){t.Q_=void 0}async function $P(t){t.q_.set("Online")}async function WP(t){t.N_.forEach((e,n)=>{Am(t,e)})}async function HP(t,e){gw(t),Cm(t)?(t.q_.M_(e),jm(t)):t.q_.set("Unknown")}async function GP(t,e,n){if(t.q_.set("Online"),e instanceof nw&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const f of a.targetIds)o.N_.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.N_.delete(f),o.Q_.removeTarget(f))}(t,e)}catch(s){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await wu(t,s)}else if(e instanceof cu?t.Q_.Ke(e):e instanceof tw?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Me.min()))try{const s=await dw(t.localStore);n.compareTo(s)>=0&&await function(a,c){const f=a.Q_.rt(c);return f.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const x=a.N_.get(g);x&&a.N_.set(g,x.withResumeToken(m.resumeToken,c))}}),f.targetMismatches.forEach((m,g)=>{const x=a.N_.get(m);if(!x)return;a.N_.set(m,x.withResumeToken(Xt.EMPTY_BYTE_STRING,x.snapshotVersion)),pw(a,m);const w=new Ms(x.target,m,g,x.sequenceNumber);Am(a,w)}),a.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(s){we("RemoteStore","Failed to raise snapshot:",s),await wu(t,s)}}async function wu(t,e,n){if(!Sl(e))throw e;t.L_.add(1),await jl(t),t.q_.set("Offline"),n||(n=()=>dw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Gu(t)})}function yw(t,e){return e().catch(n=>wu(t,n,e))}async function qu(t){const e=Fe(t),n=Hs(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;qP(e);)try{const o=await CP(e.localStore,s);if(o===null){e.O_.length===0&&n.o_();break}s=o.batchId,KP(e,o)}catch(o){await wu(e,o)}vw(e)&&xw(e)}function qP(t){return $i(t)&&t.O_.length<10}function KP(t,e){t.O_.push(e);const n=Hs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function vw(t){return $i(t)&&!Hs(t).n_()&&t.O_.length>0}function xw(t){Hs(t).start()}async function QP(t){Hs(t).p_()}async function YP(t){const e=Hs(t);for(const n of t.O_)e.m_(n.mutations)}async function XP(t,e,n){const s=t.O_.shift(),o=_m.from(s,e,n);await yw(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await qu(t)}async function JP(t,e){e&&Hs(t).V_&&await async function(s,o){if(function(c){return BS(c)&&c!==re.ABORTED}(o.code)){const a=s.O_.shift();Hs(s).s_(),await yw(s,()=>s.remoteSyncer.rejectFailedWrite(a.batchId,o)),await qu(s)}}(t,e),vw(t)&&xw(t)}async function T0(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const s=$i(n);n.L_.add(3),await jl(n),s&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Gu(n)}async function ZP(t,e){const n=Fe(t);e?(n.L_.delete(2),await Gu(n)):e||(n.L_.add(2),await jl(n),n.q_.set("Unknown"))}function ra(t){return t.K_||(t.K_=function(n,s,o){const a=Fe(n);return a.w_(),new FP(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(t.datastore,t.asyncQueue,{Eo:$P.bind(null,t),Ro:WP.bind(null,t),mo:HP.bind(null,t),d_:GP.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Cm(t)?jm(t):t.q_.set("Unknown")):(await t.K_.stop(),gw(t))})),t.K_}function Hs(t){return t.U_||(t.U_=function(n,s,o){const a=Fe(n);return a.w_(),new OP(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:QP.bind(null,t),mo:JP.bind(null,t),f_:YP.bind(null,t),g_:XP.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await qu(t)):(await t.U_.stop(),t.O_.length>0&&(we("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n,s,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=a,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,a){const c=Date.now()+s,f=new Im(e,n,c,o,a);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rm(t,e){if(as("AsyncQueue",`${e}: ${t}`),Sl(t))return new Ee(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.comparator=e?(n,s)=>e(n,s)||Se.comparator(n.key,s.key):(n,s)=>Se.comparator(n.key,s.key),this.keyedMap=Ya(),this.sortedSet=new yt(this.comparator)}static emptySet(e){return new $o(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $o)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=s.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new $o;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(){this.W_=new yt(Se.comparator)}track(e){const n=e.doc.key,s=this.W_.get(n);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(n,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(n):e.type===1&&s.type===2?this.W_=this.W_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ve():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Qo{constructor(e,n,s,o,a,c,f,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,a){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new Qo(e,n,$o.emptySet(n),c,s,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class tA{constructor(){this.queries=b0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,s){const o=Fe(n),a=o.queries;o.queries=b0(),a.forEach((c,f)=>{for(const m of f.j_)m.onError(s)})})(this,new Ee(re.ABORTED,"Firestore shutting down"))}}function b0(){return new na(t=>Bx(t),Bu)}async function ww(t,e){const n=Fe(t);let s=3;const o=e.query;let a=n.queries.get(o);a?!a.H_()&&e.J_()&&(s=2):(a=new eA,s=e.J_()?0:1);try{switch(s){case 0:a.z_=await n.onListen(o,!0);break;case 1:a.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const f=Rm(c,`Initialization of query '${Do(e.query)}' failed`);return void e.onError(f)}n.queries.set(o,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&km(n)}async function _w(t,e){const n=Fe(t),s=e.query;let o=3;const a=n.queries.get(s);if(a){const c=a.j_.indexOf(e);c>=0&&(a.j_.splice(c,1),a.j_.length===0?o=e.J_()?0:1:!a.H_()&&e.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function nA(t,e){const n=Fe(t);let s=!1;for(const o of e){const a=o.query,c=n.queries.get(a);if(c){for(const f of c.j_)f.X_(o)&&(s=!0);c.z_=o}}s&&km(n)}function rA(t,e,n){const s=Fe(t),o=s.queries.get(e);if(o)for(const a of o.j_)a.onError(n);s.queries.delete(e)}function km(t){t.Y_.forEach(e=>{e.next()})}var Vf,S0;(S0=Vf||(Vf={})).ea="default",S0.Cache="cache";class Ew{constructor(e,n,s){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Qo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const s=n!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Vf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){this.key=e}}class Nw{constructor(e){this.key=e}}class sA{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=$e(),this.mutatedKeys=$e(),this.Aa=Ux(e),this.Ra=new $o(this.Aa)}get Va(){return this.Ta}ma(e,n){const s=n?n.fa:new N0,o=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,c=o,f=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((x,w)=>{const E=o.get(x),b=Uu(this.query,w)?w:null,R=!!E&&this.mutatedKeys.has(E.key),L=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let k=!1;E&&b?E.data.isEqual(b.data)?R!==L&&(s.track({type:3,doc:b}),k=!0):this.ga(E,b)||(s.track({type:2,doc:b}),k=!0,(m&&this.Aa(b,m)>0||g&&this.Aa(b,g)<0)&&(f=!0)):!E&&b?(s.track({type:0,doc:b}),k=!0):E&&!b&&(s.track({type:1,doc:E}),k=!0,(m||g)&&(f=!0)),k&&(b?(c=c.add(b),a=L?a.add(x):a.delete(x)):(c=c.delete(x),a=a.delete(x)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const x=this.query.limitType==="F"?c.last():c.first();c=c.delete(x.key),a=a.delete(x.key),s.track({type:1,doc:x})}return{Ra:c,fa:s,ns:f,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort((x,w)=>function(b,R){const L=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return L(b)-L(R)}(x.type,w.type)||this.Aa(x.doc,w.doc)),this.pa(s),o=o!=null&&o;const f=n&&!o?this.ya():[],m=this.da.size===0&&this.current&&!o?1:0,g=m!==this.Ea;return this.Ea=m,c.length!==0||g?{snapshot:new Qo(this.query,e.Ra,a,c,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:f}:{wa:f}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new N0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=$e(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const n=[];return e.forEach(s=>{this.da.has(s)||n.push(new Nw(s))}),this.da.forEach(s=>{e.has(s)||n.push(new Tw(s))}),n}ba(e){this.Ta=e.Ts,this.da=$e();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Qo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class iA{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class oA{constructor(e){this.key=e,this.va=!1}}class aA{constructor(e,n,s,o,a,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new na(f=>Bx(f),Bu),this.Ma=new Map,this.xa=new Set,this.Oa=new yt(Se.comparator),this.Na=new Map,this.La=new Nm,this.Ba={},this.ka=new Map,this.qa=Ko.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function lA(t,e,n=!0){const s=Cw(t);let o;const a=s.Fa.get(e);return a?(s.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Da()):o=await bw(s,e,n,!0),o}async function cA(t,e){const n=Cw(t);await bw(n,e,!0,!1)}async function bw(t,e,n,s){const o=await IP(t.localStore,Vr(e)),a=o.targetId,c=t.sharedClientState.addLocalQueryTarget(a,n);let f;return s&&(f=await uA(t,e,a,c==="current",o.resumeToken)),t.isPrimaryClient&&n&&mw(t.remoteStore,o),f}async function uA(t,e,n,s,o){t.Ka=(w,E,b)=>async function(L,k,$,U){let z=k.view.ma($);z.ns&&(z=await w0(L.localStore,k.query,!1).then(({documents:j})=>k.view.ma(j,z)));const X=U&&U.targetChanges.get(k.targetId),ue=U&&U.targetMismatches.get(k.targetId)!=null,q=k.view.applyChanges(z,L.isPrimaryClient,X,ue);return A0(L,k.targetId,q.wa),q.snapshot}(t,w,E,b);const a=await w0(t.localStore,e,!0),c=new sA(e,a.Ts),f=c.ma(a.documents),m=Al.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",o),g=c.applyChanges(f,t.isPrimaryClient,m);A0(t,n,g.wa);const x=new iA(e,n,c);return t.Fa.set(e,x),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),g.snapshot}async function dA(t,e,n){const s=Fe(t),o=s.Fa.get(e),a=s.Ma.get(o.targetId);if(a.length>1)return s.Ma.set(o.targetId,a.filter(c=>!Bu(c,e))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await kf(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Pm(s.remoteStore,o.targetId),Df(s,o.targetId)}).catch(bl)):(Df(s,o.targetId),await kf(s.localStore,o.targetId,!0))}async function hA(t,e){const n=Fe(t),s=n.Fa.get(e),o=n.Ma.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Pm(n.remoteStore,s.targetId))}async function fA(t,e,n){const s=wA(t);try{const o=await function(c,f){const m=Fe(c),g=Vt.now(),x=f.reduce((b,R)=>b.add(R.key),$e());let w,E;return m.persistence.runTransaction("Locally write mutations","readwrite",b=>{let R=ls(),L=$e();return m.cs.getEntries(b,x).next(k=>{R=k,R.forEach(($,U)=>{U.isValidDocument()||(L=L.add($))})}).next(()=>m.localDocuments.getOverlayedDocuments(b,R)).next(k=>{w=k;const $=[];for(const U of f){const z=DS(U,w.get(U.key).overlayedDocument);z!=null&&$.push(new Qs(U.key,z,kx(z.value.mapValue),tr.exists(!0)))}return m.mutationQueue.addMutationBatch(b,g,$,f)}).next(k=>{E=k;const $=k.applyToLocalDocumentSet(w,L);return m.documentOverlayCache.saveOverlays(b,k.batchId,$)})}).then(()=>({batchId:E.batchId,changes:$x(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(c,f,m){let g=c.Ba[c.currentUser.toKey()];g||(g=new yt(Ye)),g=g.insert(f,m),c.Ba[c.currentUser.toKey()]=g}(s,o.batchId,n),await Cl(s,o.changes),await qu(s.remoteStore)}catch(o){const a=Rm(o,"Failed to persist write");n.reject(a)}}async function Sw(t,e){const n=Fe(t);try{const s=await AP(n.localStore,e);e.targetChanges.forEach((o,a)=>{const c=n.Na.get(a);c&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.va=!0:o.modifiedDocuments.size>0?et(c.va):o.removedDocuments.size>0&&(et(c.va),c.va=!1))}),await Cl(n,s,e)}catch(s){await bl(s)}}function P0(t,e,n){const s=Fe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Fa.forEach((a,c)=>{const f=c.view.Z_(e);f.snapshot&&o.push(f.snapshot)}),function(c,f){const m=Fe(c);m.onlineState=f;let g=!1;m.queries.forEach((x,w)=>{for(const E of w.j_)E.Z_(f)&&(g=!0)}),g&&km(m)}(s.eventManager,e),o.length&&s.Ca.d_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function mA(t,e,n){const s=Fe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Na.get(e),a=o&&o.key;if(a){let c=new yt(Se.comparator);c=c.insert(a,on.newNoDocument(a,Me.min()));const f=$e().add(a),m=new Wu(Me.min(),new Map,new yt(Ye),c,f);await Sw(s,m),s.Oa=s.Oa.remove(a),s.Na.delete(e),Vm(s)}else await kf(s.localStore,e,!1).then(()=>Df(s,e,n)).catch(bl)}async function pA(t,e){const n=Fe(t),s=e.batch.batchId;try{const o=await PP(n.localStore,e);Aw(n,s,null),Pw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Cl(n,o)}catch(o){await bl(o)}}async function gA(t,e,n){const s=Fe(t);try{const o=await function(c,f){const m=Fe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let x;return m.mutationQueue.lookupMutationBatch(g,f).next(w=>(et(w!==null),x=w.keys(),m.mutationQueue.removeMutationBatch(g,w))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,x,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,x)).next(()=>m.localDocuments.getDocuments(g,x))})}(s.localStore,e);Aw(s,e,n),Pw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Cl(s,o)}catch(o){await bl(o)}}function Pw(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Aw(t,e,n){const s=Fe(t);let o=s.Ba[s.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),s.Ba[s.currentUser.toKey()]=o}}function Df(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Ma.get(e))t.Fa.delete(s),n&&t.Ca.$a(s,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(s=>{t.La.containsKey(s)||jw(t,s)})}function jw(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Pm(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Vm(t))}function A0(t,e,n){for(const s of n)s instanceof Tw?(t.La.addReference(s.key,e),yA(t,s)):s instanceof Nw?(we("SyncEngine","Document no longer in limbo: "+s.key),t.La.removeReference(s.key,e),t.La.containsKey(s.key)||jw(t,s.key)):Ve()}function yA(t,e){const n=e.key,s=n.path.canonicalString();t.Oa.get(n)||t.xa.has(s)||(we("SyncEngine","New document in limbo: "+n),t.xa.add(s),Vm(t))}function Vm(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Se(ht.fromString(e)),s=t.qa.next();t.Na.set(s,new oA(n)),t.Oa=t.Oa.insert(n,s),mw(t.remoteStore,new Ms(Vr(vm(n.path)),s,"TargetPurposeLimboResolution",hm.oe))}}async function Cl(t,e,n){const s=Fe(t),o=[],a=[],c=[];s.Fa.isEmpty()||(s.Fa.forEach((f,m)=>{c.push(s.Ka(m,e,n).then(g=>{var x;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(x=n==null?void 0:n.targetChanges.get(m.targetId))===null||x===void 0?void 0:x.current;s.sharedClientState.updateQueryState(m.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Sm.Wi(m.targetId,g);a.push(w)}}))}),await Promise.all(c),s.Ca.d_(o),await async function(m,g){const x=Fe(m);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>se.forEach(g,E=>se.forEach(E.$i,b=>x.persistence.referenceDelegate.addReference(w,E.targetId,b)).next(()=>se.forEach(E.Ui,b=>x.persistence.referenceDelegate.removeReference(w,E.targetId,b)))))}catch(w){if(!Sl(w))throw w;we("LocalStore","Failed to update sequence numbers: "+w)}for(const w of g){const E=w.targetId;if(!w.fromCache){const b=x.os.get(E),R=b.snapshotVersion,L=b.withLastLimboFreeSnapshotVersion(R);x.os=x.os.insert(E,L)}}}(s.localStore,a))}async function vA(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const s=await uw(n.localStore,e);n.currentUser=e,function(a,c){a.ka.forEach(f=>{f.forEach(m=>{m.reject(new Ee(re.CANCELLED,c))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Cl(n,s.hs)}}function xA(t,e){const n=Fe(t),s=n.Na.get(e);if(s&&s.va)return $e().add(s.key);{let o=$e();const a=n.Ma.get(e);if(!a)return o;for(const c of a){const f=n.Fa.get(c);o=o.unionWith(f.view.Va)}return o}}function Cw(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mA.bind(null,e),e.Ca.d_=nA.bind(null,e.eventManager),e.Ca.$a=rA.bind(null,e.eventManager),e}function wA(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gA.bind(null,e),e}class _u{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hu(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return SP(this.persistence,new NP,e.initialUser,this.serializer)}Ga(e){return new _P(bm.Zr,this.serializer)}Wa(e){return new kP}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_u.provider={build:()=>new _u};class Lf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>P0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=vA.bind(null,this.syncEngine),await ZP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tA}()}createDatastore(e){const n=Hu(e.databaseInfo.databaseId),s=function(a){return new MP(a)}(e.databaseInfo);return function(a,c,f,m){return new BP(a,c,f,m)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,a,c,f){return new zP(s,o,a,c,f)}(this.localStore,this.datastore,e.asyncQueue,n=>P0(this.syncEngine,n,0),function(){return E0.D()?new E0:new VP}())}createSyncEngine(e,n){return function(o,a,c,f,m,g,x){const w=new aA(o,a,c,f,m,g);return x&&(w.Qa=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const a=Fe(o);we("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await jl(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Lf.provider={build:()=>new Lf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):as("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,n,s,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=Cx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(s,async c=>{we("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(we("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Rm(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Yh(t,e){t.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async o=>{s.isEqual(o)||(await uw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function j0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await EA(t);we("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>T0(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,o)=>T0(e.remoteStore,o)),t._onlineComponents=e}async function EA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Wo("Error using user provided cache. Falling back to memory cache: "+n),await Yh(t,new _u)}}else we("FirestoreClient","Using default OfflineComponentProvider"),await Yh(t,new _u);return t._offlineComponents}async function Rw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),await j0(t,t._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),await j0(t,new Lf))),t._onlineComponents}function TA(t){return Rw(t).then(e=>e.syncEngine)}async function kw(t){const e=await Rw(t),n=e.eventManager;return n.onListen=lA.bind(null,e.syncEngine),n.onUnlisten=dA.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cA.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hA.bind(null,e.syncEngine),n}function NA(t,e,n={}){const s=new ns;return t.asyncQueue.enqueueAndForget(async()=>function(a,c,f,m,g){const x=new Iw({next:E=>{x.Za(),c.enqueueAndForget(()=>_w(a,w));const b=E.docs.has(f);!b&&E.fromCache?g.reject(new Ee(re.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&E.fromCache&&m&&m.source==="server"?g.reject(new Ee(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),w=new Ew(vm(f.path),x,{includeMetadataChanges:!0,_a:!0});return ww(a,w)}(await kw(t),t.asyncQueue,e,n,s)),s.promise}function bA(t,e,n={}){const s=new ns;return t.asyncQueue.enqueueAndForget(async()=>function(a,c,f,m,g){const x=new Iw({next:E=>{x.Za(),c.enqueueAndForget(()=>_w(a,w)),E.fromCache&&m.source==="server"?g.reject(new Ee(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),w=new Ew(f,x,{includeMetadataChanges:!0,_a:!0});return ww(a,w)}(await kw(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(t,e,n){if(!n)throw new Ee(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function SA(t,e,n,s){if(e===!0&&s===!0)throw new Ee(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function I0(t){if(!Se.isDocumentKey(t))throw new Ee(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function R0(t){if(Se.isDocumentKey(t))throw new Ee(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Dm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve()}function yr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ee(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dm(t);throw new Ee(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ee(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ee(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ee(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ee(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ku{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k0(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Wb;switch(s.type){case"firstParty":return new Kb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ee(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=C0.get(n);s&&(we("ComponentProvider","Removing Datastore"),C0.delete(n),s.terminate())}(this),Promise.resolve()}}function PA(t,e,n,s={}){var o;const a=(t=yr(t,Ku))._getSettings(),c=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&Wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),s.mockUserToken){let f,m;if(typeof s.mockUserToken=="string")f=s.mockUserToken,m=sn.MOCK_USER;else{f=EN(s.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new Ee(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new sn(g)}t._authCredentials=new Hb(new jx(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Qu(this.firestore,e,this._query)}}class Nn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}}class Bs extends Qu{constructor(e,n,s){super(e,n,vm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new Se(e))}withConverter(e){return new Bs(this.firestore,e,this._path)}}function Il(t,e,...n){if(t=Mr(t),Dw("collection","path",e),t instanceof Ku){const s=ht.fromString(e,...n);return R0(s),new Bs(t,null,s)}{if(!(t instanceof Nn||t instanceof Bs))throw new Ee(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ht.fromString(e,...n));return R0(s),new Bs(t.firestore,null,s)}}function gt(t,e,...n){if(t=Mr(t),arguments.length===1&&(e=Cx.newId()),Dw("doc","path",e),t instanceof Ku){const s=ht.fromString(e,...n);return I0(s),new Nn(t,null,new Se(s))}{if(!(t instanceof Nn||t instanceof Bs))throw new Ee(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ht.fromString(e,...n));return I0(s),new Nn(t.firestore,t instanceof Bs?t.converter:null,new Se(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new hw(this,"async_queue_retry"),this.Vu=()=>{const s=Qh();s&&we("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const n=Qh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Qh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ns;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Sl(e))throw e;we("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(s=>{this.Eu=s,this.du=!1;const o=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(s);throw as("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.du=!1,s))));return this.mu=n,n}enqueueAfterDelay(e,n,s){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const o=Im.createAndSchedule(this,e,n,s,a=>this.yu(a));return this.Tu.push(o),o}fu(){this.Eu&&Ve()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Wi extends Ku{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new V0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new V0(e),this._firestoreClient=void 0,await e}}}function AA(t,e){const n=typeof t=="object"?t:wx(),s=typeof t=="string"?t:"(default)",o=Nl(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const a=wN("firestore");a&&PA(o,...a)}return o}function Lm(t){if(t._terminated)throw new Ee(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||jA(t),t._firestoreClient}function jA(t){var e,n,s;const o=t._freezeSettings(),a=function(f,m,g,x){return new aS(f,m,g,x.host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,Vw(x.experimentalLongPollingOptions),x.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new _A(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yo(Xt.fromBase64String(e))}catch(n){throw new Ee(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yo(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let a=0;a<s.length;++a)if(s[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=/^__.*__$/;class IA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Qs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pl(e,this.data,n,this.fieldTransforms)}}class Lw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Qs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Mw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}class Om{constructor(e,n,s,o,a,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Om(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:s,xu:!1});return o.Ou(e),o}Nu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:s,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Eu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Mw(this.Cu)&&CA.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class RA{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Hu(e)}Qu(e,n,s,o=!1){return new Om({Cu:e,methodName:n,qu:s,path:Qt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bm(t){const e=t._freezeSettings(),n=Hu(t._databaseId);return new RA(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Fw(t,e,n,s,o,a={}){const c=t.Qu(a.merge||a.mergeFields?2:0,e,n,o);$m("Data must be an object, but it was:",c,s);const f=Ow(s,c);let m,g;if(a.merge)m=new Fn(c.fieldMask),g=c.fieldTransforms;else if(a.mergeFields){const x=[];for(const w of a.mergeFields){const E=Mf(e,w,n);if(!c.contains(E))throw new Ee(re.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Uw(x,E)||x.push(E)}m=new Fn(x),g=c.fieldTransforms.filter(w=>m.covers(w.field))}else m=null,g=c.fieldTransforms;return new IA(new Tn(f),m,g)}class Xu extends Rl{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xu}}class Um extends Rl{_toFieldTransform(e){return new Xx(e.path,new gl)}isEqual(e){return e instanceof Um}}class zm extends Rl{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new xl(e.serializer,Gx(e.serializer,this.$u));return new Xx(e.path,n)}isEqual(e){return e instanceof zm&&this.$u===e.$u}}function kA(t,e,n,s){const o=t.Qu(1,e,n);$m("Data must be an object, but it was:",o,s);const a=[],c=Tn.empty();zi(s,(m,g)=>{const x=Wm(e,m,n);g=Mr(g);const w=o.Nu(x);if(g instanceof Xu)a.push(x);else{const E=Ju(g,w);E!=null&&(a.push(x),c.set(x,E))}});const f=new Fn(a);return new Lw(c,f,o.fieldTransforms)}function VA(t,e,n,s,o,a){const c=t.Qu(1,e,n),f=[Mf(e,s,n)],m=[o];if(a.length%2!=0)throw new Ee(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)f.push(Mf(e,a[E])),m.push(a[E+1]);const g=[],x=Tn.empty();for(let E=f.length-1;E>=0;--E)if(!Uw(g,f[E])){const b=f[E];let R=m[E];R=Mr(R);const L=c.Nu(b);if(R instanceof Xu)g.push(b);else{const k=Ju(R,L);k!=null&&(g.push(b),x.set(b,k))}}const w=new Fn(g);return new Lw(x,w,c.fieldTransforms)}function Ju(t,e){if(Bw(t=Mr(t)))return $m("Unsupported field value:",e,t),Ow(t,e);if(t instanceof Rl)return function(s,o){if(!Mw(o.Cu))throw o.Bu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${s._methodName}() is not currently supported inside arrays`);const a=s._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(s,o){const a=[];let c=0;for(const f of s){let m=Ju(f,o.Lu(c));m==null&&(m={nullValue:"NULL_VALUE"}),a.push(m),c++}return{arrayValue:{values:a}}}(t,e)}return function(s,o){if((s=Mr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Gx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const a=Vt.fromDate(s);return{timestampValue:xu(o.serializer,a)}}if(s instanceof Vt){const a=new Vt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:xu(o.serializer,a)}}if(s instanceof Mm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Yo)return{bytesValue:rw(o.serializer,s._byteString)};if(s instanceof Nn){const a=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(a))throw o.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Tm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Fm)return function(c,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw f.Bu("VectorValues must only contain numeric values.");return xm(f.serializer,m)})}}}}}}(s,o);throw o.Bu(`Unsupported field value: ${Dm(s)}`)}(t,e)}function Ow(t,e){const n={};return Ix(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zi(t,(s,o)=>{const a=Ju(o,e.Mu(s));a!=null&&(n[s]=a)}),{mapValue:{fields:n}}}function Bw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vt||t instanceof Mm||t instanceof Yo||t instanceof Nn||t instanceof Rl||t instanceof Fm)}function $m(t,e,n){if(!Bw(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Dm(n);throw s==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+s)}}function Mf(t,e,n){if((e=Mr(e))instanceof Yu)return e._internalPath;if(typeof e=="string")return Wm(t,e);throw Eu("Field path arguments must be of type string or ",t,!1,void 0,n)}const DA=new RegExp("[~\\*/\\[\\]]");function Wm(t,e,n){if(e.search(DA)>=0)throw Eu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yu(...e.split("."))._internalPath}catch{throw Eu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Eu(t,e,n,s,o){const a=s&&!s.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(a||c)&&(m+=" (found",a&&(m+=` in field ${s}`),c&&(m+=` in document ${o}`),m+=")"),new Ee(re.INVALID_ARGUMENT,f+t+m)}function Uw(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,n,s,o,a){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($w("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LA extends zw{data(){return super.data()}}function $w(t,e){return typeof e=="string"?Wm(t,e):e instanceof Yu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ee(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FA{convertValue(e,n="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return zi(e,(o,a)=>{s[o]=this.convertValue(a,n)}),s}convertVectorValue(e){var n,s,o;const a=(o=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(c=>_t(c.doubleValue));return new Fm(a)}convertGeoPoint(e){return new Mm(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=mm(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(fl(e));default:return null}}convertTimestamp(e){const n=Ws(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ht.fromString(e);et(cw(s));const o=new ml(s.get(1),s.get(3)),a=new Se(s.popFirst(5));return o.isEqual(n)||as(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t,e,n){let s;return s=t?t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hw extends zw{constructor(e,n,s,o,a,c){super(e,n,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field($w("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class uu extends Hw{data(e={}){return super.data(e)}}class OA{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ja(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new uu(this._firestore,this._userDataWriter,s.key,s,new Ja(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(f=>{const m=new uu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ja(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const m=new uu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ja(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,x=-1;return f.type!==0&&(g=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),x=c.indexOf(f.doc.key)),{type:BA(f.type),doc:m,oldIndex:g,newIndex:x}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function BA(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t){t=yr(t,Nn);const e=yr(t.firestore,Wi);return NA(Lm(e),t._key).then(n=>zA(e,t,n))}class Gw extends FA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,n)}}function Zu(t){t=yr(t,Qu);const e=yr(t.firestore,Wi),n=Lm(e),s=new Gw(e);return MA(t._query),bA(n,t._query).then(o=>new OA(e,s,t,o))}function wl(t,e,n){t=yr(t,Nn);const s=yr(t.firestore,Wi),o=Ww(t.converter,e);return ed(s,[Fw(Bm(s),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,tr.none())])}function vr(t,e,n,...s){t=yr(t,Nn);const o=yr(t.firestore,Wi),a=Bm(o);let c;return c=typeof(e=Mr(e))=="string"||e instanceof Yu?VA(a,"updateDoc",t._key,e,n,s):kA(a,"updateDoc",t._key,e),ed(o,[c.toMutation(t._key,tr.exists(!0))])}function Ff(t){return ed(yr(t.firestore,Wi),[new wm(t._key,tr.none())])}function UA(t,e){const n=yr(t.firestore,Wi),s=gt(t),o=Ww(t.converter,e);return ed(n,[Fw(Bm(t.firestore),"addDoc",s._key,o,t.converter!==null,{}).toMutation(s._key,tr.exists(!1))]).then(()=>s)}function ed(t,e){return function(s,o){const a=new ns;return s.asyncQueue.enqueueAndForget(async()=>fA(await TA(s),o,a)),a.promise}(Lm(t),e)}function zA(t,e,n){const s=n.docs.get(e._key),o=new Gw(t);return new Hw(t,o,e._key,s,new Ja(n.hasPendingWrites,n.fromCache),e.converter)}function Rr(){return new Um("serverTimestamp")}function ks(t){return new zm("increment",t)}(function(e,n=!0){(function(o){ta=o})(Rb),zs(new is("firestore",(s,{instanceIdentifier:o,options:a})=>{const c=s.getProvider("app").getImmediate(),f=new Wi(new Gb(s.getProvider("auth-internal")),new Yb(s.getProvider("app-check-internal")),function(g,x){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ee(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ml(g.options.projectId,x)}(c,o),c);return a=Object.assign({useFetchStreams:n},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),kr(Zy,"4.7.3",e),kr(Zy,"4.7.3","esm2017")})();const qw="@firebase/installations",Hm="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=1e4,Qw=`w:${Hm}`,Yw="FIS_v2",$A="https://firebaseinstallations.googleapis.com/v1",WA=60*60*1e3,HA="installations",GA="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Oi=new Mu(HA,GA,qA);function Xw(t){return t instanceof Ks&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw({projectId:t}){return`${$A}/projects/${t}/installations`}function Zw(t){return{token:t.token,requestStatus:2,expiresIn:QA(t.expiresIn),creationTime:Date.now()}}async function e_(t,e){const s=(await e.json()).error;return Oi.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function t_({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function KA(t,{refreshToken:e}){const n=t_(t);return n.append("Authorization",YA(e)),n}async function n_(t){const e=await t();return e.status>=500&&e.status<600?t():e}function QA(t){return Number(t.replace("s","000"))}function YA(t){return`${Yw} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XA({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=Jw(t),o=t_(t),a=e.getImmediate({optional:!0});if(a){const g=await a.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={fid:n,authVersion:Yw,appId:t.appId,sdkVersion:Qw},f={method:"POST",headers:o,body:JSON.stringify(c)},m=await n_(()=>fetch(s,f));if(m.ok){const g=await m.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:Zw(g.authToken)}}else throw await e_("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=/^[cdef][\w-]{21}$/,Of="";function ej(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=tj(t);return ZA.test(n)?n:Of}catch{return Of}}function tj(t){return JA(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=new Map;function i_(t,e){const n=td(t);o_(n,e),nj(n,e)}function o_(t,e){const n=s_.get(t);if(n)for(const s of n)s(e)}function nj(t,e){const n=rj();n&&n.postMessage({key:t,fid:e}),sj()}let Ci=null;function rj(){return!Ci&&"BroadcastChannel"in self&&(Ci=new BroadcastChannel("[Firebase] FID Change"),Ci.onmessage=t=>{o_(t.data.key,t.data.fid)}),Ci}function sj(){s_.size===0&&Ci&&(Ci.close(),Ci=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij="firebase-installations-database",oj=1,Bi="firebase-installations-store";let Xh=null;function Gm(){return Xh||(Xh=vx(ij,oj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Bi)}}})),Xh}async function Tu(t,e){const n=td(t),o=(await Gm()).transaction(Bi,"readwrite"),a=o.objectStore(Bi),c=await a.get(n);return await a.put(e,n),await o.done,(!c||c.fid!==e.fid)&&i_(t,e.fid),e}async function a_(t){const e=td(t),s=(await Gm()).transaction(Bi,"readwrite");await s.objectStore(Bi).delete(e),await s.done}async function nd(t,e){const n=td(t),o=(await Gm()).transaction(Bi,"readwrite"),a=o.objectStore(Bi),c=await a.get(n),f=e(c);return f===void 0?await a.delete(n):await a.put(f,n),await o.done,f&&(!c||c.fid!==f.fid)&&i_(t,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qm(t){let e;const n=await nd(t.appConfig,s=>{const o=aj(s),a=lj(t,o);return e=a.registrationPromise,a.installationEntry});return n.fid===Of?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function aj(t){const e=t||{fid:ej(),registrationStatus:0};return l_(e)}function lj(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Oi.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=cj(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:uj(t)}:{installationEntry:e}}async function cj(t,e){try{const n=await XA(t,e);return Tu(t.appConfig,n)}catch(n){throw Xw(n)&&n.customData.serverCode===409?await a_(t.appConfig):await Tu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function uj(t){let e=await D0(t.appConfig);for(;e.registrationStatus===1;)await r_(100),e=await D0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await qm(t);return s||n}return e}function D0(t){return nd(t,e=>{if(!e)throw Oi.create("installation-not-found");return l_(e)})}function l_(t){return dj(t)?{fid:t.fid,registrationStatus:0}:t}function dj(t){return t.registrationStatus===1&&t.registrationTime+Kw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hj({appConfig:t,heartbeatServiceProvider:e},n){const s=fj(t,n),o=KA(t,n),a=e.getImmediate({optional:!0});if(a){const g=await a.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={installation:{sdkVersion:Qw,appId:t.appId}},f={method:"POST",headers:o,body:JSON.stringify(c)},m=await n_(()=>fetch(s,f));if(m.ok){const g=await m.json();return Zw(g)}else throw await e_("Generate Auth Token",m)}function fj(t,{fid:e}){return`${Jw(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Km(t,e=!1){let n;const s=await nd(t.appConfig,a=>{if(!c_(a))throw Oi.create("not-registered");const c=a.authToken;if(!e&&gj(c))return a;if(c.requestStatus===1)return n=mj(t,e),a;{if(!navigator.onLine)throw Oi.create("app-offline");const f=vj(a);return n=pj(t,f),f}});return n?await n:s.authToken}async function mj(t,e){let n=await L0(t.appConfig);for(;n.authToken.requestStatus===1;)await r_(100),n=await L0(t.appConfig);const s=n.authToken;return s.requestStatus===0?Km(t,e):s}function L0(t){return nd(t,e=>{if(!c_(e))throw Oi.create("not-registered");const n=e.authToken;return xj(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function pj(t,e){try{const n=await hj(t,e),s=Object.assign(Object.assign({},e),{authToken:n});return await Tu(t.appConfig,s),n}catch(n){if(Xw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await a_(t.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Tu(t.appConfig,s)}throw n}}function c_(t){return t!==void 0&&t.registrationStatus===2}function gj(t){return t.requestStatus===2&&!yj(t)}function yj(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+WA}function vj(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function xj(t){return t.requestStatus===1&&t.requestTime+Kw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wj(t){const e=t,{installationEntry:n,registrationPromise:s}=await qm(e);return s?s.catch(console.error):Km(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _j(t,e=!1){const n=t;return await Ej(n),(await Km(n,e)).token}async function Ej(t){const{registrationPromise:e}=await qm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(t){if(!t||!t.options)throw Jh("App Configuration");if(!t.name)throw Jh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Jh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Jh(t){return Oi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="installations",Nj="installations-internal",bj=t=>{const e=t.getProvider("app").getImmediate(),n=Tj(e),s=Nl(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Sj=t=>{const e=t.getProvider("app").getImmediate(),n=Nl(e,u_).getImmediate();return{getId:()=>wj(n),getToken:o=>_j(n,o)}};function Pj(){zs(new is(u_,bj,"PUBLIC")),zs(new is(Nj,Sj,"PRIVATE"))}Pj();kr(qw,Hm);kr(qw,Hm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu="analytics",Aj="firebase_id",jj="origin",Cj=60*1e3,Ij="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn=new cm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},On=new Mu("analytics","Analytics",Rj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(t){if(!t.startsWith(Qm)){const e=On.create("invalid-gtag-resource",{gtagURL:t});return bn.warn(e.message),""}return t}function d_(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Vj(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Dj(t,e){const n=Vj("firebase-js-sdk-policy",{createScriptURL:kj}),s=document.createElement("script"),o=`${Qm}?l=${t}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function Lj(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Mj(t,e,n,s,o,a){const c=s[o];try{if(c)await e[c];else{const m=(await d_(n)).find(g=>g.measurementId===o);m&&await e[m.appId]}}catch(f){bn.error(f)}t("config",o,a)}async function Fj(t,e,n,s,o){try{let a=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const f=await d_(n);for(const m of c){const g=f.find(w=>w.measurementId===m),x=g&&e[g.appId];if(x)a.push(x);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",s,o||{})}catch(a){bn.error(a)}}function Oj(t,e,n,s){async function o(a,...c){try{if(a==="event"){const[f,m]=c;await Fj(t,e,n,f,m)}else if(a==="config"){const[f,m]=c;await Mj(t,e,n,s,f,m)}else if(a==="consent"){const[f,m]=c;t("consent",f,m)}else if(a==="get"){const[f,m,g]=c;t("get",f,m,g)}else if(a==="set"){const[f]=c;t("set",f)}else t(a,...c)}catch(f){bn.error(f)}}return o}function Bj(t,e,n,s,o){let a=function(...c){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=Oj(a,t,e,n),{gtagCore:a,wrappedGtag:window[o]}}function Uj(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Qm)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=30,$j=1e3;class Wj{constructor(e={},n=$j){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const h_=new Wj;function Hj(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Gj(t){var e;const{appId:n,apiKey:s}=t,o={method:"GET",headers:Hj(s)},a=Ij.replace("{app-id}",n),c=await fetch(a,o);if(c.status!==200&&c.status!==304){let f="";try{const m=await c.json();!((e=m.error)===null||e===void 0)&&e.message&&(f=m.error.message)}catch{}throw On.create("config-fetch-failed",{httpStatus:c.status,responseMessage:f})}return c.json()}async function qj(t,e=h_,n){const{appId:s,apiKey:o,measurementId:a}=t.options;if(!s)throw On.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:s};throw On.create("no-api-key")}const c=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new Yj;return setTimeout(async()=>{f.abort()},Cj),f_({appId:s,apiKey:o,measurementId:a},c,f,e)}async function f_(t,{throttleEndTimeMillis:e,backoffCount:n},s,o=h_){var a;const{appId:c,measurementId:f}=t;try{await Kj(s,e)}catch(m){if(f)return bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:c,measurementId:f};throw m}try{const m=await Gj(t);return o.deleteThrottleMetadata(c),m}catch(m){const g=m;if(!Qj(g)){if(o.deleteThrottleMetadata(c),f)return bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:c,measurementId:f};throw m}const x=Number((a=g==null?void 0:g.customData)===null||a===void 0?void 0:a.httpStatus)===503?$y(n,o.intervalMillis,zj):$y(n,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+x,backoffCount:n+1};return o.setThrottleMetadata(c,w),bn.debug(`Calling attemptFetch again in ${x} millis`),f_(t,w,s,o)}}function Kj(t,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(n,o);t.addEventListener(()=>{clearTimeout(a),s(On.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Qj(t){if(!(t instanceof Ks)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Yj{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Xj(t,e,n,s,o){if(o&&o.global){t("event",n,s);return}else{const a=await e,c=Object.assign(Object.assign({},s),{send_to:a});t("event",n,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(){if(mx())try{await px()}catch(t){return bn.warn(On.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return bn.warn(On.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Zj(t,e,n,s,o,a,c){var f;const m=qj(t);m.then(b=>{n[b.measurementId]=b.appId,t.options.measurementId&&b.measurementId!==t.options.measurementId&&bn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>bn.error(b)),e.push(m);const g=Jj().then(b=>{if(b)return s.getId()}),[x,w]=await Promise.all([m,g]);Uj(a)||Dj(a,x.measurementId),o("js",new Date);const E=(f=c==null?void 0:c.config)!==null&&f!==void 0?f:{};return E[jj]="firebase",E.update=!0,w!=null&&(E[Aj]=w),o("config",x.measurementId,E),x.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.app=e}_delete(){return delete sl[this.app.options.appId],Promise.resolve()}}let sl={},M0=[];const F0={};let Zh="dataLayer",tC="gtag",O0,m_,B0=!1;function nC(){const t=[];if(bN()&&t.push("This is a browser extension environment."),PN()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=On.create("invalid-analytics-context",{errorInfo:e});bn.warn(n.message)}}function rC(t,e,n){nC();const s=t.options.appId;if(!s)throw On.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw On.create("no-api-key");if(sl[s]!=null)throw On.create("already-exists",{id:s});if(!B0){Lj(Zh);const{wrappedGtag:a,gtagCore:c}=Bj(sl,M0,F0,Zh,tC);m_=a,O0=c,B0=!0}return sl[s]=Zj(t,M0,F0,e,O0,Zh,n),new eC(t)}function sC(t=wx()){t=Mr(t);const e=Nl(t,Nu);return e.isInitialized()?e.getImmediate():iC(t)}function iC(t,e={}){const n=Nl(t,Nu);if(n.isInitialized()){const o=n.getImmediate();if(mu(e,n.getOptions()))return o;throw On.create("already-initialized")}return n.initialize({options:e})}function oC(t,e,n,s){t=Mr(t),Xj(m_,sl[t.app.options.appId],e,n,s).catch(o=>bn.error(o))}const U0="@firebase/analytics",z0="0.10.8";function aC(){zs(new is(Nu,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return rC(s,o,n)},"PUBLIC")),zs(new is("analytics-internal",t,"PRIVATE")),kr(U0,z0),kr(U0,z0,"esm2017");function t(e){try{const n=e.getProvider(Nu).getImmediate();return{logEvent:(s,o,a)=>oC(n,s,o,a)}}catch(n){throw On.create("interop-component-reg-failed",{reason:n})}}}aC();const lC={apiKey:"AIzaSy",authDomain:"prizepicksproject-15337.firebaseapp.com",projectId:"prizepicksproject-15337",storageBucket:"prizepicksproject-15337.appspot.com",messagingSenderId:"788584934715",appId:"1:788584934715:web:ec3c4379a2da470f1e9b1e",measurementId:"G-YS3G325WE5"},p_=xx(lC),nt=AA(p_);typeof window<"u"&&sC(p_);const cC=async t=>{try{const e=gt(nt,"users",t),n=await fn(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Error getting user:",e),e}},uC=(t,e)=>t.profile&&t.profile.password===e||t.password===e,dC=async t=>{try{const e=gt(nt,"users",t),n=await fn(e);return n.exists()?n.data().profile||n.data():null}catch(e){throw console.error("Error getting user profile:",e),e}},$0=async(t,e)=>{try{const n=gt(nt,"users",t),s=await fn(n);if(!s.exists())return[];const o=e.id,a=gt(nt,"processedPlayers","players","active",o),c=await fn(a);if(!c.exists())throw new Error(`No processedPlayer at players/active/${o}`);const f=c.data(),m=s.data().picks||[],g={id:o,...f},x=m.findIndex(w=>w.id===o);return x>=0?m[x]=g:m.push(g),await vr(n,{picks:m}),m}catch(n){throw console.error("Error adding pick:",n),n}},hC=async(t,e)=>{try{const n=gt(nt,"users",t),s=await fn(n);if(!s.exists())return[];const a=(s.data().picks||[]).filter(c=>c.id!==e);return await vr(n,{picks:a}),a}catch(n){throw console.error("Error removing pick:",n),n}},fC=async t=>{try{const e=gt(nt,"users",t),n=await fn(e);return n.exists()?n.data().picks||[]:[]}catch(e){throw console.error("Error getting picks:",e),e}},mC=async t=>{try{const e=gt(nt,"users",t);await vr(e,{picks:[]});const n=new Date().toISOString().split("T")[0];await clearDailyPicks(t,n)}catch(e){throw console.error("Error clearing picks:",e),e}},Fo=async t=>{try{const e=Il(nt,"users",t,"activeBets"),n=await Zu(e);if(!n.empty){const a=[];return n.forEach(c=>{a.push({id:c.id,...c.data()})}),a}const s=gt(nt,"users",t),o=await fn(s);return o.exists()?(o.data().bets||[]).filter(f=>f.status==="Active"):[]}catch(e){throw console.error("Error getting active bets:",e),e}},pC=async(t,e)=>{try{let n=e.gameDate;if(n)if(typeof n=="string"&&!n.match(/^\d{4}-\d{2}-\d{2}$/)){const a=new Date(n);isNaN(a.getTime())||(n=a.toISOString().split("T")[0])}else n instanceof Date&&(n=n.toISOString().split("T")[0]);else n=new Date().toISOString().split("T")[0];console.log(`Creating bet with formatted game date: ${n}`);const s=Il(nt,"users",t,"activeBets"),o=await UA(s,{betAmount:e.betAmount,potentialWinnings:e.potentialWinnings,createdAt:Rr(),gameDate:n,bettingPlatform:e.bettingPlatform||"PrizePicks",betType:e.betType||"Power Play",picks:e.picks});return console.log(`Created new active bet with ID: ${o.id}`),o.id}catch(n){throw console.error("Error creating bet:",n),n}},gC=async(t,e,n)=>{try{const s=Il(nt,"users",t,"betHistory",e,n),o=await Zu(s);if(!o.empty){const a=[];return o.forEach(c=>{a.push({id:c.id,...c.data()})}),a}return[]}catch(s){throw console.error("Error getting bet history:",s),s}},W0=async t=>{try{const e=new Date,n=e.getFullYear().toString(),s=(e.getMonth()+1).toString().padStart(2,"0");let o=[];try{o=await gC(t,n,s)}catch(a){console.error("Error getting bet history from new structure:",a)}if(o&&o.length>0)return o;try{const a=gt(nt,"users",t),c=await fn(a);if(c.exists())return(c.data().bets||[]).filter(g=>g.status!=="Active")}catch(a){console.error("Error getting bet history from old structure:",a)}return[]}catch(e){return console.error("Error getting all bet history:",e),[]}},yC=async()=>{const t=Il(nt,"processedPlayers","players","active");return(await Zu(t)).docs.map(n=>({id:n.id,...n.data()}))},vC=async t=>{try{const e=gt(nt,"users",t),n=await fn(e);if(n.exists()){const s=n.data();if(!s.profile){const o={username:t,password:s.password||"ramirez22",email:`${t}@example.com`,displayName:s.displayName||t,createdAt:Rr(),lastLogin:Rr(),totalEarnings:s.totalEarnings||0,totalBets:s.totalBets||0,winCount:s.winCount||0,lossCount:s.totalBets?s.totalBets-s.winCount:0,winRate:s.totalBets&&s.winCount?s.winCount/s.totalBets*100:0};await vr(e,{profile:o}),console.log("User migrated to new structure")}}else{await wl(e,{profile:{username:t,email:`${t}@example.com`,displayName:t,createdAt:Rr(),lastLogin:Rr(),totalEarnings:0,totalBets:0,winCount:0,lossCount:0,winRate:0}});const s=new Date().toISOString().split("T")[0];await wl(gt(nt,"users",t,"dailyPicks",s),{picks:[]}),console.log("User initialized successfully")}}catch(e){console.error("Error initializing user:",e)}},xC=async(t,e)=>{try{const n=gt(nt,"users",t),s=await fn(n);if(s.exists()){const o=s.data();if(!o.profile){const a={username:t,password:e,email:`${t}@example.com`,displayName:o.displayName||t,createdAt:Rr(),lastLogin:Rr(),totalEarnings:o.totalEarnings||0,totalBets:o.totalBets||0,winCount:o.winCount||0,lossCount:o.totalBets?o.totalBets-o.winCount:0,winRate:o.totalBets&&o.winCount?o.winCount/o.totalBets*100:0};await vr(n,{profile:a})}}else{await wl(n,{profile:{username:t,password:e,email:`${t}@example.com`,displayName:t,createdAt:Rr(),lastLogin:Rr(),totalEarnings:0,totalBets:0,winCount:0,lossCount:0,winRate:0},picks:[],bets:[]});const o=new Date().toISOString().split("T")[0];await wl(gt(nt,"users",t,"dailyPicks",o),{picks:[]})}}catch(n){throw console.error("Error initializing user:",n),n}},wC=async(t,e)=>{try{if(e){console.log(`Attempting to cancel active bet: ${e} for user: ${t}`);const n=gt(nt,"users",t,"activeBets",e);await Ff(n),console.log(`Deleted active bet: ${e}`);const s=gt(nt,"users",t),o=await fn(s);if(o.exists()){const f=(o.data().bets||[]).filter(m=>m.id!==e);await vr(s,{bets:f}),console.log("Updated bets in old structure")}}else{console.log(`Attempting to cancel all active bets for user: ${t}`);const n=await Fo(t);console.log(`Found ${n.length} active bets`);for(const a of n)try{const c=gt(nt,"users",t,"activeBets",a.id);await Ff(c),console.log(`Deleted active bet: ${a.id}`)}catch(c){console.error(`Error deleting bet ${a.id}:`,c)}const s=gt(nt,"users",t),o=await fn(s);if(o.exists()){const c=o.data().bets||[];console.log(`Found ${c.length} bets in old structure`);const f=c.filter(m=>m.status!=="Active");console.log(`After filtering, ${f.length} bets remain`),await vr(s,{bets:f}),console.log("Updated bets in old structure")}}return console.log("Active bet(s) successfully canceled"),!0}catch(n){throw console.error("Error canceling bets:",n),n}},_C=async(t,e,n)=>{try{console.log(`Updating active bet: ${e} for user: ${t}`);const s=gt(nt,"users",t,"activeBets",e);await vr(s,n);const o=gt(nt,"users",t),a=await fn(o);if(a.exists()){const m=(a.data().bets||[]).map(g=>g.id===e?{...g,...n}:g);await vr(o,{bets:m})}return console.log(`Active bet ${e} successfully updated`),!0}catch(s){throw console.error("Error updating bet:",s),s}},EC=async t=>{try{const e=new Date;e.setHours(0,0,0,0),console.log(`Current date for comparison: ${e.toISOString()}`);const n=Il(nt,"users",t,"activeBets"),s=await Zu(n);if(s.empty)return{moved:0};let o=0;for(const a of s.docs){const c=a.data();let f=null;if(c.gameDate)if(typeof c.gameDate=="string"){const[m,g,x]=c.gameDate.split("-").map(Number);if(m&&g&&x)f=new Date(m,g-1,x),f.setHours(23,59,59,999);else{console.log(`Invalid date format for bet ${a.id}: ${c.gameDate}`);continue}}else c.gameDate.seconds&&(f=new Date(c.gameDate.seconds*1e3));if(console.log(`Bet ID: ${a.id}, Game date: ${f?f.toISOString():"undefined"}`),f&&f<e){console.log(`Moving bet ${a.id} to history - game date has passed`);const g=(c.picks||[]).map(z=>{const X=Math.floor(Math.random()*30)+5,ue=z.recommendation==="OVER"?X>z.threshold?"HIT":"MISS":X<z.threshold?"HIT":"MISS";return{...z,actualPoints:X,result:ue}}),x=g.every(z=>z.result==="HIT"||z.result==="DNP"),w=x?"Won":"Lost",E=x?c.potentialWinnings:0,b=new Date,R=b.getFullYear().toString(),L=(b.getMonth()+1).toString().padStart(2,"0"),k=gt(nt,"users",t,"betHistory",R,L,a.id);await wl(k,{...c,id:a.id,status:w,winnings:E,picks:g,settledAt:Rr()}),await Ff(a.ref);const $=gt(nt,"users",t),U=await fn($);U.exists()&&(U.data().profile?await vr($,{"profile.totalEarnings":ks(E),"profile.winCount":ks(w==="Won"?1:0),"profile.lossCount":ks(w==="Lost"?1:0)}):await vr($,{totalEarnings:ks(E),winCount:ks(w==="Won"?1:0)})),o++}else console.log(`Keeping bet ${a.id} active - game date is in the future or undefined`)}return{moved:o}}catch(e){return console.error("Error moving completed bets:",e),{moved:0,error:e.message}}};async function TC(t,e){try{const n=t.toLowerCase().replace(/\s+/g,"_"),s=gt(nt,"processedPlayers",n,"thresholds",String(e)),o=await fn(s);return o.exists()?o.data():null}catch(n){throw console.error("getProcessedPlayer failed:",n),n}}function NC(){const[t,e]=F.useState(!1),[n,s]=F.useState(""),[o,a]=F.useState(""),[c,f]=F.useState(!1),[m,g]=F.useState(""),x=ix();F.useEffect(()=>{(async()=>{try{await vC("bryanram")}catch(b){console.error("Error initializing database:",b)}})()},[]);const w=async E=>{E.preventDefault(),f(!0),g("");try{console.log("Attempting login with:",n,o);const b=await cC(n);if(console.log("User data:",b),!b){g("No account found with this username."),f(!1);return}if(!uC(b,o)){g("Incorrect password."),f(!1);return}await xC(n,o),sessionStorage.setItem("currentUser",n),console.log("Login successful, navigating to HomePage"),x("/HomePage")}catch(b){console.error("Error during authentication:",b),g(`Authentication error: ${b.message}`)}finally{f(!1)}};return u.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-b from-gray-900 to-gray-800",children:[u.jsxs("main",{className:"flex-grow flex flex-col items-center justify-center px-4 py-12",children:[u.jsxs("div",{className:"text-center text-white mb-12",children:[u.jsx("img",{src:"/logo.png",alt:"PrizePicks Logo",className:"w-28 h-28 mx-auto mb-4",style:{aspectRatio:"1/1",objectFit:"contain"}}),u.jsx("h1",{className:"text-3xl font-bold",children:"PrizePicks Analyzer"}),u.jsx("p",{className:"text-xl text-gray-300 mt-2",children:"Make smarter bets"})]}),u.jsx("div",{className:"w-full max-w-sm bg-gray-800 rounded-lg shadow-xl overflow-hidden",children:u.jsxs("div",{className:"px-8 py-10",children:[u.jsx("h2",{className:"text-2xl font-extrabold text-white mb-6 text-center",children:"Welcome Back"}),m&&u.jsx("p",{className:"text-red-500 text-sm mb-4 text-center",children:m}),u.jsxs("form",{onSubmit:w,className:"space-y-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),u.jsx(uN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-600 rounded-md leading-5 bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Username",value:n,onChange:E=>s(E.target.value)})]}),u.jsxs("div",{className:"relative",children:[u.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),u.jsx(ux,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{id:"password",name:"password",type:t?"text":"password",required:!0,className:"block w-full pl-10 pr-10 py-2 border border-gray-600 rounded-md leading-5 bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Password",value:o,onChange:E=>a(E.target.value)}),u.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-white",onClick:()=>e(!t),children:t?u.jsx(eN,{className:"h-5 w-5","aria-hidden":"true"}):u.jsx(tN,{className:"h-5 w-5","aria-hidden":"true"})})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150 ease-in-out",disabled:c,children:c?"Processing...":"Sign In"})})]})]})})]}),u.jsx("footer",{className:"py-4 text-center text-gray-400",children:u.jsx("p",{children:" 2024 PrizePicks Analyzer. All rights reserved."})})]})}const bC=({picks:t,onRemovePick:e,onConfirm:n,onClose:s})=>{const[o,a]=F.useState(0),[c,f]=F.useState(0),[m,g]=F.useState("PrizePicks"),[x,w]=F.useState("Power Play"),[E,b]=F.useState(""),[R,L]=F.useState(t?t.map(U=>U.id):[]),k=U=>{L(z=>z.includes(U)?z.filter(X=>X!==U):[...z,U])},$=()=>{if(!R.length)return alert("Please select at least one pick");if(o<=0)return alert("Please enter a valid bet amount");const U=m==="Other"?E:m;if(m==="Other"&&!E.trim())return alert("Please enter the betting platform name");const z=t.filter(X=>R.includes(X.id)).map(X=>({...X,gameId:X.gameId}));n(o,c,z,U,x)};return u.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-300",children:u.jsx("div",{className:"bg-gradient-to-b from-gray-800 to-gray-900 rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto border border-gray-700",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Bet Slip"}),u.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded-full p-1.5 transition-colors",children:u.jsx(Ui,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{htmlFor:"amount",className:"block text-gray-300 text-sm font-medium mb-2",children:"Bet Amount"}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),u.jsx("input",{type:"number",id:"betAmount",className:"w-full pl-8 pr-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter amount",value:o,onChange:U=>a(Number.parseFloat(U.target.value)||0)})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{htmlFor:"winnings",className:"block text-gray-300 text-sm font-medium mb-2",children:"Potential Winnings"}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),u.jsx("input",{type:"number",id:"winnings",className:"w-full pl-8 pr-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter amount",value:c,onChange:U=>f(parseFloat(U.target.value)||0)})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-medium mb-3 text-gray-200",children:"Betting Platform"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("button",{className:`flex flex-col items-center justify-center p-4 rounded-lg border ${m==="PrizePicks"?"border-blue-500 bg-blue-900/30 shadow-lg shadow-blue-900/20":"border-gray-700 hover:border-gray-500 bg-gray-800/50"} transition-all duration-200`,onClick:()=>g("PrizePicks"),children:[u.jsx("div",{className:"h-12 flex items-center justify-center mb-2",children:u.jsx("img",{src:"/prizePicksLogo.avif",alt:"PrizePicks",className:"h-10 w-auto object-contain"})}),u.jsx("span",{className:"text-sm font-medium",children:"PrizePicks"})]}),u.jsxs("button",{className:`flex flex-col items-center justify-center p-4 rounded-lg border ${m==="Underdog"?"border-blue-500 bg-blue-900/30 shadow-lg shadow-blue-900/20":"border-gray-700 hover:border-gray-500 bg-gray-800/50"} transition-all duration-200`,onClick:()=>g("Underdog"),children:[u.jsx("div",{className:"h-12 flex items-center justify-center mb-2",children:u.jsx("img",{src:"/underDogLogo.png",alt:"Underdog",className:"h-10 w-auto object-contain"})}),u.jsx("span",{className:"text-sm font-medium",children:"Underdog"})]}),u.jsx("button",{className:`flex items-center justify-center p-4 rounded-lg border col-span-2 ${m==="Other"?"border-blue-500 bg-blue-900/30 shadow-lg shadow-blue-900/20":"border-gray-700 hover:border-gray-500 bg-gray-800/50"} transition-all duration-200`,onClick:()=>g("Other"),children:u.jsx("span",{className:"text-sm font-medium",children:"Other Platform"})})]}),m==="Other"&&u.jsx("div",{className:"mt-3",children:u.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter platform name",value:E,onChange:U=>b(U.target.value)})})]}),(m==="PrizePicks"||m==="Underdog")&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-medium mb-3 text-gray-200",children:m==="PrizePicks"?"PrizePicks Bet Type":"Underdog Bet Type"}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:m==="PrizePicks"?u.jsxs(u.Fragment,{children:[u.jsx("button",{className:`p-4 rounded-lg border ${x==="Power Play"?"border-blue-500 bg-blue-900/30 shadow-lg shadow-blue-900/20":"border-gray-700 hover:border-gray-500 bg-gray-800/50"} transition-all duration-200`,onClick:()=>w("Power Play"),children:u.jsx("span",{className:"text-sm font-medium",children:"Power Play"})}),u.jsx("button",{className:`p-4 rounded-lg border ${x==="FlexPlay"?"border-blue-500 bg-blue-900/30 shadow-lg shadow-blue-900/20":"border-gray-700 hover:border-gray-500 bg-gray-800/50"} transition-all duration-200`,onClick:()=>w("FlexPlay"),children:u.jsx("span",{className:"text-sm font-medium",children:"FlexPlay"})})]}):u.jsxs(u.Fragment,{children:[u.jsx("button",{className:`p-4 rounded-lg border ${x==="Standard"?"border-blue-500 bg-blue-900/30 shadow-lg shadow-blue-900/20":"border-gray-700 hover:border-gray-500 bg-gray-800/50"} transition-all duration-200`,onClick:()=>w("Standard"),children:u.jsx("span",{className:"text-sm font-medium",children:"Standard"})}),u.jsx("button",{className:`p-4 rounded-lg border ${x==="Flex"?"border-blue-500 bg-blue-900/30 shadow-lg shadow-blue-900/20":"border-gray-700 hover:border-gray-500 bg-gray-800/50"} transition-all duration-200`,onClick:()=>w("Flex"),children:u.jsx("span",{className:"text-sm font-medium",children:"Flex"})})]})})]}),u.jsx("h3",{className:"text-lg font-medium mb-3 text-gray-200",children:"Selected Picks"}),u.jsx("div",{className:"max-h-60 overflow-y-auto mb-6 pr-1 space-y-3",children:t&&t.length>0?t.map(U=>u.jsx("div",{className:`rounded-lg cursor-pointer transition-all duration-200 overflow-hidden ${R.includes(U.id)?"bg-gradient-to-r from-blue-900/80 to-purple-900/80 border border-blue-500/50":"bg-gray-800/80 border border-gray-700 hover:border-gray-500"}`,onClick:()=>k(U.id),children:u.jsxs("div",{className:"flex items-center p-3",children:[u.jsx("div",{className:"flex-shrink-0 mr-3",children:u.jsx("div",{className:`w-6 h-6 rounded-md flex items-center justify-center ${R.includes(U.id)?"bg-blue-500":"bg-gray-700"}`,children:R.includes(U.id)&&u.jsx(sm,{className:"w-4 h-4 text-white"})})}),u.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[u.jsx("img",{src:U.photoUrl||"/placeholder.svg?height=40&width=40",alt:U.player,className:"w-12 h-12 rounded-full object-cover mr-3 border-2 border-gray-700",onError:z=>{z.target.onerror=null,z.target.src="/placeholder.svg?height=40&width=40"}}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-medium text-white truncate",children:U.player}),u.jsx("div",{className:"flex items-center text-sm",children:u.jsxs("span",{className:`${U.recommendation==="OVER"?"text-green-400":"text-red-400"}`,children:[U.threshold," pts (",U.recommendation,")"]})})]}),u.jsx(J1,{className:"w-5 h-5 text-gray-400 ml-2 flex-shrink-0"})]})]})},U.id)):u.jsx("div",{className:"text-center py-8",children:u.jsx("p",{className:"text-gray-400",children:"No picks selected"})})}),u.jsxs("div",{className:"flex justify-between space-x-3",children:[u.jsx("button",{onClick:s,className:"px-5 py-3 bg-gray-700 hover:bg-gray-600 text-white font-medium rounded-lg flex-1 transition-colors",children:"Cancel"}),u.jsx("button",{onClick:$,className:`px-5 py-3 font-medium rounded-lg flex-1 transition-all ${R.length===0||o<=0?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white shadow-lg shadow-blue-900/20"}`,disabled:R.length===0||o<=0,children:"Confirm Bet"})]})]})})})},SC=({picks:t,betAmount:e,potentialWinnings:n,bettingPlatform:s,betType:o,onClose:a})=>u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",children:u.jsx("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-white",children:"Bet Confirmed"}),u.jsx("button",{onClick:a,className:"text-gray-400 hover:text-white",children:u.jsx(Ui,{className:"w-6 h-6"})})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"flex justify-between items-center mb-4",children:u.jsxs("div",{className:"flex items-center",children:[s==="PrizePicks"?u.jsx("img",{src:"/prizePicksLogo.avif",alt:"PrizePicks",className:"h-8 w-auto object-contain mr-2",onError:c=>{c.target.onerror=null,c.target.src="/placeholder.svg?height=32&width=32"}}):s==="Underdog"?u.jsx("img",{src:"/underDogLogo.tiff",alt:"Underdog",className:"h-8 w-auto object-contain mr-2",onError:c=>{c.target.onerror=null,c.target.src="/placeholder.svg?height=32&width=32"}}):null,u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-white",children:s}),u.jsx("p",{className:"text-sm text-gray-400",children:o})]})]})}),u.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg mb-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("p",{className:"text-gray-400",children:"Bet Amount"}),u.jsxs("p",{className:"font-medium text-white",children:["$",e]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("p",{className:"text-gray-400",children:"Potential Winnings"}),u.jsxs("p",{className:"font-medium text-green-400",children:["$",n]})]})]}),u.jsx("h3",{className:"text-lg font-semibold mb-3 text-white",children:"Selected Picks:"}),u.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:t&&t.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("p",{className:"text-gray-400",children:"Picks:"}),t.map((c,f)=>u.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg flex items-center my-2",children:[u.jsx("img",{src:c.photoUrl||"/placeholder.svg?height=40&width=40",alt:c.player,className:"w-10 h-10 rounded-full object-cover mr-3",onError:m=>{m.target.onerror=null,m.target.src="/placeholder.svg?height=40&width=40"}}),u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"font-medium text-white",children:c.player}),u.jsxs("p",{className:"text-sm text-gray-300",children:[c.threshold," pts (",c.recommendation,")"]})]})]},f))]})})]}),u.jsx("button",{onClick:a,className:"w-full py-3 bg-green-600 hover:bg-green-700 text-white font-medium rounded-md",children:"Done"})]})})}),PC=({bets:t,activeBets:e})=>{const[n,s]=F.useState({}),o=a=>{s(c=>({...c,[a]:!c[a]}))};return(!t||t.length===0)&&(!e||e.length===0)?u.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Previous Bets"}),u.jsx("p",{className:"text-gray-400",children:"You don't have any previous bets yet."})]}):u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Previous Bets"}),e&&e.length>0&&u.jsxs("div",{className:"mb-8",children:[u.jsx("h3",{className:"text-xl font-semibold mb-4 text-blue-400",children:"Active Bets"}),u.jsx("div",{className:"space-y-4",children:e.map(a=>u.jsxs("div",{className:"bg-blue-900 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>o(`active-${a.id}`),children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-medium text-white",children:["Bet placed on ",a.date]}),u.jsxs("p",{className:"text-sm text-blue-300",children:["$",a.betAmount.toFixed(2),"  Potential: $",a.potentialWinnings.toFixed(2)]})]}),u.jsx("div",{className:"text-sm font-medium px-3 py-1 bg-yellow-600 rounded-full text-white",children:"Active"})]}),n[`active-${a.id}`]&&u.jsxs("div",{className:"mt-4 border-t border-blue-800 pt-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("p",{className:"text-blue-300",children:"Platform"}),u.jsx("p",{className:"font-medium text-white",children:a.bettingPlatform||"PrizePicks"})]}),u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("p",{className:"text-blue-300",children:"Bet Type"}),u.jsx("p",{className:"font-medium text-white",children:a.betType||"Power Play"})]}),u.jsx("div",{className:"space-y-3",children:a.picks.map((c,f)=>u.jsx("div",{className:"bg-blue-800 p-3 rounded-lg flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-700 mr-3",children:u.jsx("img",{src:c.photoUrl||"/placeholder.svg?height=40&width=40",alt:c.player,className:"w-full h-full object-cover",onError:m=>{m.target.src="/placeholder.svg?height=40&width=40"}})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-white",children:c.player}),u.jsxs("p",{className:"text-sm text-blue-300",children:[c.team," vs ",c.opponent]}),u.jsxs("p",{className:"text-sm text-blue-300",children:[c.threshold," pts (",c.recommendation,")"]})]})]})},f))})]})]},a.id))})]}),t&&t.length>0&&u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-xl font-semibold mb-4 text-white",children:"Completed Bets"}),t.map(a=>u.jsxs("div",{className:`p-4 rounded-lg ${a.status==="Won"?"bg-green-900":a.status==="Lost"?"bg-red-900":"bg-gray-700"}`,children:[u.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>o(a.id),children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-medium text-white",children:["Bet placed on ",a.date]}),u.jsxs("p",{className:"text-sm text-gray-300",children:["$",a.betAmount.toFixed(2),"  ",a.status==="Won"?`Won $${a.winnings.toFixed(2)}`:"Lost"]})]}),u.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full ${a.status==="Won"?"bg-green-600 text-white":a.status==="Lost"?"bg-red-600 text-white":"bg-gray-600 text-white"}`,children:a.status})]}),n[a.id]&&u.jsxs("div",{className:"mt-4 border-t border-gray-600 pt-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("p",{className:"text-gray-400",children:"Platform"}),u.jsx("p",{className:"font-medium text-white",children:a.bettingPlatform||"PrizePicks"})]}),u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("p",{className:"text-gray-400",children:"Bet Type"}),u.jsx("p",{className:"font-medium text-white",children:a.betType||"Power Play"})]}),u.jsx("div",{className:"space-y-3",children:a.picks.map((c,f)=>u.jsxs("div",{className:`p-3 rounded-lg flex items-center justify-between ${c.result==="HIT"?"bg-green-800":"bg-red-800"}`,children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-700 mr-3",children:u.jsx("img",{src:c.photoUrl||"/placeholder.svg?height=40&width=40",alt:c.player,className:"w-full h-full object-cover",onError:m=>{m.target.src="/placeholder.svg?height=40&width=40"}})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-white",children:c.player}),u.jsxs("p",{className:"text-sm text-gray-300",children:[c.team," vs ",c.opponent]}),u.jsxs("p",{className:"text-sm text-gray-300",children:[c.threshold," pts (",c.recommendation,")"]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"font-medium text-white",children:[c.actual," pts"]}),u.jsx("p",{className:`text-sm ${c.result==="HIT"?"text-green-400":"text-red-400"}`,children:c.result})]})]},f))})]})]},a.id))]})]})})},AC=({bets:t,onCancel:e,onPlayerClick:n,onEdit:s})=>{const[o,a]=F.useState({});if(!t||t.length===0)return null;const c=f=>{a(m=>({...m,[f]:!m[f]}))};return u.jsx("div",{className:"space-y-4",children:t.map(f=>u.jsxs("div",{className:"bg-blue-900 p-6 rounded-lg shadow-lg",children:[u.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>c(f.id),children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-white",children:"Active Bet"}),u.jsx("div",{className:"ml-2 animate-pulse",children:u.jsx(nm,{className:"text-red-500 w-5 h-5"})})]}),u.jsxs("div",{className:"flex items-center",children:[s&&u.jsxs("button",{onClick:m=>{m.stopPropagation(),s(f)},className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-md mr-3 flex items-center",children:[u.jsx(aN,{className:"w-4 h-4 mr-1"}),u.jsx("span",{children:"Edit"})]}),e&&u.jsxs("button",{onClick:m=>{m.stopPropagation(),e(f.id)},className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded-md mr-3 flex items-center",children:[u.jsx(om,{className:"w-4 h-4 mr-1"}),u.jsx("span",{children:"Cancel"})]}),o[f.id]?u.jsx(Mn,{className:"text-white w-5 h-5"}):u.jsx(Ln,{className:"text-white w-5 h-5"})]})]}),o[f.id]&&u.jsx("div",{className:"mt-4",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-blue-800 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("p",{className:"text-blue-300",children:"Date"}),u.jsx("p",{className:"font-medium text-white",children:f.date})]}),u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("p",{className:"text-blue-300",children:"Bet Amount"}),u.jsxs("p",{className:"font-medium text-white",children:["$",f.betAmount.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("p",{className:"text-blue-300",children:"Potential Winnings"}),u.jsxs("p",{className:"font-medium text-green-400",children:["$",f.potentialWinnings.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("p",{className:"text-blue-300",children:"Platform"}),u.jsx("p",{className:"font-medium text-white",children:f.bettingPlatform||"PrizePicks"})]}),u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("p",{className:"text-blue-300",children:"Bet Type"}),u.jsx("p",{className:"font-medium text-white",children:f.betType||"Power Play"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("p",{className:"text-blue-300",children:"Status"}),u.jsx("p",{className:"font-medium text-yellow-400",children:f.status})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-2 text-white",children:"Picks"}),u.jsx("div",{className:"space-y-3",children:f.picks.map((m,g)=>u.jsxs("div",{className:"bg-blue-800 p-3 rounded-lg flex items-center cursor-pointer hover:bg-blue-700 transition-colors",onClick:x=>{x.stopPropagation(),n&&n(m)},children:[m.photoUrl?u.jsx("img",{src:m.photoUrl||"/placeholder.svg",alt:m.player,className:"w-10 h-10 rounded-full object-cover mr-3",onError:x=>{x.target.onerror=null,x.target.src="/placeholder.svg?height=40&width=40"}}):u.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-600 mr-3 flex items-center justify-center",children:u.jsx("span",{className:"text-xs text-white",children:m.player.substring(0,2)})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-white",children:m.player}),u.jsxs("p",{className:"text-sm text-blue-300",children:[m.threshold," pts (",m.recommendation,")"]})]}),u.jsx("span",{className:`ml-auto text-xs ${m.status==="Final"?"text-green-400":m.status==="Live"?"text-yellow-400":"text-gray-400"}`,children:m.status})]},g))})]})]})})]},f.id))})};function jC({picks:t}){return!t||t.length===0?u.jsx("div",{className:"bg-gray-800 p-6 rounded-lg",children:u.jsxs("div",{className:"text-center py-12",children:[u.jsx(nm,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Picks for Today"}),u.jsx("p",{className:"text-gray-400 mb-6",children:"You haven't locked in any picks for today. Go to the Home tab to analyze players and make your picks."})]})}):u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Today's Picks"}),u.jsx("div",{className:"space-y-4",children:t.map((e,n)=>u.jsx("div",{className:"bg-gray-700 p-4 rounded-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("img",{src:e.photoUrl||"/placeholder.svg",alt:e.player,className:"w-16 h-16 rounded-full object-cover mr-4"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold",children:e.player}),u.jsxs("p",{className:"text-gray-400",children:[e.team," vs ",e.opponent]}),u.jsxs("div",{className:"flex items-center mt-1 text-sm text-gray-400",children:[u.jsx(Q1,{className:"w-4 h-4 mr-1"}),u.jsx("span",{className:"mr-3",children:"Today"}),u.jsx(Z1,{className:"w-4 h-4 mr-1"}),u.jsx("span",{children:"8:30 PM ET"})]})]})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:`px-3 py-1 rounded-md text-sm font-medium mb-2 ${e.recommendation==="OVER"?"bg-green-900 text-green-300":"bg-red-900 text-red-300"}`,children:[e.threshold," pts ",e.recommendation]}),u.jsxs("div",{className:"flex items-center justify-center text-xs text-gray-400",children:[u.jsx(X1,{className:"w-3 h-3 mr-1"}),u.jsx("span",{children:"Locked In"})]})]})]})},n))}),u.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Game Details"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[u.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Game Time"}),u.jsx("p",{className:"font-medium",children:"8:30 PM Eastern Time"})]}),u.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[u.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Location"}),u.jsx("p",{className:"font-medium",children:"TD Garden, Boston"})]})]}),u.jsx("div",{className:"mt-4 text-center",children:u.jsx("p",{className:"text-gray-400 text-sm",children:"Results will be available after the game concludes. Good luck with your picks!"})})]})]}),u.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Performance Tracker"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg text-center",children:[u.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Today's Picks"}),u.jsx("p",{className:"text-3xl font-bold",children:t.length})]}),u.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg text-center",children:[u.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Potential Winnings"}),u.jsx("p",{className:"text-3xl font-bold text-green-500",children:"$600"})]}),u.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg text-center",children:[u.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Bet Amount"}),u.jsx("p",{className:"text-3xl font-bold",children:"$200"})]})]})]})]})}const It=({src:t,alt:e,fallbackSrc:n,...s})=>{const[o,a]=F.useState(t),c=()=>{a(n||"/placeholder.svg")};return u.jsx("img",{src:o||"/placeholder.svg",alt:e,onError:c,...s})},CC=({player:t,onClose:e})=>{const[n,s]=F.useState(null),[o,a]=F.useState(!0);if(F.useEffect(()=>{(async()=>{if(t)try{a(!0);const E=t.player||t.playerName||t.name,b=t.threshold;if(E&&b!=null){const R=await TC(E,b);R?(console.log("Loaded processedPlayers entry:",R),s(R)):(console.log("No processedPlayers entry; falling back to prop"),s(t))}else console.log("Missing name or threshold; using prop"),s(t)}catch(E){console.error("Error fetching processed player data:",E),s(t)}finally{a(!1)}})()},[t]),!t)return null;const c=n||t,f=c.player||c.playerName||c.name,m=c.team||c.playerTeam,g=c.opponent,x=c.threshold;return c.recommendation,u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",children:u.jsx("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(It,{src:displayData.photoUrl||"/placeholder.svg",alt:f,className:"w-16 h-16 rounded-full object-cover mr-4",fallbackSrc:"/placeholder.svg?height=64&width=64"}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-white",children:f}),u.jsxs("p",{className:"text-gray-400",children:[m," vs ",g]})]})]}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:u.jsx(Ui,{className:"w-6 h-6"})})]}),o?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2 text-white",children:"Bet Details"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-400",children:"Threshold"}),u.jsxs("p",{className:"text-xl font-bold text-white",children:[x," pts"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-400",children:"Recommendation"}),u.jsx("p",{className:`text-xl font-bold ${playerRecommendation==="OVER"?"text-green-500":"text-red-500"}`,children:playerRecommendation})]}),displayData.gameTime&&u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-400",children:"Game Time"}),u.jsx("p",{className:"text-xl font-bold text-white",children:displayData.gameTime})]}),displayData.gameDate&&u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-400",children:"Game Date"}),u.jsx("p",{className:"text-xl font-bold text-white",children:displayData.gameDate})]})]})]}),displayData.seasonAvgPoints&&u.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2 text-white",children:"Player Statistics"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-400",children:"Season Average"}),u.jsxs("p",{className:"text-xl font-bold text-white",children:[displayData.seasonAvgPoints||"N/A"," pts"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-400",children:"Last 5 Games"}),u.jsxs("p",{className:"text-xl font-bold text-white",children:[displayData.last5GamesAvg||"N/A"," pts"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-400",children:"Vs. Opponent"}),u.jsxs("p",{className:"text-xl font-bold text-white",children:[displayData.seasonAvgVsOpponent||"N/A"," pts"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-400",children:"Home/Away"}),u.jsxs("p",{className:"text-xl font-bold text-white",children:[displayData.homeAwgAvg||"N/A"," pts"]})]})]})]}),displayData.result&&u.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2 text-white",children:"Result"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-400",children:"Outcome"}),u.jsx("p",{className:`text-xl font-bold ${displayData.result==="HIT"?"text-green-500":"text-red-500"}`,children:displayData.result})]}),displayData.actualPoints!==void 0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-400",children:"Actual Points"}),u.jsxs("p",{className:"text-xl font-bold text-white",children:[displayData.actualPoints," pts"]})]})]})]}),displayData.last5Games&&displayData.last5Games.length>0&&u.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2 text-white",children:"Recent Performance"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-left text-gray-400 border-b border-gray-600",children:[u.jsx("th",{className:"pb-2",children:"Date"}),u.jsx("th",{className:"pb-2",children:"Opponent"}),u.jsx("th",{className:"pb-2",children:"Points"}),u.jsx("th",{className:"pb-2 text-right",children:"Result"})]})}),u.jsx("tbody",{children:displayData.last5Games.map((w,E)=>u.jsxs("tr",{className:"border-b border-gray-600",children:[u.jsx("td",{className:"py-2",children:w.date}),u.jsx("td",{className:"py-2",children:w.opponentFullName||w.opponent}),u.jsx("td",{className:"py-2 font-bold",children:w.points}),u.jsx("td",{className:"py-2 text-right",children:u.jsx("span",{className:w.points>Number.parseFloat(x)?"text-green-500":"text-red-500",children:w.result||(w.points>Number.parseFloat(x)?"OVER":"UNDER")})})]},E))})]})})]})]})]})})})};function IC({text:t="Analyzing player data"}){return u.jsxs("div",{className:"flex flex-col items-center justify-center py-6",children:[u.jsxs("div",{className:"flex items-center justify-center mb-4",children:[u.jsx("div",{className:"chatgpt-logo-container mr-4",children:u.jsx("img",{src:"/chatgptLogo.png",width:"47",height:"47",className:"invert-to-white",alt:"ChatGPT Logo"})}),u.jsxs("div",{className:"chatgpt-thinking-animation",children:[u.jsx("div",{className:"chatgpt-thinking-dot"}),u.jsx("div",{className:"chatgpt-thinking-dot"}),u.jsx("div",{className:"chatgpt-thinking-dot"})]})]}),u.jsx("p",{className:"text-gray-300 text-center mt-2",children:t})]})}const RC=({bet:t,onSave:e,onClose:n})=>{const[s,o]=F.useState(t.betAmount),[a,c]=F.useState(t.picks.map(($,U)=>U)),[f,m]=F.useState(t.bettingPlatform||"PrizePicks"),[g,x]=F.useState(t.betType||"Power Play"),[w,E]=F.useState(t.bettingPlatform!=="PrizePicks"&&t.bettingPlatform!=="Underdog"?t.bettingPlatform:""),b=()=>s*3,R=$=>{m($),x($==="PrizePicks"?"Power Play":$==="Underdog"?"Standard":"")},L=()=>{if(a.length===0){alert("You must select at least one player for your bet.");return}const $=f==="Other"?w:f;if(f==="Other"&&!w.trim()){alert("Please enter the betting platform name");return}const U={betAmount:Number.parseFloat(s),potentialWinnings:b(),bettingPlatform:$,betType:g,picks:t.picks.filter((z,X)=>a.includes(X))};e(t.id,U)},k=$=>{c(U=>U.includes($)?U.filter(z=>z!==$):[...U,$])};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",children:u.jsx("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-white",children:"Edit Bet"}),u.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white",children:u.jsx(Ui,{className:"w-6 h-6"})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"betAmount",className:"block text-sm font-medium text-gray-300 mb-2",children:"Bet Amount"}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:"$"}),u.jsx("input",{type:"number",id:"betAmount",className:"block w-full pl-8 pr-3 py-2 border border-gray-600 rounded-md leading-5 bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter amount",value:s,onChange:$=>o($.target.value),min:"1",step:"1"})]}),u.jsxs("p",{className:"mt-2 text-sm text-gray-400",children:["Potential winnings: $",b().toFixed(2)]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3 text-white",children:"Betting Platform"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"radio",id:"prizepicks",name:"platform",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-500",checked:f==="PrizePicks",onChange:()=>R("PrizePicks")}),u.jsx("label",{htmlFor:"prizepicks",className:"ml-2 text-white",children:"PrizePicks"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"radio",id:"underdog",name:"platform",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-500",checked:f==="Underdog",onChange:()=>R("Underdog")}),u.jsx("label",{htmlFor:"underdog",className:"ml-2 text-white",children:"Underdog"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"radio",id:"other",name:"platform",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-500",checked:f==="Other",onChange:()=>R("Other")}),u.jsx("label",{htmlFor:"other",className:"ml-2 text-white",children:"Other"})]}),f==="Other"&&u.jsx("div",{className:"mt-2",children:u.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter platform name",value:w,onChange:$=>E($.target.value)})})]})]}),(f==="PrizePicks"||f==="Underdog")&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3 text-white",children:f==="PrizePicks"?"PrizePicks Bet Type":"Underdog Bet Type"}),u.jsx("div",{className:"space-y-3",children:f==="PrizePicks"?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"radio",id:"powerplay",name:"bettype",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-500",checked:g==="Power Play",onChange:()=>x("Power Play")}),u.jsx("label",{htmlFor:"powerplay",className:"ml-2 text-white",children:"Power Play"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"radio",id:"flexplay",name:"bettype",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-500",checked:g==="FlexPlay",onChange:()=>x("FlexPlay")}),u.jsx("label",{htmlFor:"flexplay",className:"ml-2 text-white",children:"FlexPlay"})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"radio",id:"standard",name:"bettype",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-500",checked:g==="Standard",onChange:()=>x("Standard")}),u.jsx("label",{htmlFor:"standard",className:"ml-2 text-white",children:"Standard"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"radio",id:"flex",name:"bettype",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-500",checked:g==="Flex",onChange:()=>x("Flex")}),u.jsx("label",{htmlFor:"flex",className:"ml-2 text-white",children:"Flex"})]})]})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-3 text-white",children:"Select Players"}),u.jsx("div",{className:"space-y-3",children:t.picks.map(($,U)=>u.jsxs("div",{className:`p-3 rounded-lg flex items-center cursor-pointer transition-colors ${a.includes(U)?"bg-blue-700":"bg-gray-700"}`,onClick:()=>k(U),children:[u.jsx("div",{className:"flex-shrink-0 mr-3",children:u.jsx("input",{type:"checkbox",checked:a.includes(U),onChange:()=>k(U),className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-500 rounded"})}),u.jsx("img",{src:$.photoUrl||"/placeholder.svg",alt:$.player,className:"w-10 h-10 rounded-full object-cover mr-3"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-white",children:$.player}),u.jsxs("p",{className:"text-sm text-gray-300",children:[$.threshold," pts (",$.recommendation,")"]})]})]},U))}),a.length===0&&u.jsx("p",{className:"mt-2 text-sm text-red-400",children:"You must select at least one player."})]}),u.jsxs("div",{className:"flex justify-end space-x-3",children:[u.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-md",children:"Cancel"}),u.jsx("button",{onClick:L,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md",disabled:a.length===0||s<=0,children:"Save Changes"})]})]})]})})})},kC=({playerData:t,onClose:e,onAddToPicks:n})=>{var Pn,zn,mn,zt,$t,ie;const[s,o]=F.useState("main");if(!t)return null;const a=J=>J==null?"N/A":typeof J=="number"?J.toFixed(2):J,c=J=>J==null?"N/A":typeof J=="number"?`${(J*100).toFixed(1)}%`:J,f=J=>{const Z=J.toLowerCase();return Z.includes("over")||Z.includes("yes")?"text-green-500":Z.includes("under")||Z.includes("no")?"text-red-500":"text-yellow-500"},m=J=>{if(J==null)return"text-gray-400";const Z=typeof J=="string"?Number.parseFloat(J):J;return Z>=.7?"text-green-500":Z>=.5?"text-yellow-500":"text-red-500"},g=(J,Z)=>J==null?"text-gray-400":J>Z?"text-green-500":"text-red-500",[x,w]=F.useState([]),[E,b]=F.useState(!1),[R,L]=F.useState(!1),[k,$]=F.useState(null),U=t.name;t.playerId;const z=t.team,X=t.position,ue=t.opponent,q=t.photoUrl,j=t.teamLogo,N=t.opponentLogo,P=t.gameDate,C=t.gameTime,D=t.gameType,V=t.teamPlayoffRank,A=t.opponentPlayoffRank,je=t.seasonAvgPoints,Oe=t.last5RegularGamesAvg,ke=t.seasonAvgVsOpponent;t.homeAwgAvg;const Ce=t.last5RegularGames||[],ee=t.advancedPerformance||{},fe=t.careerSeasonStats||[],le=t.injuryReport||{},O=t.betExplanation||{},Y=t.poissonProbability,pe=t.monteCarloProbability,Pe=t.volatilityForecast,Te=t.season_games_agst_opp,me=t.threshold,De=t.num_playoff_games,Be=t.playoffAvg,Le=t.playoff_games,Xe=t.volatilityPlayOffsForecast,ct=Y?`${(Y*100).toFixed(2)}%`:"N/A",Dt=pe?`${(pe*100).toFixed(2)}%`:"N/A",ze=O.recommendation||"N/A",Pt=f(ze),Ut=J=>{o(s===J?"main":J)},Un=async()=>{if(E)return b(!1);L(!0),$(null);try{const J=await fetch(`/api/player/${t.playerId}/more_games`);if(!J.ok)throw new Error(`HTTP ${J.status}`);const Z=await J.json();w(Z),b(!0)}catch(J){console.error(J),$("Failed to load more games.")}finally{L(!1)}};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 overflow-y-auto",children:u.jsxs("div",{className:"bg-gray-900 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto relative",children:[u.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-gray-800 hover:bg-gray-700 rounded-full text-gray-400 hover:text-white transition-colors z-10",children:u.jsx(Ui,{className:"w-5 h-5"})}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsx("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 rounded-xl overflow-hidden shadow-xl",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between",children:[u.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[u.jsxs("div",{className:"relative",children:[u.jsx(It,{src:q||"/placeholder.svg",alt:U,className:"w-24 h-24 rounded-full object-cover border-2 border-blue-500",fallbackSrc:"/placeholder.svg?height=96&width=96"}),u.jsx("div",{className:"absolute -bottom-1 -right-1 bg-gray-800 rounded-full p-1 border border-gray-700",children:u.jsx(It,{src:j||"/placeholder.svg",alt:z,className:"w-8 h-8",fallbackSrc:"/placeholder.svg?height=32&width=32"})})]}),u.jsxs("div",{className:"ml-4",children:[u.jsx("h1",{className:"text-3xl font-bold",children:U}),u.jsxs("div",{className:"flex items-center text-gray-400",children:[u.jsx("span",{children:z}),u.jsx("span",{className:"mx-2",children:""}),u.jsx("span",{children:X}),u.jsx("span",{className:"mx-2",children:""}),u.jsxs("span",{children:["Rank: ",V]})]}),u.jsxs("div",{className:"flex items-center mt-1 text-sm",children:[u.jsx("span",{className:"text-gray-400",children:"vs"}),u.jsx(It,{src:N||"/placeholder.svg",alt:ue,className:"w-4 h-4 mx-1",fallbackSrc:"/placeholder.svg?height=16&width=16"}),u.jsxs("span",{children:[ue," (Rank: ",A,")"]}),u.jsx("span",{className:"mx-2",children:""}),u.jsxs("span",{children:[P," at ",C]}),u.jsx("span",{className:"mx-2",children:""}),u.jsx("span",{children:D})]})]})]}),u.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700 w-full md:w-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-gray-400",children:"Threshold"}),u.jsxs("span",{className:"text-2xl font-bold",children:[me," pts"]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-400",children:"Recommendation"}),u.jsxs("span",{className:`text-2xl font-bold ${Pt} flex items-center`,children:[ze.toLowerCase().includes("over")?u.jsx(Lu,{className:"mr-1"}):u.jsx(am,{className:"mr-1"}),ze]})]})]})]}),u.jsxs("div",{className:"mt-6 bg-gray-800 bg-opacity-50 rounded-lg p-4 border border-gray-700",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(ki,{className:"text-blue-400 w-5 h-5 mr-2"}),u.jsx("h2",{className:"text-xl font-semibold",children:"AI Betting Recommendation"})]}),u.jsxs("div",{className:"flex space-x-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-400",children:"Poisson: "}),u.jsx("span",{className:m(Y),children:ct})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-400",children:"Monte Carlo: "}),u.jsx("span",{className:m(pe),children:Dt})]})]})]}),u.jsx("p",{className:"text-gray-300",children:O.explanation})]})]})}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-5",children:[u.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[u.jsx("p",{className:"text-gray-400 text-sm",children:"Season Average"}),u.jsxs("p",{className:`text-2xl font-bold ${g(je,me)}`,children:[a(je)," pts"]})]}),u.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[u.jsx("p",{className:"text-gray-400 text-sm",children:"Average Last 5 Games"}),u.jsxs("p",{className:`text-2xl font-bold ${g(Oe,me)}`,children:[a(Oe)," pts"]})]}),u.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[u.jsxs("p",{className:"text-gray-400 text-sm",children:["Average Vs. ",ue]}),u.jsxs("p",{className:`text-2xl font-bold ${g(ke,me)}`,children:[a(ke)," pts"]})]}),u.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[u.jsx("p",{className:"text-gray-400 text-sm",children:"Season Average @ Home"}),u.jsxs("p",{className:`text-2xl font-bold ${g(ee.avg_points_home,me)}`,children:[a(ee.avg_points_home)," pts"]})]}),u.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[u.jsx("p",{className:"text-gray-400 text-sm",children:"Season Average @ Away"}),u.jsxs("p",{className:`text-2xl font-bold ${g(ee.avg_points_away,me)}`,children:[a(ee.avg_points_away)," pts"]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[u.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[u.jsx("p",{className:"text-gray-400 text-sm",children:"Regular Season Volatility Forecast"}),u.jsxs("p",{className:`text-2xl font-bold ${g(Pe,me)}`,children:[a(Pe)," pts"]})]}),Xe!=0&&u.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[u.jsx("p",{className:"text-gray-400 text-sm",children:"Playoffs Volatility Forecast"}),u.jsxs("p",{className:`text-2xl font-bold ${g(Xe,me)}`,children:[a(Xe)," pts"]})]}),De!==0&&u.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[u.jsx("p",{className:"text-gray-400 text-sm",children:"Playoffs Average"}),u.jsxs("p",{className:`text-2xl font-bold ${g(Be,me)}`,children:[a(Be)," pts"]})]})]}),u.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>Ut("recentEncounters"),children:[u.jsx("h2",{className:"text-xl font-semibold",children:"All Season Encounters"}),s==="recentEncounters"?u.jsx(Mn,{className:"w-5 h-5 text-gray-400"}):u.jsx(Ln,{className:"w-5 h-5 text-gray-400"})]}),s==="recentEncounters"&&u.jsx("div",{className:"p-4 border-t border-gray-700",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-left text-gray-400 border-b border-gray-700",children:[u.jsx("th",{className:"pb-2",children:"Date"}),u.jsx("th",{className:"pb-2",children:"Opponent"}),u.jsx("th",{className:"pb-2",children:"Location"}),u.jsx("th",{className:"pb-2",children:"MIN"}),u.jsx("th",{className:"pb-2",children:"PTS"}),u.jsx("th",{className:"pb-2 text-right",children:"vs Threshold"})]})}),u.jsx("tbody",{children:Te.map((J,Z)=>u.jsxs("tr",{className:"border-b border-gray-700",children:[u.jsx("td",{className:"py-3",children:J.date}),u.jsx("td",{className:"py-3",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(It,{src:J.opponentLogo||"/placeholder.svg",alt:J.opponent,className:"w-5 h-5 mr-2",fallbackSrc:"/placeholder.svg?height=20&width=20"}),u.jsx("span",{children:J.opponentFullName||J.opponent})]})}),u.jsx("td",{className:"py-3",children:J.location}),u.jsx("td",{className:"py-3",children:J.minutes||"N/A"}),u.jsx("td",{className:"py-3 font-bold",children:J.points}),u.jsx("td",{className:"py-3 text-right",children:me&&u.jsx("span",{className:J.points>Number.parseFloat(me)?"text-green-500":"text-red-500",children:J.points>Number.parseFloat(me)?"OVER":"UNDER"})})]},Z))})]})})})]}),De!==0&&u.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>Ut("playoffsLog"),children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Playoffs Game Log"}),s==="playoffsLog"?u.jsx(Mn,{className:"w-5 h-5 text-gray-400"}):u.jsx(Ln,{className:"w-5 h-5 text-gray-400"})]}),s==="playoffsLog"&&u.jsx("div",{className:"p-4 border-t border-gray-700",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-left text-gray-400 border-b border-gray-700",children:[u.jsx("th",{className:"pb-2",children:"Date"}),u.jsx("th",{className:"pb-2",children:"Opponent"}),u.jsx("th",{className:"pb-2",children:"Location"}),u.jsx("th",{className:"pb-2",children:"MIN"}),u.jsx("th",{className:"pb-2",children:"PTS"}),u.jsx("th",{className:"pb-2 text-right",children:"vs Threshold"})]})}),u.jsx("tbody",{children:Le.map((J,Z)=>u.jsxs("tr",{className:"border-b border-gray-700",children:[u.jsx("td",{className:"py-3",children:J.date}),u.jsx("td",{className:"py-3",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(It,{src:J.opponentLogo||"/placeholder.svg",alt:J.opponent,className:"w-5 h-5 mr-2",fallbackSrc:"/placeholder.svg?height=20&width=20"}),u.jsx("span",{children:J.opponentFullName||J.opponent})]})}),u.jsx("td",{className:"py-3",children:J.location}),u.jsx("td",{className:"py-3",children:J.minutes||"N/A"}),u.jsx("td",{className:"py-3 font-bold",children:J.points}),u.jsx("td",{className:"py-3 text-right",children:me&&u.jsx("span",{className:J.points>Number.parseFloat(me)?"text-green-500":"text-red-500",children:J.points>Number.parseFloat(me)?"OVER":"UNDER"})})]},Z))})]})})})]}),u.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>Ut("recentGames"),children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Recent Regular Season Games"}),s==="recentGames"?u.jsx(Mn,{className:"w-5 h-5 text-gray-400"}):u.jsx(Ln,{className:"w-5 h-5 text-gray-400"})]}),s==="recentGames"&&u.jsxs("div",{className:"p-4 border-t border-gray-700 flex flex-col",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-left text-gray-400 border-b border-gray-700",children:[u.jsx("th",{className:"pb-2",children:"Date"}),u.jsx("th",{className:"pb-2",children:"Opponent"}),u.jsx("th",{className:"pb-2",children:"Location"}),u.jsx("th",{className:"pb-2",children:"MIN"}),u.jsx("th",{className:"pb-2",children:"PTS"}),u.jsx("th",{className:"pb-2 text-right",children:"vs Threshold"})]})}),u.jsx("tbody",{children:Ce.map((J,Z)=>u.jsxs("tr",{className:"border-b border-gray-700",children:[u.jsx("td",{className:"py-3",children:J.date}),u.jsx("td",{className:"py-3",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(It,{src:J.opponentLogo||"/placeholder.svg",alt:J.opponentFullName||J.opponent,className:"w-5 h-5 mr-2",fallbackSrc:"/placeholder.svg?height=20&width=20"}),u.jsx("span",{children:J.opponentFullName||J.opponent})]})}),u.jsx("td",{className:"py-3",children:J.location}),u.jsx("td",{className:"py-3",children:J.minutes||"N/A"}),u.jsx("td",{className:"py-3 font-bold",children:J.points}),u.jsx("td",{className:"py-3 text-right",children:me&&u.jsx("span",{className:J.points>parseFloat(me)?"text-green-500":"text-red-500",children:J.points>parseFloat(me)?"OVER":"UNDER"})})]},Z))})]})}),E&&x.length>0&&u.jsx("div",{className:"overflow-x-auto mt-6",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-left text-gray-400 border-b border-gray-700",children:[u.jsx("th",{className:"pb-2",children:"Date"}),u.jsx("th",{className:"pb-2",children:"Opponent"}),u.jsx("th",{className:"pb-2",children:"Location"}),u.jsx("th",{className:"pb-2",children:"MIN"}),u.jsx("th",{className:"pb-2",children:"PTS"}),u.jsx("th",{className:"pb-2 text-right",children:"vs Threshold"})]})}),u.jsx("tbody",{children:x.map((J,Z)=>u.jsxs("tr",{className:"border-b border-gray-700",children:[u.jsx("td",{className:"py-3",children:J.date}),u.jsx("td",{className:"py-3",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(It,{src:J.opponentLogo||"/placeholder.svg",alt:J.opponentFullName||J.opponent,className:"w-5 h-5 mr-2",fallbackSrc:"/placeholder.svg?height=20&width=20"}),u.jsx("span",{children:J.opponentFullName||J.opponent})]})}),u.jsx("td",{className:"py-3",children:J.location}),u.jsx("td",{className:"py-3",children:J.minutes??"N/A"}),u.jsx("td",{className:"py-3 font-bold",children:J.points}),u.jsx("td",{className:"py-3 text-right",children:me&&u.jsx("span",{className:J.points>parseFloat(me)?"text-green-500":"text-red-500",children:J.points>parseFloat(me)?"OVER":"UNDER"})})]},Z))})]})}),k&&u.jsx("p",{className:"text-red-400 text-center mt-4",children:k}),u.jsx("div",{className:"mt-auto flex justify-center",children:u.jsx("button",{onClick:Un,disabled:R,className:"px-4 py-2 bg-blue-600 rounded hover:bg-blue-700 disabled:opacity-50",children:R?"Loading":E?"See Less Games":"See More Games"})})]})]}),u.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>Ut("injuryStatus"),children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Injury Status"}),s==="injuryStatus"?u.jsx(Mn,{className:"w-5 h-5 text-gray-400"}):u.jsx(Ln,{className:"w-5 h-5 text-gray-400"})]}),s==="injuryStatus"&&u.jsx("div",{className:"p-4 border-t border-gray-700",children:le.found?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(ki,{className:`w-5 h-5 mr-2 ${((Pn=le.status)==null?void 0:Pn.toLowerCase())==="out"?"text-red-500":((zn=le.status)==null?void 0:zn.toLowerCase())==="doubtful"?"text-orange-500":((mn=le.status)==null?void 0:mn.toLowerCase())==="questionable"?"text-yellow-500":"text-green-500"}`}),u.jsx("span",{className:`text-lg font-bold ${((zt=le.status)==null?void 0:zt.toLowerCase())==="out"?"text-red-500":(($t=le.status)==null?void 0:$t.toLowerCase())==="doubtful"?"text-orange-500":((ie=le.status)==null?void 0:ie.toLowerCase())==="questionable"?"text-yellow-500":"text-green-500"}`,children:le.status||"Unknown"})]}),le.reason&&u.jsx("div",{className:"bg-gray-700 p-4 rounded-lg",children:u.jsx("p",{className:"text-sm text-gray-300",children:le.reason})})]}):u.jsxs("div",{className:"bg-green-900 bg-opacity-30 p-4 rounded-lg flex items-start",children:[u.jsx(ki,{className:"text-green-400 w-5 h-5 mr-2"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-green-300 font-medium",children:"No Injury Reported"}),u.jsxs("p",{className:"text-green-400 text-sm mt-1",children:[U," is not listed on the latest NBA injury report."]})]})]})})]}),u.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>Ut("monteCarlo"),children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Monte Carlo Simulation"}),s==="monteCarlo"?u.jsx(Mn,{className:"w-5 h-5 text-gray-400"}):u.jsx(Ln,{className:"w-5 h-5 text-gray-400"})]}),s==="monteCarlo"&&u.jsx("div",{className:"p-4 border-t border-gray-700",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsxs("p",{className:"text-gray-400",children:["Probability Over ",me," Points"]}),u.jsx("p",{className:`text-2xl font-bold ${m(pe)}`,children:Dt})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("p",{className:"text-gray-400",children:"Distribution Type"}),u.jsx("p",{className:"text-gray-300",children:"normal"})]})]}),u.jsxs("div",{className:"bg-blue-900 bg-opacity-30 p-4 rounded-lg flex items-start",children:[u.jsx(rm,{className:"text-blue-400 w-5 h-5 mr-2"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-blue-300 font-medium",children:"What is Monte Carlo Simulation?"}),u.jsx("p",{className:"text-blue-400 text-sm mt-1",children:"Monte Carlo simulation runs thousands of random scenarios based on historical data to predict the probability of a player exceeding their points threshold. It accounts for variability in performance and provides a more robust prediction than simple averages."})]})]})]})})]}),u.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>Ut("advancedMetrics"),children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Advanced Metrics"}),s==="advancedMetrics"?u.jsx(Mn,{className:"w-5 h-5 text-gray-400"}):u.jsx(Ln,{className:"w-5 h-5 text-gray-400"})]}),s==="advancedMetrics"&&u.jsx("div",{className:"p-4 border-t border-gray-700",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[u.jsx("p",{className:"text-gray-400 text-sm",children:"Effective FG%"}),u.jsx("p",{className:"text-2xl font-bold",children:c(ee.efg)})]}),u.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[u.jsx("p",{className:"text-gray-400 text-sm",children:"3PT Shot Distribution"}),u.jsx("p",{className:"text-2xl font-bold",children:c(ee.shot_dist_3pt)})]}),u.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[u.jsx("p",{className:"text-gray-400 text-sm",children:"FT Rate"}),u.jsx("p",{className:"text-2xl font-bold",children:c(ee.ft_rate)})]})]}),u.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[u.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Home vs Away Splits"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-400",children:"Home Average"}),u.jsxs("p",{className:"text-xl font-bold",children:[a(ee.avg_points_home)," pts"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-400",children:"Away Average"}),u.jsxs("p",{className:"text-xl font-bold",children:[a(ee.avg_points_away)," pts"]})]})]})]}),fe.length>0&&u.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[u.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Career Season Stats"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-left text-gray-400 border-b border-gray-700",children:[u.jsx("th",{className:"pb-2",children:"Season"}),u.jsx("th",{className:"pb-2",children:"Team"}),u.jsx("th",{className:"pb-2",children:"GP"}),u.jsx("th",{className:"pb-2",children:"PPG"}),u.jsx("th",{className:"pb-2",children:"FG%"}),u.jsx("th",{className:"pb-2",children:"3P%"})]})}),u.jsx("tbody",{children:fe.map((J,Z)=>u.jsxs("tr",{className:"border-b border-gray-700",children:[u.jsx("td",{className:"py-2",children:J.SEASON_ID}),u.jsx("td",{className:"py-2",children:J.TEAM_ABBREVIATION}),u.jsx("td",{className:"py-2",children:J.GP}),u.jsx("td",{className:"py-2",children:(J.PTS/J.GP).toFixed(1)}),u.jsxs("td",{className:"py-2",children:[(J.FG_PCT*100).toFixed(1),"%"]}),u.jsxs("td",{className:"py-2",children:[(J.FG3_PCT*100).toFixed(1),"%"]})]},Z))})]})})]})]})})]}),u.jsxs("button",{onClick:J=>{J.stopPropagation(),n(),e()},className:"w-full py-4 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg flex items-center justify-center transition-colors",children:[u.jsx(im,{className:"w-5 h-5 mr-2"}),u.jsx("span",{children:"Add to Picks"})]})]})]})})},VC=({onAddToPicks:t})=>{const[e,n]=F.useState([]),[s,o]=F.useState(!0),[a,c]=F.useState(null),[f,m]=F.useState(""),[g,x]=F.useState([]),[w,E]=F.useState(null),[b,R]=F.useState({});F.useEffect(()=>{(async()=>{try{o(!0);const j=await yC();n(j),x(j)}catch(j){console.error("Error fetching processed players:",j),c("Failed to load processed players. Please try again later.")}finally{o(!1)}})()},[]),F.useEffect(()=>{if(f.trim()===""){x(e);return}const q=e.filter(j=>{var N,P;return((N=j.name)==null?void 0:N.toLowerCase().includes(f.toLowerCase()))||((P=j.team)==null?void 0:P.toLowerCase().includes(f.toLowerCase()))});x(q)},[f,e]);const L=q=>{var j,N;if(t){const P={id:q.playerId||q.id||Date.now().toString(),player:q.name,team:q.team,teamLogo:q.teamLogo,opponent:q.opponent,opponentLogo:q.opponentLogo,gameDate:q.gameDate,gameTime:q.gameTime,threshold:q.threshold,recommendation:(N=(j=q.betExplanation)==null?void 0:j.recommendation)!=null&&N.toLowerCase().includes("over")?"OVER":"UNDER",confidence:"High",photoUrl:q.photoUrl,gameId:q.gameId};t(P),R({...b,[q.playerId||q.id||q.name]:!0}),setTimeout(()=>{R({...b,[q.playerId||q.id||q.name]:!1})},3e3)}},k=q=>{E(q)},$=()=>{E(null)},U=q=>q==null?"N/A":typeof q=="number"?`${(q*100).toFixed(1)}%`:q,z=q=>{const j=q.toLowerCase();return j.includes("over")||j.includes("yes")?"text-green-500":j.includes("under")||j.includes("no")?"text-red-500":"text-yellow-500"},X=q=>{if(q==null)return"text-gray-400";const j=typeof q=="string"?Number.parseFloat(q):q;return j>=.7?"text-green-500":j>=.5?"text-yellow-500":"text-red-500"},ue=(q,j)=>q==null?"text-gray-400":q>j?"text-green-500":"text-red-500";return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Already Processed Players"}),u.jsx("div",{className:"mb-6",children:u.jsxs("div",{className:"relative",children:[u.jsx(yf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),u.jsx("input",{type:"text",placeholder:"Search players by name or team...",value:f,onChange:q=>m(q.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),u.jsxs("div",{className:"mb-6 space-y-4",children:[u.jsxs("div",{className:"flex flex-wrap gap-4",children:[u.jsxs("div",{className:"flex-1 min-w-[200px]",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Filter by Team"}),u.jsxs("select",{className:"w-full bg-gray-700 border border-gray-600 rounded-lg text-white py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:q=>{const j=q.target.value;if(j==="all"){const N=f.trim()===""?e:e.filter(P=>{var C,D;return((C=P.name)==null?void 0:C.toLowerCase().includes(f.toLowerCase()))||((D=P.team)==null?void 0:D.toLowerCase().includes(f.toLowerCase()))});x(N)}else{const N=(f.trim()===""?e:g).filter(P=>P.team===j);N.sort((P,C)=>P.name.localeCompare(C.name)),x(N)}},children:[u.jsx("option",{value:"all",children:"All Teams"}),Array.from(new Set(e.map(q=>q.team))).filter(Boolean).sort().map(q=>u.jsx("option",{value:q,children:q},q))]})]}),u.jsxs("div",{className:"flex-1 min-w-[200px]",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Filter by AI Recommendation"}),u.jsxs("select",{className:"w-full bg-gray-700 border border-gray-600 rounded-lg text-white py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:q=>{const j=q.target.value;if(j==="all"){const N=f.trim()===""?e:e.filter(P=>{var C,D;return((C=P.name)==null?void 0:C.toLowerCase().includes(f.toLowerCase()))||((D=P.team)==null?void 0:D.toLowerCase().includes(f.toLowerCase()))});x(N)}else{const N=(f.trim()===""?e:g).filter(P=>{var D;const C=((D=P.betExplanation)==null?void 0:D.recommendation)||"";return j==="100_yes"&&C.includes("100% YES")||j==="90_100_yes"&&C.includes("90100% YES")?!0:!!(j==="80_90_possible"&&C.includes("8090% possible"))});x(N)}},children:[u.jsx("option",{value:"all",children:"All Recommendations"}),u.jsx("option",{value:"100_yes",children:"100% YES"}),u.jsx("option",{value:"90_100_yes",children:"90100% YES"}),u.jsx("option",{value:"80_90_possible",children:"8090% possible"})]})]})]}),u.jsxs("div",{className:"text-sm text-gray-400",children:["Showing ",g.length," of ",e.length," players"]})]}),s&&u.jsx("div",{className:"flex justify-center items-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),a&&!s&&u.jsxs("div",{className:"bg-red-900 bg-opacity-30 border border-red-700 p-4 rounded-lg mb-4 flex items-start",children:[u.jsx(ki,{className:"text-red-400 w-5 h-5 mr-2 flex-shrink-0 mt-0.5"}),u.jsx("p",{className:"text-red-300",children:a})]}),!s&&!a&&g.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx("p",{className:"text-gray-400",children:"No processed players found."}),u.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Upload screenshots or search for players to analyze them."})]}),!s&&!a&&g.length>0&&u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(q=>{var je,Oe,ke;const j=q.playerId||q.id||q.name,N=`${j}_${q.threshold}`,P=b[j],C=q.poissonProbability,D=q.monteCarloProbability,V=((je=q.betExplanation)==null?void 0:je.recommendation)||"N/A",A=q.threshold||0;return u.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-700 rounded-xl overflow-hidden shadow-lg border border-gray-700 hover:shadow-2xl transition-all duration-300 transform hover:scale-[1.02] cursor-pointer",onClick:()=>k(q),children:[u.jsx("div",{className:"p-4 bg-gradient-to-r from-gray-900 to-gray-800",children:u.jsxs("div",{className:"flex items-center",children:[u.jsxs("div",{className:"relative",children:[u.jsx(It,{src:q.photoUrl||"/placeholder.svg",alt:q.name,className:"w-16 h-16 rounded-full object-cover border-2 border-gray-700",fallbackSrc:"/placeholder.svg?height=64&width=64"}),u.jsx("div",{className:"absolute -bottom-1 -right-1 bg-gray-800 rounded-full p-0.5 border border-gray-700",children:u.jsx(It,{src:q.teamLogo||"/placeholder.svg",alt:q.team,className:"w-6 h-6",fallbackSrc:"/placeholder.svg?height=24&width=24"})})]}),u.jsxs("div",{className:"ml-3",children:[u.jsx("h3",{className:"font-bold text-lg",children:q.name}),u.jsx("p",{className:"text-sm text-gray-400",children:q.team})]})]})}),u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[u.jsxs("div",{className:"bg-gray-800 p-2 rounded",children:[u.jsx("p",{className:"text-xs text-gray-400",children:"Season Avg"}),u.jsxs("p",{className:`font-bold ${ue(q.seasonAvgPoints,A)}`,children:[((Oe=q.seasonAvgPoints)==null?void 0:Oe.toFixed(1))||"N/A"," pts"]})]}),u.jsxs("div",{className:"bg-gray-800 p-2 rounded",children:[u.jsx("p",{className:"text-xs text-gray-400",children:"Last 5 Games"}),u.jsxs("p",{className:`font-bold ${ue(q.last5GamesAvg,A)}`,children:[((ke=q.last5GamesAvg)==null?void 0:ke.toFixed(1))||"N/A"," pts"]})]})]}),u.jsx("div",{className:"bg-gray-800 p-2 rounded mb-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(It,{src:q.teamLogo||"/placeholder.svg",alt:q.team,className:"w-5 h-5 mr-1",fallbackSrc:"/placeholder.svg?height=20&width=20"}),u.jsx("span",{className:"text-xs mx-1",children:"vs"}),u.jsx(It,{src:q.opponentLogo||"/placeholder.svg",alt:q.opponent,className:"w-5 h-5 mr-1",fallbackSrc:"/placeholder.svg?height=20&width=20"}),u.jsx("span",{className:"text-xs",children:q.opponent})]}),u.jsx("span",{className:"text-xs text-gray-400",children:q.gameDate})]})}),u.jsxs("div",{className:"flex items-center justify-between mb-3 bg-gray-800 p-2 rounded",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-400",children:"Threshold"}),u.jsxs("p",{className:"font-bold",children:[A," pts"]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-xs text-gray-400",children:"Probability"}),u.jsx("p",{className:`font-bold ${X(C)}`,children:U(C)})]})]}),V!=="N/A"&&u.jsx("div",{className:"bg-gray-800 p-3 rounded mb-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("p",{className:"text-sm text-gray-400",children:"AI Pick"}),u.jsxs("p",{className:`font-bold ${z(V)}`,children:[V.toLowerCase().includes("over")?u.jsx(Lu,{className:"inline-block w-4 h-4 mr-1"}):u.jsx(am,{className:"inline-block w-4 h-4 mr-1"}),V]})]})}),u.jsx("div",{className:"bg-gray-800 p-2 rounded mb-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(rm,{className:"w-3 h-3 mr-1 text-gray-400"}),u.jsx("p",{className:"text-xs text-gray-400",children:"Monte Carlo"})]}),u.jsx("p",{className:`font-bold ${X(D)}`,children:U(D)})]})}),u.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),L(q)},className:`w-full py-2 rounded-md flex items-center justify-center transition-colors ${P?"bg-green-600 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:P?u.jsxs(u.Fragment,{children:[u.jsx(sm,{className:"w-4 h-4 mr-1"}),u.jsx("span",{children:"Added to Picks"})]}):u.jsxs(u.Fragment,{children:[u.jsx(im,{className:"w-4 h-4 mr-1"}),u.jsx("span",{children:"Add to Picks"})]})})]})]},N)})})]}),w&&u.jsx(kC,{playerData:w,onClose:$,onAddToPicks:()=>L(w)})]})},g_=F.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),rd=F.createContext({}),sd=F.createContext(null),id=typeof document<"u",Ym=id?F.useLayoutEffect:F.useEffect,y_=F.createContext({strict:!1}),Xm=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),DC="framerAppearId",v_="data-"+Xm(DC);function LC(t,e,n,s){const{visualElement:o}=F.useContext(rd),a=F.useContext(y_),c=F.useContext(sd),f=F.useContext(g_).reducedMotion,m=F.useRef();s=s||a.renderer,!m.current&&s&&(m.current=s(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:f}));const g=m.current;F.useInsertionEffect(()=>{g&&g.update(n,c)});const x=F.useRef(!!(n[v_]&&!window.HandoffComplete));return Ym(()=>{g&&(g.render(),x.current&&g.animationState&&g.animationState.animateChanges())}),F.useEffect(()=>{g&&(g.updateFeatures(),!x.current&&g.animationState&&g.animationState.animateChanges(),x.current&&(x.current=!1,window.HandoffComplete=!0))}),g}function Oo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function MC(t,e,n){return F.useCallback(s=>{s&&t.mount&&t.mount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Oo(n)&&(n.current=s))},[e])}function _l(t){return typeof t=="string"||Array.isArray(t)}function od(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Jm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zm=["initial",...Jm];function ad(t){return od(t.animate)||Zm.some(e=>_l(t[e]))}function x_(t){return!!(ad(t)||t.variants)}function FC(t,e){if(ad(t)){const{initial:n,animate:s}=t;return{initial:n===!1||_l(n)?n:void 0,animate:_l(s)?s:void 0}}return t.inherit!==!1?e:{}}function OC(t){const{initial:e,animate:n}=FC(t,F.useContext(rd));return F.useMemo(()=>({initial:e,animate:n}),[H0(e),H0(n)])}function H0(t){return Array.isArray(t)?t.join(" "):t}const G0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},El={};for(const t in G0)El[t]={isEnabled:e=>G0[t].some(n=>!!e[n])};function BC(t){for(const e in t)El[e]={...El[e],...t[e]}}const ep=F.createContext({}),w_=F.createContext({}),UC=Symbol.for("motionComponentSymbol");function zC({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:o}){t&&BC(t);function a(f,m){let g;const x={...F.useContext(g_),...f,layoutId:$C(f)},{isStatic:w}=x,E=OC(f),b=s(f,w);if(!w&&id){E.visualElement=LC(o,b,x,e);const R=F.useContext(w_),L=F.useContext(y_).strict;E.visualElement&&(g=E.visualElement.loadFeatures(x,L,t,R))}return F.createElement(rd.Provider,{value:E},g&&E.visualElement?F.createElement(g,{visualElement:E.visualElement,...x}):null,n(o,f,MC(b,E.visualElement,m),b,w,E.visualElement))}const c=F.forwardRef(a);return c[UC]=o,c}function $C({layoutId:t}){const e=F.useContext(ep).id;return e&&t!==void 0?e+"-"+t:t}function WC(t){function e(s,o={}){return zC(t(s,o))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(s,o)=>(n.has(o)||n.set(o,e(o)),n.get(o))})}const HC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tp(t){return typeof t!="string"||t.includes("-")?!1:!!(HC.indexOf(t)>-1||/[A-Z]/.test(t))}const bu={};function GC(t){Object.assign(bu,t)}const kl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hi=new Set(kl);function __(t,{layout:e,layoutId:n}){return Hi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!bu[t]||t==="opacity")}const Sn=t=>!!(t&&t.getVelocity),qC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},KC=kl.length;function QC(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},s,o){let a="";for(let c=0;c<KC;c++){const f=kl[c];if(t[f]!==void 0){const m=qC[f]||f;a+=`${m}(${t[f]}) `}}return e&&!t.z&&(a+="translateZ(0)"),a=a.trim(),o?a=o(t,s?"":a):n&&s&&(a="none"),a}const E_=t=>e=>typeof e=="string"&&e.startsWith(t),T_=E_("--"),Bf=E_("var(--"),YC=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,XC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Gs=(t,e,n)=>Math.min(Math.max(n,t),e),Gi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},il={...Gi,transform:t=>Gs(0,1,t)},nu={...Gi,default:1},ol=t=>Math.round(t*1e5)/1e5,ld=/(-)?([\d]*\.?[\d])+/g,N_=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,JC=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Vl(t){return typeof t=="string"}const Dl=t=>({test:e=>Vl(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Vs=Dl("deg"),Lr=Dl("%"),Ae=Dl("px"),ZC=Dl("vh"),eI=Dl("vw"),q0={...Lr,parse:t=>Lr.parse(t)/100,transform:t=>Lr.transform(t*100)},K0={...Gi,transform:Math.round},b_={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,size:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,rotate:Vs,rotateX:Vs,rotateY:Vs,rotateZ:Vs,scale:nu,scaleX:nu,scaleY:nu,scaleZ:nu,skew:Vs,skewX:Vs,skewY:Vs,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:il,originX:q0,originY:q0,originZ:Ae,zIndex:K0,fillOpacity:il,strokeOpacity:il,numOctaves:K0};function np(t,e,n,s){const{style:o,vars:a,transform:c,transformOrigin:f}=t;let m=!1,g=!1,x=!0;for(const w in e){const E=e[w];if(T_(w)){a[w]=E;continue}const b=b_[w],R=XC(E,b);if(Hi.has(w)){if(m=!0,c[w]=R,!x)continue;E!==(b.default||0)&&(x=!1)}else w.startsWith("origin")?(g=!0,f[w]=R):o[w]=R}if(e.transform||(m||s?o.transform=QC(t.transform,n,x,s):o.transform&&(o.transform="none")),g){const{originX:w="50%",originY:E="50%",originZ:b=0}=f;o.transformOrigin=`${w} ${E} ${b}`}}const rp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function S_(t,e,n){for(const s in e)!Sn(e[s])&&!__(s,n)&&(t[s]=e[s])}function tI({transformTemplate:t},e,n){return F.useMemo(()=>{const s=rp();return np(s,e,{enableHardwareAcceleration:!n},t),Object.assign({},s.vars,s.style)},[e])}function nI(t,e,n){const s=t.style||{},o={};return S_(o,s,t),Object.assign(o,tI(t,e,n)),t.transformValues?t.transformValues(o):o}function rI(t,e,n){const s={},o=nI(t,e,n);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=o,s}const sI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Su(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||sI.has(t)}let P_=t=>!Su(t);function iI(t){t&&(P_=e=>e.startsWith("on")?!Su(e):t(e))}try{iI(require("@emotion/is-prop-valid").default)}catch{}function oI(t,e,n){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(P_(o)||n===!0&&Su(o)||!e&&!Su(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}function Q0(t,e,n){return typeof t=="string"?t:Ae.transform(e+n*t)}function aI(t,e,n){const s=Q0(e,t.x,t.width),o=Q0(n,t.y,t.height);return`${s} ${o}`}const lI={offset:"stroke-dashoffset",array:"stroke-dasharray"},cI={offset:"strokeDashoffset",array:"strokeDasharray"};function uI(t,e,n=1,s=0,o=!0){t.pathLength=1;const a=o?lI:cI;t[a.offset]=Ae.transform(-s);const c=Ae.transform(e),f=Ae.transform(n);t[a.array]=`${c} ${f}`}function sp(t,{attrX:e,attrY:n,attrScale:s,originX:o,originY:a,pathLength:c,pathSpacing:f=1,pathOffset:m=0,...g},x,w,E){if(np(t,g,x,E),w){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:R,dimensions:L}=t;b.transform&&(L&&(R.transform=b.transform),delete b.transform),L&&(o!==void 0||a!==void 0||R.transform)&&(R.transformOrigin=aI(L,o!==void 0?o:.5,a!==void 0?a:.5)),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),c!==void 0&&uI(b,c,f,m,!1)}const A_=()=>({...rp(),attrs:{}}),ip=t=>typeof t=="string"&&t.toLowerCase()==="svg";function dI(t,e,n,s){const o=F.useMemo(()=>{const a=A_();return sp(a,e,{enableHardwareAcceleration:!1},ip(s),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};S_(a,t.style,t),o.style={...a,...o.style}}return o}function hI(t=!1){return(n,s,o,{latestValues:a},c)=>{const m=(tp(n)?dI:rI)(s,a,c,n),x={...oI(s,typeof n=="string",t),...m,ref:o},{children:w}=s,E=F.useMemo(()=>Sn(w)?w.get():w,[w]);return F.createElement(n,{...x,children:E})}}function j_(t,{style:e,vars:n},s,o){Object.assign(t.style,e,o&&o.getProjectionStyles(s));for(const a in n)t.style.setProperty(a,n[a])}const C_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function I_(t,e,n,s){j_(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(C_.has(o)?o:Xm(o),e.attrs[o])}function op(t,e){const{style:n}=t,s={};for(const o in n)(Sn(n[o])||e.style&&Sn(e.style[o])||__(o,t))&&(s[o]=n[o]);return s}function R_(t,e){const n=op(t,e);for(const s in t)if(Sn(t[s])||Sn(e[s])){const o=kl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[o]=t[s]}return n}function ap(t,e,n,s={},o={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,o)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,o)),e}function k_(t){const e=F.useRef(null);return e.current===null&&(e.current=t()),e.current}const Pu=t=>Array.isArray(t),fI=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),mI=t=>Pu(t)?t[t.length-1]||0:t;function du(t){const e=Sn(t)?t.get():t;return fI(e)?e.toValue():e}function pI({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},s,o,a){const c={latestValues:gI(s,o,a,t),renderState:e()};return n&&(c.mount=f=>n(s,f,c)),c}const V_=t=>(e,n)=>{const s=F.useContext(rd),o=F.useContext(sd),a=()=>pI(t,e,s,o);return n?a():k_(a)};function gI(t,e,n,s){const o={},a=s(t,{});for(const E in a)o[E]=du(a[E]);let{initial:c,animate:f}=t;const m=ad(t),g=x_(t);e&&g&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let x=n?n.initial===!1:!1;x=x||c===!1;const w=x?f:c;return w&&typeof w!="boolean"&&!od(w)&&(Array.isArray(w)?w:[w]).forEach(b=>{const R=ap(t,b);if(!R)return;const{transitionEnd:L,transition:k,...$}=R;for(const U in $){let z=$[U];if(Array.isArray(z)){const X=x?z.length-1:0;z=z[X]}z!==null&&(o[U]=z)}for(const U in L)o[U]=L[U]}),o}const Et=t=>t;class Y0{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function yI(t){let e=new Y0,n=new Y0,s=0,o=!1,a=!1;const c=new WeakSet,f={schedule:(m,g=!1,x=!1)=>{const w=x&&o,E=w?e:n;return g&&c.add(m),E.add(m)&&w&&o&&(s=e.order.length),m},cancel:m=>{n.remove(m),c.delete(m)},process:m=>{if(o){a=!0;return}if(o=!0,[e,n]=[n,e],n.clear(),s=e.order.length,s)for(let g=0;g<s;g++){const x=e.order[g];x(m),c.has(x)&&(f.schedule(x),t())}o=!1,a&&(a=!1,f.process(m))}};return f}const ru=["prepare","read","update","preRender","render","postRender"],vI=40;function xI(t,e){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=ru.reduce((w,E)=>(w[E]=yI(()=>n=!0),w),{}),c=w=>a[w].process(o),f=()=>{const w=performance.now();n=!1,o.delta=s?1e3/60:Math.max(Math.min(w-o.timestamp,vI),1),o.timestamp=w,o.isProcessing=!0,ru.forEach(c),o.isProcessing=!1,n&&e&&(s=!1,t(f))},m=()=>{n=!0,s=!0,o.isProcessing||t(f)};return{schedule:ru.reduce((w,E)=>{const b=a[E];return w[E]=(R,L=!1,k=!1)=>(n||m(),b.schedule(R,L,k)),w},{}),cancel:w=>ru.forEach(E=>a[E].cancel(w)),state:o,steps:a}}const{schedule:ot,cancel:cs,state:rn,steps:ef}=xI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Et,!0),wI={useVisualState:V_({scrapeMotionValuesFromProps:R_,createRenderState:A_,onMount:(t,e,{renderState:n,latestValues:s})=>{ot.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ot.render(()=>{sp(n,s,{enableHardwareAcceleration:!1},ip(e.tagName),t.transformTemplate),I_(e,n)})}})},_I={useVisualState:V_({scrapeMotionValuesFromProps:op,createRenderState:rp})};function EI(t,{forwardMotionProps:e=!1},n,s){return{...tp(t)?wI:_I,preloadedFeatures:n,useRender:hI(e),createVisualElement:s,Component:t}}function ts(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const D_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function cd(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const TI=t=>e=>D_(e)&&t(e,cd(e));function rs(t,e,n,s){return ts(t,e,TI(n),s)}const NI=(t,e)=>n=>e(t(n)),Us=(...t)=>t.reduce(NI);function L_(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const X0=L_("dragHorizontal"),J0=L_("dragVertical");function M_(t){let e=!1;if(t==="y")e=J0();else if(t==="x")e=X0();else{const n=X0(),s=J0();n&&s?e=()=>{n(),s()}:(n&&n(),s&&s())}return e}function F_(){const t=M_(!0);return t?(t(),!1):!0}class Ys{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Z0(t,e){const n="pointer"+(e?"enter":"leave"),s="onHover"+(e?"Start":"End"),o=(a,c)=>{if(a.pointerType==="touch"||F_())return;const f=t.getProps();t.animationState&&f.whileHover&&t.animationState.setActive("whileHover",e),f[s]&&ot.update(()=>f[s](a,c))};return rs(t.current,n,o,{passive:!t.getProps()[s]})}class bI extends Ys{mount(){this.unmount=Us(Z0(this.node,!0),Z0(this.node,!1))}unmount(){}}class SI extends Ys{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Us(ts(this.node.current,"focus",()=>this.onFocus()),ts(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const O_=(t,e)=>e?t===e?!0:O_(t,e.parentElement):!1;function tf(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,cd(n))}class PI extends Ys{constructor(){super(...arguments),this.removeStartListeners=Et,this.removeEndListeners=Et,this.removeAccessibleListeners=Et,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),a=rs(window,"pointerup",(f,m)=>{if(!this.checkPressEnd())return;const{onTap:g,onTapCancel:x,globalTapTarget:w}=this.node.getProps();ot.update(()=>{!w&&!O_(this.node.current,f.target)?x&&x(f,m):g&&g(f,m)})},{passive:!(s.onTap||s.onPointerUp)}),c=rs(window,"pointercancel",(f,m)=>this.cancelPress(f,m),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=Us(a,c),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const c=f=>{f.key!=="Enter"||!this.checkPressEnd()||tf("up",(m,g)=>{const{onTap:x}=this.node.getProps();x&&ot.update(()=>x(m,g))})};this.removeEndListeners(),this.removeEndListeners=ts(this.node.current,"keyup",c),tf("down",(f,m)=>{this.startPress(f,m)})},n=ts(this.node.current,"keydown",e),s=()=>{this.isPressing&&tf("cancel",(a,c)=>this.cancelPress(a,c))},o=ts(this.node.current,"blur",s);this.removeAccessibleListeners=Us(n,o)}}startPress(e,n){this.isPressing=!0;const{onTapStart:s,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&ot.update(()=>s(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!F_()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&ot.update(()=>s(e,n))}mount(){const e=this.node.getProps(),n=rs(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),s=ts(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Us(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Uf=new WeakMap,nf=new WeakMap,AI=t=>{const e=Uf.get(t.target);e&&e(t)},jI=t=>{t.forEach(AI)};function CI({root:t,...e}){const n=t||document;nf.has(n)||nf.set(n,{});const s=nf.get(n),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(jI,{root:t,...e})),s[o]}function II(t,e,n){const s=CI(e);return Uf.set(t,n),s.observe(t),()=>{Uf.delete(t),s.unobserve(t)}}const RI={some:0,all:1};class kI extends Ys{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:a}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:RI[o]},f=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,a&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:x,onViewportLeave:w}=this.node.getProps(),E=g?x:w;E&&E(m)};return II(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(VI(e,n))&&this.startObserver()}unmount(){}}function VI({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const DI={inView:{Feature:kI},tap:{Feature:PI},focus:{Feature:SI},hover:{Feature:bI}};function B_(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function LI(t){const e={};return t.values.forEach((n,s)=>e[s]=n.get()),e}function MI(t){const e={};return t.values.forEach((n,s)=>e[s]=n.getVelocity()),e}function ud(t,e,n){const s=t.getProps();return ap(s,e,n!==void 0?n:s.custom,LI(t),MI(t))}let lp=Et;const Di=t=>t*1e3,ss=t=>t/1e3,FI={current:!1},U_=t=>Array.isArray(t)&&typeof t[0]=="number";function z_(t){return!!(!t||typeof t=="string"&&$_[t]||U_(t)||Array.isArray(t)&&t.every(z_))}const Za=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,$_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Za([0,.65,.55,1]),circOut:Za([.55,0,1,.45]),backIn:Za([.31,.01,.66,-.59]),backOut:Za([.33,1.53,.69,.99])};function W_(t){if(t)return U_(t)?Za(t):Array.isArray(t)?t.map(W_):$_[t]}function OI(t,e,n,{delay:s=0,duration:o,repeat:a=0,repeatType:c="loop",ease:f,times:m}={}){const g={[e]:n};m&&(g.offset=m);const x=W_(f);return Array.isArray(x)&&(g.easing=x),t.animate(g,{delay:s,duration:o,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:a+1,direction:c==="reverse"?"alternate":"normal"})}function BI(t,{repeat:e,repeatType:n="loop"}){const s=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[s]}const H_=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,UI=1e-7,zI=12;function $I(t,e,n,s,o){let a,c,f=0;do c=e+(n-e)/2,a=H_(c,s,o)-t,a>0?n=c:e=c;while(Math.abs(a)>UI&&++f<zI);return c}function Ll(t,e,n,s){if(t===e&&n===s)return Et;const o=a=>$I(a,0,1,t,n);return a=>a===0||a===1?a:H_(o(a),e,s)}const WI=Ll(.42,0,1,1),HI=Ll(0,0,.58,1),G_=Ll(.42,0,.58,1),GI=t=>Array.isArray(t)&&typeof t[0]!="number",q_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,K_=t=>e=>1-t(1-e),cp=t=>1-Math.sin(Math.acos(t)),Q_=K_(cp),qI=q_(cp),Y_=Ll(.33,1.53,.69,.99),up=K_(Y_),KI=q_(up),QI=t=>(t*=2)<1?.5*up(t):.5*(2-Math.pow(2,-10*(t-1))),YI={linear:Et,easeIn:WI,easeInOut:G_,easeOut:HI,circIn:cp,circInOut:qI,circOut:Q_,backIn:up,backInOut:KI,backOut:Y_,anticipate:QI},ev=t=>{if(Array.isArray(t)){lp(t.length===4);const[e,n,s,o]=t;return Ll(e,n,s,o)}else if(typeof t=="string")return YI[t];return t},dp=(t,e)=>n=>!!(Vl(n)&&JC.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),X_=(t,e,n)=>s=>{if(!Vl(s))return s;const[o,a,c,f]=s.match(ld);return{[t]:parseFloat(o),[e]:parseFloat(a),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},XI=t=>Gs(0,255,t),rf={...Gi,transform:t=>Math.round(XI(t))},Ii={test:dp("rgb","red"),parse:X_("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+rf.transform(t)+", "+rf.transform(e)+", "+rf.transform(n)+", "+ol(il.transform(s))+")"};function JI(t){let e="",n="",s="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const zf={test:dp("#"),parse:JI,transform:Ii.transform},Bo={test:dp("hsl","hue"),parse:X_("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Lr.transform(ol(e))+", "+Lr.transform(ol(n))+", "+ol(il.transform(s))+")"},hn={test:t=>Ii.test(t)||zf.test(t)||Bo.test(t),parse:t=>Ii.test(t)?Ii.parse(t):Bo.test(t)?Bo.parse(t):zf.parse(t),transform:t=>Vl(t)?t:t.hasOwnProperty("red")?Ii.transform(t):Bo.transform(t)},pt=(t,e,n)=>-n*t+n*e+t;function sf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ZI({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let o=0,a=0,c=0;if(!e)o=a=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;o=sf(m,f,t+1/3),a=sf(m,f,t),c=sf(m,f,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(c*255),alpha:s}}const of=(t,e,n)=>{const s=t*t;return Math.sqrt(Math.max(0,n*(e*e-s)+s))},e2=[zf,Ii,Bo],t2=t=>e2.find(e=>e.test(t));function tv(t){const e=t2(t);let n=e.parse(t);return e===Bo&&(n=ZI(n)),n}const J_=(t,e)=>{const n=tv(t),s=tv(e),o={...n};return a=>(o.red=of(n.red,s.red,a),o.green=of(n.green,s.green,a),o.blue=of(n.blue,s.blue,a),o.alpha=pt(n.alpha,s.alpha,a),Ii.transform(o))};function n2(t){var e,n;return isNaN(t)&&Vl(t)&&(((e=t.match(ld))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(N_))===null||n===void 0?void 0:n.length)||0)>0}const Z_={regex:YC,countKey:"Vars",token:"${v}",parse:Et},eE={regex:N_,countKey:"Colors",token:"${c}",parse:hn.parse},tE={regex:ld,countKey:"Numbers",token:"${n}",parse:Gi.parse};function af(t,{regex:e,countKey:n,token:s,parse:o}){const a=t.tokenised.match(e);a&&(t["num"+n]=a.length,t.tokenised=t.tokenised.replace(e,s),t.values.push(...a.map(o)))}function Au(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&af(n,Z_),af(n,eE),af(n,tE),n}function nE(t){return Au(t).values}function rE(t){const{values:e,numColors:n,numVars:s,tokenised:o}=Au(t),a=e.length;return c=>{let f=o;for(let m=0;m<a;m++)m<s?f=f.replace(Z_.token,c[m]):m<s+n?f=f.replace(eE.token,hn.transform(c[m])):f=f.replace(tE.token,ol(c[m]));return f}}const r2=t=>typeof t=="number"?0:t;function s2(t){const e=nE(t);return rE(t)(e.map(r2))}const qs={test:n2,parse:nE,createTransformer:rE,getAnimatableNone:s2},sE=(t,e)=>n=>`${n>0?e:t}`;function iE(t,e){return typeof t=="number"?n=>pt(t,e,n):hn.test(t)?J_(t,e):t.startsWith("var(")?sE(t,e):aE(t,e)}const oE=(t,e)=>{const n=[...t],s=n.length,o=t.map((a,c)=>iE(a,e[c]));return a=>{for(let c=0;c<s;c++)n[c]=o[c](a);return n}},i2=(t,e)=>{const n={...t,...e},s={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(s[o]=iE(t[o],e[o]));return o=>{for(const a in s)n[a]=s[a](o);return n}},aE=(t,e)=>{const n=qs.createTransformer(e),s=Au(t),o=Au(e);return s.numVars===o.numVars&&s.numColors===o.numColors&&s.numNumbers>=o.numNumbers?Us(oE(s.values,o.values),n):sE(t,e)},Tl=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},nv=(t,e)=>n=>pt(t,e,n);function o2(t){return typeof t=="number"?nv:typeof t=="string"?hn.test(t)?J_:aE:Array.isArray(t)?oE:typeof t=="object"?i2:nv}function a2(t,e,n){const s=[],o=n||o2(t[0]),a=t.length-1;for(let c=0;c<a;c++){let f=o(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||Et:e;f=Us(m,f)}s.push(f)}return s}function lE(t,e,{clamp:n=!0,ease:s,mixer:o}={}){const a=t.length;if(lp(a===e.length),a===1)return()=>e[0];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=a2(e,s,o),f=c.length,m=g=>{let x=0;if(f>1)for(;x<t.length-2&&!(g<t[x+1]);x++);const w=Tl(t[x],t[x+1],g);return c[x](w)};return n?g=>m(Gs(t[0],t[a-1],g)):m}function l2(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const o=Tl(0,e,s);t.push(pt(n,1,o))}}function c2(t){const e=[0];return l2(e,t.length-1),e}function u2(t,e){return t.map(n=>n*e)}function d2(t,e){return t.map(()=>e||G_).splice(0,t.length-1)}function ju({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const o=GI(s)?s.map(ev):ev(s),a={done:!1,value:e[0]},c=u2(n&&n.length===e.length?n:c2(e),t),f=lE(c,e,{ease:Array.isArray(o)?o:d2(e,o)});return{calculatedDuration:t,next:m=>(a.value=f(m),a.done=m>=t,a)}}function cE(t,e){return e?t*(1e3/e):0}const h2=5;function uE(t,e,n){const s=Math.max(e-h2,0);return cE(n-t(s),e-s)}const rv=.001,f2=.01,m2=10,p2=.05,g2=1;function y2({duration:t=800,bounce:e=.25,velocity:n=0,mass:s=1}){let o,a,c=1-e;c=Gs(p2,g2,c),t=Gs(f2,m2,ss(t)),c<1?(o=g=>{const x=g*c,w=x*t,E=x-n,b=$f(g,c),R=Math.exp(-w);return rv-E/b*R},a=g=>{const w=g*c*t,E=w*n+n,b=Math.pow(c,2)*Math.pow(g,2)*t,R=Math.exp(-w),L=$f(Math.pow(g,2),c);return(-o(g)+rv>0?-1:1)*((E-b)*R)/L}):(o=g=>{const x=Math.exp(-g*t),w=(g-n)*t+1;return-.001+x*w},a=g=>{const x=Math.exp(-g*t),w=(n-g)*(t*t);return x*w});const f=5/t,m=x2(o,a,f);if(t=Di(t),isNaN(m))return{stiffness:100,damping:10,duration:t};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:t}}}const v2=12;function x2(t,e,n){let s=n;for(let o=1;o<v2;o++)s=s-t(s)/e(s);return s}function $f(t,e){return t*Math.sqrt(1-e*e)}const w2=["duration","bounce"],_2=["stiffness","damping","mass"];function sv(t,e){return e.some(n=>t[n]!==void 0)}function E2(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!sv(t,_2)&&sv(t,w2)){const n=y2(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function dE({keyframes:t,restDelta:e,restSpeed:n,...s}){const o=t[0],a=t[t.length-1],c={done:!1,value:o},{stiffness:f,damping:m,mass:g,duration:x,velocity:w,isResolvedFromDuration:E}=E2({...s,velocity:-ss(s.velocity||0)}),b=w||0,R=m/(2*Math.sqrt(f*g)),L=a-o,k=ss(Math.sqrt(f/g)),$=Math.abs(L)<5;n||(n=$?.01:2),e||(e=$?.005:.5);let U;if(R<1){const z=$f(k,R);U=X=>{const ue=Math.exp(-R*k*X);return a-ue*((b+R*k*L)/z*Math.sin(z*X)+L*Math.cos(z*X))}}else if(R===1)U=z=>a-Math.exp(-k*z)*(L+(b+k*L)*z);else{const z=k*Math.sqrt(R*R-1);U=X=>{const ue=Math.exp(-R*k*X),q=Math.min(z*X,300);return a-ue*((b+R*k*L)*Math.sinh(q)+z*L*Math.cosh(q))/z}}return{calculatedDuration:E&&x||null,next:z=>{const X=U(z);if(E)c.done=z>=x;else{let ue=b;z!==0&&(R<1?ue=uE(U,z,X):ue=0);const q=Math.abs(ue)<=n,j=Math.abs(a-X)<=e;c.done=q&&j}return c.value=c.done?a:X,c}}}function iv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:c,min:f,max:m,restDelta:g=.5,restSpeed:x}){const w=t[0],E={done:!1,value:w},b=N=>f!==void 0&&N<f||m!==void 0&&N>m,R=N=>f===void 0?m:m===void 0||Math.abs(f-N)<Math.abs(m-N)?f:m;let L=n*e;const k=w+L,$=c===void 0?k:c(k);$!==k&&(L=$-w);const U=N=>-L*Math.exp(-N/s),z=N=>$+U(N),X=N=>{const P=U(N),C=z(N);E.done=Math.abs(P)<=g,E.value=E.done?$:C};let ue,q;const j=N=>{b(E.value)&&(ue=N,q=dE({keyframes:[E.value,R(E.value)],velocity:uE(z,N,E.value),damping:o,stiffness:a,restDelta:g,restSpeed:x}))};return j(0),{calculatedDuration:null,next:N=>{let P=!1;return!q&&ue===void 0&&(P=!0,X(N),j(N)),ue!==void 0&&N>ue?q.next(N-ue):(!P&&X(N),E)}}}const T2=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ot.update(e,!0),stop:()=>cs(e),now:()=>rn.isProcessing?rn.timestamp:performance.now()}},ov=2e4;function av(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<ov;)e+=n,s=t.next(e);return e>=ov?1/0:e}const N2={decay:iv,inertia:iv,tween:ju,keyframes:ju,spring:dE};function Cu({autoplay:t=!0,delay:e=0,driver:n=T2,keyframes:s,type:o="keyframes",repeat:a=0,repeatDelay:c=0,repeatType:f="loop",onPlay:m,onStop:g,onComplete:x,onUpdate:w,...E}){let b=1,R=!1,L,k;const $=()=>{k=new Promise(O=>{L=O})};$();let U;const z=N2[o]||ju;let X;z!==ju&&typeof s[0]!="number"&&(X=lE([0,100],s,{clamp:!1}),s=[0,100]);const ue=z({...E,keyframes:s});let q;f==="mirror"&&(q=z({...E,keyframes:[...s].reverse(),velocity:-(E.velocity||0)}));let j="idle",N=null,P=null,C=null;ue.calculatedDuration===null&&a&&(ue.calculatedDuration=av(ue));const{calculatedDuration:D}=ue;let V=1/0,A=1/0;D!==null&&(V=D+c,A=V*(a+1)-c);let je=0;const Oe=O=>{if(P===null)return;b>0&&(P=Math.min(P,O)),b<0&&(P=Math.min(O-A/b,P)),N!==null?je=N:je=Math.round(O-P)*b;const Y=je-e*(b>=0?1:-1),pe=b>=0?Y<0:Y>A;je=Math.max(Y,0),j==="finished"&&N===null&&(je=A);let Pe=je,Te=ue;if(a){const Le=Math.min(je,A)/V;let Xe=Math.floor(Le),ct=Le%1;!ct&&Le>=1&&(ct=1),ct===1&&Xe--,Xe=Math.min(Xe,a+1),!!(Xe%2)&&(f==="reverse"?(ct=1-ct,c&&(ct-=c/V)):f==="mirror"&&(Te=q)),Pe=Gs(0,1,ct)*V}const me=pe?{done:!1,value:s[0]}:Te.next(Pe);X&&(me.value=X(me.value));let{done:De}=me;!pe&&D!==null&&(De=b>=0?je>=A:je<=0);const Be=N===null&&(j==="finished"||j==="running"&&De);return w&&w(me.value),Be&&ee(),me},ke=()=>{U&&U.stop(),U=void 0},Ce=()=>{j="idle",ke(),L(),$(),P=C=null},ee=()=>{j="finished",x&&x(),ke(),L()},fe=()=>{if(R)return;U||(U=n(Oe));const O=U.now();m&&m(),N!==null?P=O-N:(!P||j==="finished")&&(P=O),j==="finished"&&$(),C=P,N=null,j="running",U.start()};t&&fe();const le={then(O,Y){return k.then(O,Y)},get time(){return ss(je)},set time(O){O=Di(O),je=O,N!==null||!U||b===0?N=O:P=U.now()-O/b},get duration(){const O=ue.calculatedDuration===null?av(ue):ue.calculatedDuration;return ss(O)},get speed(){return b},set speed(O){O===b||!U||(b=O,le.time=ss(je))},get state(){return j},play:fe,pause:()=>{j="paused",N=je},stop:()=>{R=!0,j!=="idle"&&(j="idle",g&&g(),Ce())},cancel:()=>{C!==null&&Oe(C),Ce()},complete:()=>{j="finished"},sample:O=>(P=0,Oe(O))};return le}function b2(t){let e;return()=>(e===void 0&&(e=t()),e)}const S2=b2(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),P2=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),su=10,A2=2e4,j2=(t,e)=>e.type==="spring"||t==="backgroundColor"||!z_(e.ease);function C2(t,e,{onUpdate:n,onComplete:s,...o}){if(!(S2()&&P2.has(e)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let c=!1,f,m,g=!1;const x=()=>{m=new Promise(z=>{f=z})};x();let{keyframes:w,duration:E=300,ease:b,times:R}=o;if(j2(e,o)){const z=Cu({...o,repeat:0,delay:0});let X={done:!1,value:w[0]};const ue=[];let q=0;for(;!X.done&&q<A2;)X=z.sample(q),ue.push(X.value),q+=su;R=void 0,w=ue,E=q-su,b="linear"}const L=OI(t.owner.current,e,w,{...o,duration:E,ease:b,times:R}),k=()=>{g=!1,L.cancel()},$=()=>{g=!0,ot.update(k),f(),x()};return L.onfinish=()=>{g||(t.set(BI(w,o)),s&&s(),$())},{then(z,X){return m.then(z,X)},attachTimeline(z){return L.timeline=z,L.onfinish=null,Et},get time(){return ss(L.currentTime||0)},set time(z){L.currentTime=Di(z)},get speed(){return L.playbackRate},set speed(z){L.playbackRate=z},get duration(){return ss(E)},play:()=>{c||(L.play(),cs(k))},pause:()=>L.pause(),stop:()=>{if(c=!0,L.playState==="idle")return;const{currentTime:z}=L;if(z){const X=Cu({...o,autoplay:!1});t.setWithVelocity(X.sample(z-su).value,X.sample(z).value,su)}$()},complete:()=>{g||L.finish()},cancel:$}}function I2({keyframes:t,delay:e,onUpdate:n,onComplete:s}){const o=()=>(n&&n(t[t.length-1]),s&&s(),{time:0,speed:1,duration:0,play:Et,pause:Et,stop:Et,then:a=>(a(),Promise.resolve()),cancel:Et,complete:Et});return e?Cu({keyframes:[0,1],duration:0,delay:e,onComplete:o}):o()}const R2={type:"spring",stiffness:500,damping:25,restSpeed:10},k2=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),V2={type:"keyframes",duration:.8},D2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},L2=(t,{keyframes:e})=>e.length>2?V2:Hi.has(t)?t.startsWith("scale")?k2(e[1]):R2:D2,Wf=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(qs.test(e)||e==="0")&&!e.startsWith("url(")),M2=new Set(["brightness","contrast","saturate","opacity"]);function F2(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(ld)||[];if(!s)return t;const o=n.replace(s,"");let a=M2.has(e)?1:0;return s!==n&&(a*=100),e+"("+a+o+")"}const O2=/([a-z-]*)\(.*?\)/g,Hf={...qs,getAnimatableNone:t=>{const e=t.match(O2);return e?e.map(F2).join(" "):t}},B2={...b_,color:hn,backgroundColor:hn,outlineColor:hn,fill:hn,stroke:hn,borderColor:hn,borderTopColor:hn,borderRightColor:hn,borderBottomColor:hn,borderLeftColor:hn,filter:Hf,WebkitFilter:Hf},hp=t=>B2[t];function hE(t,e){let n=hp(t);return n!==Hf&&(n=qs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const fE=t=>/^0[^.\s]+$/.test(t);function U2(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||fE(t)}function z2(t,e,n,s){const o=Wf(e,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const c=s.from!==void 0?s.from:t.get();let f;const m=[];for(let g=0;g<a.length;g++)a[g]===null&&(a[g]=g===0?c:a[g-1]),U2(a[g])&&m.push(g),typeof a[g]=="string"&&a[g]!=="none"&&a[g]!=="0"&&(f=a[g]);if(o&&m.length&&f)for(let g=0;g<m.length;g++){const x=m[g];a[x]=hE(e,f)}return a}function $2({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:a,repeatType:c,repeatDelay:f,from:m,elapsed:g,...x}){return!!Object.keys(x).length}function fp(t,e){return t[e]||t.default||t}const W2={skipAnimations:!1},mp=(t,e,n,s={})=>o=>{const a=fp(s,t)||{},c=a.delay||s.delay||0;let{elapsed:f=0}=s;f=f-Di(c);const m=z2(e,t,n,a),g=m[0],x=m[m.length-1],w=Wf(t,g),E=Wf(t,x);let b={keyframes:m,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-f,onUpdate:R=>{e.set(R),a.onUpdate&&a.onUpdate(R)},onComplete:()=>{o(),a.onComplete&&a.onComplete()}};if($2(a)||(b={...b,...L2(t,b)}),b.duration&&(b.duration=Di(b.duration)),b.repeatDelay&&(b.repeatDelay=Di(b.repeatDelay)),!w||!E||FI.current||a.type===!1||W2.skipAnimations)return I2(b);if(!s.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const R=C2(e,t,b);if(R)return R}return Cu(b)};function Iu(t){return!!(Sn(t)&&t.add)}const mE=t=>/^\-?\d*\.?\d+$/.test(t);function pp(t,e){t.indexOf(e)===-1&&t.push(e)}function gp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class yp{constructor(){this.subscriptions=[]}add(e){return pp(this.subscriptions,e),()=>gp(this.subscriptions,e)}notify(e,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,s);else for(let a=0;a<o;a++){const c=this.subscriptions[a];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const H2=t=>!isNaN(parseFloat(t));class G2{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,o=!0)=>{this.prev=this.current,this.current=s;const{delta:a,timestamp:c}=rn;this.lastUpdated!==c&&(this.timeDelta=a,this.lastUpdated=c,ot.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ot.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=H2(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new yp);const s=this.events[e].add(n);return e==="change"?()=>{s(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=e,this.timeDelta=s}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?cE(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xo(t,e){return new G2(t,e)}const pE=t=>e=>e.test(t),q2={test:t=>t==="auto",parse:t=>t},gE=[Gi,Ae,Lr,Vs,eI,ZC,q2],Ga=t=>gE.find(pE(t)),K2=[...gE,hn,qs],Q2=t=>K2.find(pE(t));function Y2(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Xo(n))}function X2(t,e){const n=ud(t,e);let{transitionEnd:s={},transition:o={},...a}=n?t.makeTargetAnimatable(n,!1):{};a={...a,...s};for(const c in a){const f=mI(a[c]);Y2(t,c,f)}}function J2(t,e,n){var s,o;const a=Object.keys(e).filter(f=>!t.hasValue(f)),c=a.length;if(c)for(let f=0;f<c;f++){const m=a[f],g=e[m];let x=null;Array.isArray(g)&&(x=g[0]),x===null&&(x=(o=(s=n[m])!==null&&s!==void 0?s:t.readValue(m))!==null&&o!==void 0?o:e[m]),x!=null&&(typeof x=="string"&&(mE(x)||fE(x))?x=parseFloat(x):!Q2(x)&&qs.test(g)&&(x=hE(m,g)),t.addValue(m,Xo(x,{owner:t})),n[m]===void 0&&(n[m]=x),x!==null&&t.setBaseTarget(m,x))}}function Z2(t,e){return e?(e[t]||e.default||e).from:void 0}function eR(t,e,n){const s={};for(const o in t){const a=Z2(o,e);if(a!==void 0)s[o]=a;else{const c=n.getValue(o);c&&(s[o]=c.get())}}return s}function tR({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function nR(t,e){const n=t.get();if(Array.isArray(e)){for(let s=0;s<e.length;s++)if(e[s]!==n)return!0}else return n!==e}function yE(t,e,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:c,...f}=t.makeTargetAnimatable(e);const m=t.getValue("willChange");s&&(a=s);const g=[],x=o&&t.animationState&&t.animationState.getState()[o];for(const w in f){const E=t.getValue(w),b=f[w];if(!E||b===void 0||x&&tR(x,w))continue;const R={delay:n,elapsed:0,...fp(a||{},w)};if(window.HandoffAppearAnimations){const $=t.getProps()[v_];if($){const U=window.HandoffAppearAnimations($,w,E,ot);U!==null&&(R.elapsed=U,R.isHandoff=!0)}}let L=!R.isHandoff&&!nR(E,b);if(R.type==="spring"&&(E.getVelocity()||R.velocity)&&(L=!1),E.animation&&(L=!1),L)continue;E.start(mp(w,E,b,t.shouldReduceMotion&&Hi.has(w)?{type:!1}:R));const k=E.animation;Iu(m)&&(m.add(w),k.then(()=>m.remove(w))),g.push(k)}return c&&Promise.all(g).then(()=>{c&&X2(t,c)}),g}function Gf(t,e,n={}){const s=ud(t,e,n.custom);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const a=s?()=>Promise.all(yE(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:x,staggerDirection:w}=o;return rR(t,e,g+m,x,w,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[m,g]=f==="beforeChildren"?[a,c]:[c,a];return m().then(()=>g())}else return Promise.all([a(),c(n.delay)])}function rR(t,e,n=0,s=0,o=1,a){const c=[],f=(t.variantChildren.size-1)*s,m=o===1?(g=0)=>g*s:(g=0)=>f-g*s;return Array.from(t.variantChildren).sort(sR).forEach((g,x)=>{g.notify("AnimationStart",e),c.push(Gf(g,e,{...a,delay:n+m(x)}).then(()=>g.notify("AnimationComplete",e)))}),Promise.all(c)}function sR(t,e){return t.sortNodePosition(e)}function iR(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(a=>Gf(t,a,n));s=Promise.all(o)}else if(typeof e=="string")s=Gf(t,e,n);else{const o=typeof e=="function"?ud(t,e,n.custom):e;s=Promise.all(yE(t,o,n))}return s.then(()=>t.notify("AnimationComplete",e))}const oR=[...Jm].reverse(),aR=Jm.length;function lR(t){return e=>Promise.all(e.map(({animation:n,options:s})=>iR(t,n,s)))}function cR(t){let e=lR(t);const n=dR();let s=!0;const o=(m,g)=>{const x=ud(t,g);if(x){const{transition:w,transitionEnd:E,...b}=x;m={...m,...b,...E}}return m};function a(m){e=m(t)}function c(m,g){const x=t.getProps(),w=t.getVariantContext(!0)||{},E=[],b=new Set;let R={},L=1/0;for(let $=0;$<aR;$++){const U=oR[$],z=n[U],X=x[U]!==void 0?x[U]:w[U],ue=_l(X),q=U===g?z.isActive:null;q===!1&&(L=$);let j=X===w[U]&&X!==x[U]&&ue;if(j&&s&&t.manuallyAnimateOnMount&&(j=!1),z.protectedKeys={...R},!z.isActive&&q===null||!X&&!z.prevProp||od(X)||typeof X=="boolean")continue;let P=uR(z.prevProp,X)||U===g&&z.isActive&&!j&&ue||$>L&&ue,C=!1;const D=Array.isArray(X)?X:[X];let V=D.reduce(o,{});q===!1&&(V={});const{prevResolvedValues:A={}}=z,je={...A,...V},Oe=ke=>{P=!0,b.has(ke)&&(C=!0,b.delete(ke)),z.needsAnimating[ke]=!0};for(const ke in je){const Ce=V[ke],ee=A[ke];if(R.hasOwnProperty(ke))continue;let fe=!1;Pu(Ce)&&Pu(ee)?fe=!B_(Ce,ee):fe=Ce!==ee,fe?Ce!==void 0?Oe(ke):b.add(ke):Ce!==void 0&&b.has(ke)?Oe(ke):z.protectedKeys[ke]=!0}z.prevProp=X,z.prevResolvedValues=V,z.isActive&&(R={...R,...V}),s&&t.blockInitialAnimation&&(P=!1),P&&(!j||C)&&E.push(...D.map(ke=>({animation:ke,options:{type:U,...m}})))}if(b.size){const $={};b.forEach(U=>{const z=t.getBaseTarget(U);z!==void 0&&($[U]=z)}),E.push({animation:$})}let k=!!E.length;return s&&(x.initial===!1||x.initial===x.animate)&&!t.manuallyAnimateOnMount&&(k=!1),s=!1,k?e(E):Promise.resolve()}function f(m,g,x){var w;if(n[m].isActive===g)return Promise.resolve();(w=t.variantChildren)===null||w===void 0||w.forEach(b=>{var R;return(R=b.animationState)===null||R===void 0?void 0:R.setActive(m,g)}),n[m].isActive=g;const E=c(x,m);for(const b in n)n[b].protectedKeys={};return E}return{animateChanges:c,setActive:f,setAnimateFunction:a,getState:()=>n}}function uR(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!B_(e,t):!1}function Ni(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dR(){return{animate:Ni(!0),whileInView:Ni(),whileHover:Ni(),whileTap:Ni(),whileDrag:Ni(),whileFocus:Ni(),exit:Ni()}}class hR extends Ys{constructor(e){super(e),e.animationState||(e.animationState=cR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),od(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let fR=0;class mR extends Ys{constructor(){super(...arguments),this.id=fR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const a=this.node.animationState.setActive("exit",!e,{custom:s??this.node.getProps().custom});n&&!e&&a.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const pR={animation:{Feature:hR},exit:{Feature:mR}},lv=(t,e)=>Math.abs(t-e);function gR(t,e){const n=lv(t.x,e.x),s=lv(t.y,e.y);return Math.sqrt(n**2+s**2)}class vE{constructor(e,n,{transformPagePoint:s,contextWindow:o,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=cf(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,b=gR(w.offset,{x:0,y:0})>=3;if(!E&&!b)return;const{point:R}=w,{timestamp:L}=rn;this.history.push({...R,timestamp:L});const{onStart:k,onMove:$}=this.handlers;E||(k&&k(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,w)},this.handlePointerMove=(w,E)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=lf(E,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(w,E)=>{this.end();const{onEnd:b,onSessionEnd:R,resumeAnimation:L}=this.handlers;if(this.dragSnapToOrigin&&L&&L(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=cf(w.type==="pointercancel"?this.lastMoveEventInfo:lf(E,this.transformPagePoint),this.history);this.startEvent&&b&&b(w,k),R&&R(w,k)},!D_(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.contextWindow=o||window;const c=cd(e),f=lf(c,this.transformPagePoint),{point:m}=f,{timestamp:g}=rn;this.history=[{...m,timestamp:g}];const{onSessionStart:x}=n;x&&x(e,cf(f,this.history)),this.removeListeners=Us(rs(this.contextWindow,"pointermove",this.handlePointerMove),rs(this.contextWindow,"pointerup",this.handlePointerUp),rs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),cs(this.updatePoint)}}function lf(t,e){return e?{point:e(t.point)}:t}function cv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function cf({point:t},e){return{point:t,delta:cv(t,xE(e)),offset:cv(t,yR(e)),velocity:vR(e,.1)}}function yR(t){return t[0]}function xE(t){return t[t.length-1]}function vR(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const o=xE(t);for(;n>=0&&(s=t[n],!(o.timestamp-s.timestamp>Di(e)));)n--;if(!s)return{x:0,y:0};const a=ss(o.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const c={x:(o.x-s.x)/a,y:(o.y-s.y)/a};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Bn(t){return t.max-t.min}function qf(t,e=0,n=.01){return Math.abs(t-e)<=n}function uv(t,e,n,s=.5){t.origin=s,t.originPoint=pt(e.min,e.max,t.origin),t.scale=Bn(n)/Bn(e),(qf(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=pt(n.min,n.max,t.origin)-t.originPoint,(qf(t.translate)||isNaN(t.translate))&&(t.translate=0)}function al(t,e,n,s){uv(t.x,e.x,n.x,s?s.originX:void 0),uv(t.y,e.y,n.y,s?s.originY:void 0)}function dv(t,e,n){t.min=n.min+e.min,t.max=t.min+Bn(e)}function xR(t,e,n){dv(t.x,e.x,n.x),dv(t.y,e.y,n.y)}function hv(t,e,n){t.min=e.min-n.min,t.max=t.min+Bn(e)}function ll(t,e,n){hv(t.x,e.x,n.x),hv(t.y,e.y,n.y)}function wR(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?pt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?pt(n,t,s.max):Math.min(t,n)),t}function fv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function _R(t,{top:e,left:n,bottom:s,right:o}){return{x:fv(t.x,n,o),y:fv(t.y,e,s)}}function mv(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function ER(t,e){return{x:mv(t.x,e.x),y:mv(t.y,e.y)}}function TR(t,e){let n=.5;const s=Bn(t),o=Bn(e);return o>s?n=Tl(e.min,e.max-s,t.min):s>o&&(n=Tl(t.min,t.max-o,e.min)),Gs(0,1,n)}function NR(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Kf=.35;function bR(t=Kf){return t===!1?t=0:t===!0&&(t=Kf),{x:pv(t,"left","right"),y:pv(t,"top","bottom")}}function pv(t,e,n){return{min:gv(t,e),max:gv(t,n)}}function gv(t,e){return typeof t=="number"?t:t[e]||0}const yv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Uo=()=>({x:yv(),y:yv()}),vv=()=>({min:0,max:0}),St=()=>({x:vv(),y:vv()});function er(t){return[t("x"),t("y")]}function wE({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function SR({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function PR(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function uf(t){return t===void 0||t===1}function Qf({scale:t,scaleX:e,scaleY:n}){return!uf(t)||!uf(e)||!uf(n)}function Si(t){return Qf(t)||_E(t)||t.z||t.rotate||t.rotateX||t.rotateY}function _E(t){return xv(t.x)||xv(t.y)}function xv(t){return t&&t!=="0%"}function Ru(t,e,n){const s=t-n,o=e*s;return n+o}function wv(t,e,n,s,o){return o!==void 0&&(t=Ru(t,o,s)),Ru(t,n,s)+e}function Yf(t,e=0,n=1,s,o){t.min=wv(t.min,e,n,s,o),t.max=wv(t.max,e,n,s,o)}function EE(t,{x:e,y:n}){Yf(t.x,e.translate,e.scale,e.originPoint),Yf(t.y,n.translate,n.scale,n.originPoint)}function AR(t,e,n,s=!1){const o=n.length;if(!o)return;e.x=e.y=1;let a,c;for(let f=0;f<o;f++){a=n[f],c=a.projectionDelta;const m=a.instance;m&&m.style&&m.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&zo(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,EE(t,c)),s&&Si(a.latestValues)&&zo(t,a.latestValues))}e.x=_v(e.x),e.y=_v(e.y)}function _v(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Ds(t,e){t.min=t.min+e,t.max=t.max+e}function Ev(t,e,[n,s,o]){const a=e[o]!==void 0?e[o]:.5,c=pt(t.min,t.max,a);Yf(t,e[n],e[s],c,e.scale)}const jR=["x","scaleX","originX"],CR=["y","scaleY","originY"];function zo(t,e){Ev(t.x,e,jR),Ev(t.y,e,CR)}function TE(t,e){return wE(PR(t.getBoundingClientRect(),e))}function IR(t,e,n){const s=TE(t,n),{scroll:o}=e;return o&&(Ds(s.x,o.offset.x),Ds(s.y,o.offset.y)),s}const NE=({current:t})=>t?t.ownerDocument.defaultView:null,RR=new WeakMap;class kR{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=St(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=x=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(cd(x,"page").point)},a=(x,w)=>{const{drag:E,dragPropagation:b,onDragStart:R}=this.getProps();if(E&&!b&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=M_(E),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),er(k=>{let $=this.getAxisMotionValue(k).get()||0;if(Lr.test($)){const{projection:U}=this.visualElement;if(U&&U.layout){const z=U.layout.layoutBox[k];z&&($=Bn(z)*(parseFloat($)/100))}}this.originPoint[k]=$}),R&&ot.update(()=>R(x,w),!1,!0);const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},c=(x,w)=>{const{dragPropagation:E,dragDirectionLock:b,onDirectionLock:R,onDrag:L}=this.getProps();if(!E&&!this.openGlobalLock)return;const{offset:k}=w;if(b&&this.currentDirection===null){this.currentDirection=VR(k),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",w.point,k),this.updateAxis("y",w.point,k),this.visualElement.render(),L&&L(x,w)},f=(x,w)=>this.stop(x,w),m=()=>er(x=>{var w;return this.getAnimationState(x)==="paused"&&((w=this.getAxisMotionValue(x).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new vE(e,{onSessionStart:o,onStart:a,onMove:c,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:NE(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&ot.update(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:o}=this.getProps();if(!s||!iu(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=wR(c,this.constraints[e],this.elastic[e])),a.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&Oo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=_R(o.layoutBox,n):this.constraints=!1,this.elastic=bR(s),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&er(c=>{this.getAxisMotionValue(c)&&(this.constraints[c]=NR(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Oo(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=IR(s,o.root,this.visualElement.getTransformPagePoint());let c=ER(o.layout.layoutBox,a);if(n){const f=n(SR(c));this.hasMutatedConstraints=!!f,f&&(c=wE(f))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:a,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},g=er(x=>{if(!iu(x,n,this.currentDirection))return;let w=m&&m[x]||{};c&&(w={min:0,max:0});const E=o?200:1e6,b=o?40:1e7,R={type:"inertia",velocity:s?e[x]:0,bounceStiffness:E,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(x,R)});return Promise.all(g).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return s.start(mp(e,s,0,n))}stopAnimation(){er(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){er(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){er(n=>{const{drag:s}=this.getProps();if(!iu(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:f}=o.layout.layoutBox[n];a.set(e[n]-pt(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Oo(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};er(c=>{const f=this.getAxisMotionValue(c);if(f){const m=f.get();o[c]=TR({min:m,max:m},this.constraints[c])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),er(c=>{if(!iu(c,e,null))return;const f=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];f.set(pt(m,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;RR.set(this.visualElement,this);const e=this.visualElement.current,n=rs(e,"pointerdown",m=>{const{drag:g,dragListener:x=!0}=this.getProps();g&&x&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Oo(m)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),s();const c=ts(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(er(x=>{const w=this.getAxisMotionValue(x);w&&(this.originPoint[x]+=m[x].translate,w.set(w.get()+m[x].translate))}),this.visualElement.render())});return()=>{c(),n(),a(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:c=Kf,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:a,dragElastic:c,dragMomentum:f}}}function iu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function VR(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class DR extends Ys{constructor(e){super(e),this.removeGroupControls=Et,this.removeListeners=Et,this.controls=new kR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Et}unmount(){this.removeGroupControls(),this.removeListeners()}}const Tv=t=>(e,n)=>{t&&ot.update(()=>t(e,n))};class LR extends Ys{constructor(){super(...arguments),this.removePointerDownListener=Et}onPointerDown(e){this.session=new vE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:NE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Tv(e),onStart:Tv(n),onMove:s,onEnd:(a,c)=>{delete this.session,o&&ot.update(()=>o(a,c))}}}mount(){this.removePointerDownListener=rs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function MR(){const t=F.useContext(sd);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:s}=t,o=F.useId();return F.useEffect(()=>s(o),[]),!e&&n?[!1,()=>n&&n(o)]:[!0]}const hu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Nv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const qa={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ae.test(t))t=parseFloat(t);else return t;const n=Nv(t,e.target.x),s=Nv(t,e.target.y);return`${n}% ${s}%`}},FR={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,o=qs.parse(t);if(o.length>5)return s;const a=qs.createTransformer(t),c=typeof o[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;o[0+c]/=f,o[1+c]/=m;const g=pt(f,m,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),a(o)}};class OR extends em.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:a}=e;GC(BR),a&&(n.group&&n.group.add(a),s&&s.register&&o&&s.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),hu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:o,isPresent:a}=this.props,c=s.projection;return c&&(c.isPresent=a,o||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?c.promote():c.relegate()||ot.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function bE(t){const[e,n]=MR(),s=F.useContext(ep);return em.createElement(OR,{...t,layoutGroup:s,switchLayoutGroup:F.useContext(w_),isPresent:e,safeToRemove:n})}const BR={borderRadius:{...qa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qa,borderTopRightRadius:qa,borderBottomLeftRadius:qa,borderBottomRightRadius:qa,boxShadow:FR},SE=["TopLeft","TopRight","BottomLeft","BottomRight"],UR=SE.length,bv=t=>typeof t=="string"?parseFloat(t):t,Sv=t=>typeof t=="number"||Ae.test(t);function zR(t,e,n,s,o,a){o?(t.opacity=pt(0,n.opacity!==void 0?n.opacity:1,$R(s)),t.opacityExit=pt(e.opacity!==void 0?e.opacity:1,0,WR(s))):a&&(t.opacity=pt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let c=0;c<UR;c++){const f=`border${SE[c]}Radius`;let m=Pv(e,f),g=Pv(n,f);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||Sv(m)===Sv(g)?(t[f]=Math.max(pt(bv(m),bv(g),s),0),(Lr.test(g)||Lr.test(m))&&(t[f]+="%")):t[f]=g}(e.rotate||n.rotate)&&(t.rotate=pt(e.rotate||0,n.rotate||0,s))}function Pv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const $R=PE(0,.5,Q_),WR=PE(.5,.95,Et);function PE(t,e,n){return s=>s<t?0:s>e?1:n(Tl(t,e,s))}function Av(t,e){t.min=e.min,t.max=e.max}function Zn(t,e){Av(t.x,e.x),Av(t.y,e.y)}function jv(t,e,n,s,o){return t-=e,t=Ru(t,1/n,s),o!==void 0&&(t=Ru(t,1/o,s)),t}function HR(t,e=0,n=1,s=.5,o,a=t,c=t){if(Lr.test(e)&&(e=parseFloat(e),e=pt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=pt(a.min,a.max,s);t===a&&(f-=e),t.min=jv(t.min,e,n,f,o),t.max=jv(t.max,e,n,f,o)}function Cv(t,e,[n,s,o],a,c){HR(t,e[n],e[s],e[o],e.scale,a,c)}const GR=["x","scaleX","originX"],qR=["y","scaleY","originY"];function Iv(t,e,n,s){Cv(t.x,e,GR,n?n.x:void 0,s?s.x:void 0),Cv(t.y,e,qR,n?n.y:void 0,s?s.y:void 0)}function Rv(t){return t.translate===0&&t.scale===1}function AE(t){return Rv(t.x)&&Rv(t.y)}function KR(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function jE(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function kv(t){return Bn(t.x)/Bn(t.y)}class QR{constructor(){this.members=[]}add(e){pp(this.members,e),e.scheduleRender()}remove(e){if(gp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Vv(t,e,n){let s="";const o=t.x.translate/e.x,a=t.y.translate/e.y;if((o||a)&&(s=`translate3d(${o}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:m,rotateX:g,rotateY:x}=n;m&&(s+=`rotate(${m}deg) `),g&&(s+=`rotateX(${g}deg) `),x&&(s+=`rotateY(${x}deg) `)}const c=t.x.scale*e.x,f=t.y.scale*e.y;return(c!==1||f!==1)&&(s+=`scale(${c}, ${f})`),s||"none"}const YR=(t,e)=>t.depth-e.depth;class XR{constructor(){this.children=[],this.isDirty=!1}add(e){pp(this.children,e),this.isDirty=!0}remove(e){gp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(YR),this.isDirty=!1,this.children.forEach(e)}}function JR(t,e){const n=performance.now(),s=({timestamp:o})=>{const a=o-n;a>=e&&(cs(s),t(a-e))};return ot.read(s,!0),()=>cs(s)}function ZR(t){window.MotionDebug&&window.MotionDebug.record(t)}function ek(t){return t instanceof SVGElement&&t.tagName!=="svg"}function tk(t,e,n){const s=Sn(t)?t:Xo(t);return s.start(mp("",s,e,n)),s.animation}const Dv=["","X","Y","Z"],nk={visibility:"hidden"},Lv=1e3;let rk=0;const Pi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function CE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},f=e==null?void 0:e()){this.id=rk++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Pi.totalNodes=Pi.resolvedTargetDeltas=Pi.recalculatedProjection=0,this.nodes.forEach(ok),this.nodes.forEach(dk),this.nodes.forEach(hk),this.nodes.forEach(ak),ZR(Pi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new XR)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new yp),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ek(c),this.instance=c;const{layoutId:m,layout:g,visualElement:x}=this.options;if(x&&!x.current&&x.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(g||m)&&(this.isLayoutDirty=!0),t){let w;const E=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=JR(E,250),hu.hasAnimatedSinceResize&&(hu.hasAnimatedSinceResize=!1,this.nodes.forEach(Fv))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&x&&(m||g)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:E,hasRelativeTargetChanged:b,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||x.getDefaultTransition()||yk,{onLayoutAnimationStart:k,onLayoutAnimationComplete:$}=x.getProps(),U=!this.targetLayout||!jE(this.targetLayout,R)||b,z=!E&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||z||E&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,z);const X={...fp(L,"layout"),onPlay:k,onComplete:$};(x.shouldReduceMotion||this.options.layoutRoot)&&(X.delay=0,X.type=!1),this.startAnimation(X)}else E||Fv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fk),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const w=this.path[x];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Mv);return}this.isUpdating||this.nodes.forEach(ck),this.isUpdating=!1,this.nodes.forEach(uk),this.nodes.forEach(sk),this.nodes.forEach(ik),this.clearAllSnapshots();const f=performance.now();rn.delta=Gs(0,1e3/60,f-rn.timestamp),rn.timestamp=f,rn.isProcessing=!0,ef.update.process(rn),ef.preRender.process(rn),ef.render.process(rn),rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(lk),this.sharedNodes.forEach(mk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=St(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&(this.scroll={animationId:this.root.animationId,phase:c,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform,f=this.projectionDelta&&!AE(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,x=g!==this.prevTransformTemplateValue;c&&(f||Si(this.latestValues)||x)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),vk(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return St();const f=c.measureViewportBox(),{scroll:m}=this.root;return m&&(Ds(f.x,m.offset.x),Ds(f.y,m.offset.y)),f}removeElementScroll(c){const f=St();Zn(f,c);for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:x,options:w}=g;if(g!==this.root&&x&&w.layoutScroll){if(x.isRoot){Zn(f,c);const{scroll:E}=this.root;E&&(Ds(f.x,-E.offset.x),Ds(f.y,-E.offset.y))}Ds(f.x,x.offset.x),Ds(f.y,x.offset.y)}}return f}applyTransform(c,f=!1){const m=St();Zn(m,c);for(let g=0;g<this.path.length;g++){const x=this.path[g];!f&&x.options.layoutScroll&&x.scroll&&x!==x.root&&zo(m,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),Si(x.latestValues)&&zo(m,x.latestValues)}return Si(this.latestValues)&&zo(m,this.latestValues),m}removeTransform(c){const f=St();Zn(f,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Si(g.latestValues))continue;Qf(g.latestValues)&&g.updateSnapshot();const x=St(),w=g.measurePageBox();Zn(x,w),Iv(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,x)}return Si(this.latestValues)&&Iv(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var f;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==m;if(!(c||g&&this.isSharedProjectionDirty||this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:w,layoutId:E}=this.options;if(!(!this.layout||!(w||E))){if(this.resolvedRelativeTargetAt=rn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),ll(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=St(),this.targetWithTransforms=St()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zn(this.target,this.layout.layoutBox),EE(this.target,this.targetDelta)):Zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),ll(this.relativeTargetOrigin,this.target,b.target),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Pi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Qf(this.parent.latestValues)||_E(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const f=this.getLead(),m=!!this.resumingFrom||this!==f;let g=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(g=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===rn.timestamp&&(g=!1),g)return;const{layout:x,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||w))return;Zn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,b=this.treeScale.y;AR(this.layoutCorrected,this.treeScale,this.path,m),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox);const{target:R}=f;if(!R){this.projectionTransform&&(this.projectionDelta=Uo(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Uo(),this.projectionDeltaWithTransform=Uo());const L=this.projectionTransform;al(this.projectionDelta,this.layoutCorrected,R,this.latestValues),this.projectionTransform=Vv(this.projectionDelta,this.treeScale),(this.projectionTransform!==L||this.treeScale.x!==E||this.treeScale.y!==b)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R)),Pi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(c,f=!1){const m=this.snapshot,g=m?m.latestValues:{},x={...this.latestValues},w=Uo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const E=St(),b=m?m.source:void 0,R=this.layout?this.layout.source:void 0,L=b!==R,k=this.getStack(),$=!k||k.members.length<=1,U=!!(L&&!$&&this.options.crossfade===!0&&!this.path.some(gk));this.animationProgress=0;let z;this.mixTargetDelta=X=>{const ue=X/1e3;Ov(w.x,c.x,ue),Ov(w.y,c.y,ue),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ll(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pk(this.relativeTarget,this.relativeTargetOrigin,E,ue),z&&KR(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=St()),Zn(z,this.relativeTarget)),L&&(this.animationValues=x,zR(x,g,this.latestValues,ue,U,$)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ue},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{hu.hasAnimatedSinceResize=!0,this.currentAnimation=tk(0,Lv,{...c,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Lv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:g,latestValues:x}=c;if(!(!f||!m||!g)){if(this!==c&&this.layout&&g&&IE(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||St();const w=Bn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+w;const E=Bn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+E}Zn(f,m),zo(f,x),al(this.projectionDeltaWithTransform,this.layoutCorrected,f,x)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new QR),this.sharedNodes.get(c).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:f}=this.options;return f?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:f}=this.options;return f?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.rotate||m.rotateX||m.rotateY||m.rotateZ)&&(f=!0),!f)return;const g={};for(let x=0;x<Dv.length;x++){const w="rotate"+Dv[x];m[w]&&(g[w]=m[w],c.setStaticValue(w,0))}c.render();for(const x in g)c.setStaticValue(x,g[x]);c.scheduleRender()}getProjectionStyles(c){var f,m;if(!this.instance||this.isSVG)return;if(!this.isVisible)return nk;const g={visibility:""},x=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,g.opacity="",g.pointerEvents=du(c==null?void 0:c.pointerEvents)||"",g.transform=x?x(this.latestValues,""):"none",g;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const L={};return this.options.layoutId&&(L.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,L.pointerEvents=du(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Si(this.latestValues)&&(L.transform=x?x({},""):"none",this.hasProjected=!1),L}const E=w.animationValues||w.latestValues;this.applyTransformsToTarget(),g.transform=Vv(this.projectionDeltaWithTransform,this.treeScale,E),x&&(g.transform=x(E,g.transform));const{x:b,y:R}=this.projectionDelta;g.transformOrigin=`${b.origin*100}% ${R.origin*100}% 0`,w.animationValues?g.opacity=w===this?(m=(f=E.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&m!==void 0?m:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:g.opacity=w===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const L in bu){if(E[L]===void 0)continue;const{correct:k,applyTo:$}=bu[L],U=g.transform==="none"?E[L]:k(E[L],w);if($){const z=$.length;for(let X=0;X<z;X++)g[$[X]]=U}else g[L]=U}return this.options.layoutId&&(g.pointerEvents=w===this?du(c==null?void 0:c.pointerEvents)||"":"none"),g}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)===null||f===void 0?void 0:f.stop()}),this.root.nodes.forEach(Mv),this.root.sharedNodes.clear()}}}function sk(t){t.updateLayout()}function ik(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=t.layout,{animationType:a}=t.options,c=n.source!==t.layout.source;a==="size"?er(w=>{const E=c?n.measuredBox[w]:n.layoutBox[w],b=Bn(E);E.min=s[w].min,E.max=E.min+b}):IE(a,n.layoutBox,s)&&er(w=>{const E=c?n.measuredBox[w]:n.layoutBox[w],b=Bn(s[w]);E.max=E.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[w].max=t.relativeTarget[w].min+b)});const f=Uo();al(f,s,n.layoutBox);const m=Uo();c?al(m,t.applyTransform(o,!0),n.measuredBox):al(m,s,n.layoutBox);const g=!AE(f);let x=!1;if(!t.resumeFrom){const w=t.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:E,layout:b}=w;if(E&&b){const R=St();ll(R,n.layoutBox,E.layoutBox);const L=St();ll(L,s,b.layoutBox),jE(R,L)||(x=!0),w.options.layoutRoot&&(t.relativeTarget=L,t.relativeTargetOrigin=R,t.relativeParent=w)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:m,layoutDelta:f,hasLayoutChanged:g,hasRelativeTargetChanged:x})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function ok(t){Pi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ak(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function lk(t){t.clearSnapshot()}function Mv(t){t.clearMeasurements()}function ck(t){t.isLayoutDirty=!1}function uk(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Fv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function dk(t){t.resolveTargetDelta()}function hk(t){t.calcProjection()}function fk(t){t.resetRotation()}function mk(t){t.removeLeadSnapshot()}function Ov(t,e,n){t.translate=pt(e.translate,0,n),t.scale=pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Bv(t,e,n,s){t.min=pt(e.min,n.min,s),t.max=pt(e.max,n.max,s)}function pk(t,e,n,s){Bv(t.x,e.x,n.x,s),Bv(t.y,e.y,n.y,s)}function gk(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const yk={duration:.45,ease:[.4,0,.1,1]},Uv=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),zv=Uv("applewebkit/")&&!Uv("chrome/")?Math.round:Et;function $v(t){t.min=zv(t.min),t.max=zv(t.max)}function vk(t){$v(t.x),$v(t.y)}function IE(t,e,n){return t==="position"||t==="preserve-aspect"&&!qf(kv(e),kv(n),.2)}const xk=CE({attachResizeListener:(t,e)=>ts(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),df={current:void 0},RE=CE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!df.current){const t=new xk({});t.mount(window),t.setOptions({layoutScroll:!0}),df.current=t}return df.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),wk={pan:{Feature:LR},drag:{Feature:DR,ProjectionNode:RE,MeasureLayout:bE}},_k=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Ek(t){const e=_k.exec(t);if(!e)return[,];const[,n,s]=e;return[n,s]}function Xf(t,e,n=1){const[s,o]=Ek(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const c=a.trim();return mE(c)?parseFloat(c):c}else return Bf(o)?Xf(o,e,n+1):o}function Tk(t,{...e},n){const s=t.current;if(!(s instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(o=>{const a=o.get();if(!Bf(a))return;const c=Xf(a,s);c&&o.set(c)});for(const o in e){const a=e[o];if(!Bf(a))continue;const c=Xf(a,s);c&&(e[o]=c,n||(n={}),n[o]===void 0&&(n[o]=a))}return{target:e,transitionEnd:n}}const Nk=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),kE=t=>Nk.has(t),bk=t=>Object.keys(t).some(kE),Wv=t=>t===Gi||t===Ae,Hv=(t,e)=>parseFloat(t.split(", ")[e]),Gv=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const o=s.match(/^matrix3d\((.+)\)$/);if(o)return Hv(o[1],e);{const a=s.match(/^matrix\((.+)\)$/);return a?Hv(a[1],t):0}},Sk=new Set(["x","y","z"]),Pk=kl.filter(t=>!Sk.has(t));function Ak(t){const e=[];return Pk.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Jo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Gv(4,13),y:Gv(5,14)};Jo.translateX=Jo.x;Jo.translateY=Jo.y;const jk=(t,e,n)=>{const s=e.measureViewportBox(),o=e.current,a=getComputedStyle(o),{display:c}=a,f={};c==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(g=>{f[g]=Jo[g](s,a)}),e.render();const m=e.measureViewportBox();return n.forEach(g=>{const x=e.getValue(g);x&&x.jump(f[g]),t[g]=Jo[g](m,a)}),t},Ck=(t,e,n={},s={})=>{e={...e},s={...s};const o=Object.keys(e).filter(kE);let a=[],c=!1;const f=[];if(o.forEach(m=>{const g=t.getValue(m);if(!t.hasValue(m))return;let x=n[m],w=Ga(x);const E=e[m];let b;if(Pu(E)){const R=E.length,L=E[0]===null?1:0;x=E[L],w=Ga(x);for(let k=L;k<R&&E[k]!==null;k++)b?lp(Ga(E[k])===b):b=Ga(E[k])}else b=Ga(E);if(w!==b)if(Wv(w)&&Wv(b)){const R=g.get();typeof R=="string"&&g.set(parseFloat(R)),typeof E=="string"?e[m]=parseFloat(E):Array.isArray(E)&&b===Ae&&(e[m]=E.map(parseFloat))}else w!=null&&w.transform&&(b!=null&&b.transform)&&(x===0||E===0)?x===0?g.set(b.transform(x)):e[m]=w.transform(E):(c||(a=Ak(t),c=!0),f.push(m),s[m]=s[m]!==void 0?s[m]:e[m],g.jump(E))}),f.length){const m=f.indexOf("height")>=0?window.pageYOffset:null,g=jk(e,t,f);return a.length&&a.forEach(([x,w])=>{t.getValue(x).set(w)}),t.render(),id&&m!==null&&window.scrollTo({top:m}),{target:g,transitionEnd:s}}else return{target:e,transitionEnd:s}};function Ik(t,e,n,s){return bk(e)?Ck(t,e,n,s):{target:e,transitionEnd:s}}const Rk=(t,e,n,s)=>{const o=Tk(t,e,s);return e=o.target,s=o.transitionEnd,Ik(t,e,n,s)},Jf={current:null},VE={current:!1};function kk(){if(VE.current=!0,!!id)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Jf.current=t.matches;t.addListener(e),e()}else Jf.current=!1}function Vk(t,e,n){const{willChange:s}=e;for(const o in e){const a=e[o],c=n[o];if(Sn(a))t.addValue(o,a),Iu(s)&&s.add(o);else if(Sn(c))t.addValue(o,Xo(a,{owner:t})),Iu(s)&&s.remove(o);else if(c!==a)if(t.hasValue(o)){const f=t.getValue(o);!f.hasAnimated&&f.set(a)}else{const f=t.getStaticValue(o);t.addValue(o,Xo(f!==void 0?f:a,{owner:t}))}}for(const o in n)e[o]===void 0&&t.removeValue(o);return e}const qv=new WeakMap,DE=Object.keys(El),Dk=DE.length,Kv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Lk=Zm.length;class Mk{constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:o,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ot.render(this.render,!1,!0);const{latestValues:f,renderState:m}=a;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=c,this.isControllingVariants=ad(n),this.isVariantNode=x_(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...x}=this.scrapeMotionValuesFromProps(n,{});for(const w in x){const E=x[w];f[w]!==void 0&&Sn(E)&&(E.set(f[w],!1),Iu(g)&&g.add(w))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,qv.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),VE.current||kk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){qv.delete(this.current),this.projection&&this.projection.unmount(),cs(this.notifyUpdate),cs(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const s=Hi.has(e),o=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ot.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{o(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},s,o,a){let c,f;for(let m=0;m<Dk;m++){const g=DE[m],{isEnabled:x,Feature:w,ProjectionNode:E,MeasureLayout:b}=El[g];E&&(c=E),x(n)&&(!this.features[g]&&w&&(this.features[g]=new w(this)),b&&(f=b))}if((this.type==="html"||this.type==="svg")&&!this.projection&&c){this.projection=new c(this.latestValues,this.parent&&this.parent.projection);const{layoutId:m,layout:g,drag:x,dragConstraints:w,layoutScroll:E,layoutRoot:b}=n;this.projection.setOptions({layoutId:m,layout:g,alwaysMeasureLayout:!!x||w&&Oo(w),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof g=="string"?g:"both",initialPromotionConfig:a,layoutScroll:E,layoutRoot:b})}return f}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):St()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Kv.length;s++){const o=Kv[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a=e["on"+o];a&&(this.propEventSubscriptions[o]=this.on(o,a))}this.prevMotionValues=Vk(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<Lk;s++){const o=Zm[s],a=this.props[o];(_l(a)||a===!1)&&(n[o]=a)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Xo(n,{owner:this}),this.addValue(e,s)),s}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props,o=typeof s=="string"||typeof s=="object"?(n=ap(this.props,s))===null||n===void 0?void 0:n[e]:void 0;if(s&&o!==void 0)return o;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Sn(a)?a:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new yp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class LE extends Mk{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...s},{transformValues:o},a){let c=eR(s,e||{},this);if(o&&(n&&(n=o(n)),s&&(s=o(s)),c&&(c=o(c))),a){J2(this,s,c);const f=Rk(this,s,c,n);n=f.transitionEnd,s=f.target}return{transition:e,transitionEnd:n,...s}}}function Fk(t){return window.getComputedStyle(t)}class Ok extends LE{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Hi.has(n)){const s=hp(n);return s&&s.default||0}else{const s=Fk(e),o=(T_(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return TE(e,n)}build(e,n,s,o){np(e,n,s,o.transformTemplate)}scrapeMotionValuesFromProps(e,n){return op(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Sn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,s,o){j_(e,n,s,o)}}class Bk extends LE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Hi.has(n)){const s=hp(n);return s&&s.default||0}return n=C_.has(n)?n:Xm(n),e.getAttribute(n)}measureInstanceViewportBox(){return St()}scrapeMotionValuesFromProps(e,n){return R_(e,n)}build(e,n,s,o){sp(e,n,s,this.isSVGTag,o.transformTemplate)}renderInstance(e,n,s,o){I_(e,n,s,o)}mount(e){this.isSVGTag=ip(e.tagName),super.mount(e)}}const Uk=(t,e)=>tp(t)?new Bk(e,{enableHardwareAcceleration:!1}):new Ok(e,{enableHardwareAcceleration:!0}),zk={layout:{ProjectionNode:RE,MeasureLayout:bE}},$k={...pR,...DI,...wk,...zk},Ka=WC((t,e)=>EI(t,e,$k,Uk));function ME(){const t=F.useRef(!1);return Ym(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Wk(){const t=ME(),[e,n]=F.useState(0),s=F.useCallback(()=>{t.current&&n(e+1)},[e]);return[F.useCallback(()=>ot.postRender(s),[s]),e]}class Hk extends F.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Gk({children:t,isPresent:e}){const n=F.useId(),s=F.useRef(null),o=F.useRef({width:0,height:0,top:0,left:0});return F.useInsertionEffect(()=>{const{width:a,height:c,top:f,left:m}=o.current;if(e||!s.current||!a||!c)return;s.current.dataset.motionPopId=n;const g=document.createElement("style");return document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${c}px !important;
            top: ${f}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[e]),F.createElement(Hk,{isPresent:e,childRef:s,sizeRef:o},F.cloneElement(t,{ref:s}))}const hf=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:a,mode:c})=>{const f=k_(qk),m=F.useId(),g=F.useMemo(()=>({id:m,initial:e,isPresent:n,custom:o,onExitComplete:x=>{f.set(x,!0);for(const w of f.values())if(!w)return;s&&s()},register:x=>(f.set(x,!1),()=>f.delete(x))}),a?void 0:[n]);return F.useMemo(()=>{f.forEach((x,w)=>f.set(w,!1))},[n]),F.useEffect(()=>{!n&&!f.size&&s&&s()},[n]),c==="popLayout"&&(t=F.createElement(Gk,{isPresent:n},t)),F.createElement(sd.Provider,{value:g},t)};function qk(){return new Map}function Kk(t){return F.useEffect(()=>()=>t(),[])}const Ai=t=>t.key||"";function Qk(t,e){t.forEach(n=>{const s=Ai(n);e.set(s,n)})}function Yk(t){const e=[];return F.Children.forEach(t,n=>{F.isValidElement(n)&&e.push(n)}),e}const ff=({children:t,custom:e,initial:n=!0,onExitComplete:s,exitBeforeEnter:o,presenceAffectsLayout:a=!0,mode:c="sync"})=>{const f=F.useContext(ep).forceRender||Wk()[0],m=ME(),g=Yk(t);let x=g;const w=F.useRef(new Map).current,E=F.useRef(x),b=F.useRef(new Map).current,R=F.useRef(!0);if(Ym(()=>{R.current=!1,Qk(g,b),E.current=x}),Kk(()=>{R.current=!0,b.clear(),w.clear()}),R.current)return F.createElement(F.Fragment,null,x.map(U=>F.createElement(hf,{key:Ai(U),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:a,mode:c},U)));x=[...x];const L=E.current.map(Ai),k=g.map(Ai),$=L.length;for(let U=0;U<$;U++){const z=L[U];k.indexOf(z)===-1&&!w.has(z)&&w.set(z,void 0)}return c==="wait"&&w.size&&(x=[]),w.forEach((U,z)=>{if(k.indexOf(z)!==-1)return;const X=b.get(z);if(!X)return;const ue=L.indexOf(z);let q=U;if(!q){const j=()=>{w.delete(z);const N=Array.from(b.keys()).filter(P=>!k.includes(P));if(N.forEach(P=>b.delete(P)),E.current=g.filter(P=>{const C=Ai(P);return C===z||N.includes(C)}),!w.size){if(m.current===!1)return;f(),s&&s()}};q=F.createElement(hf,{key:Ai(X),isPresent:!1,onExitComplete:j,custom:e,presenceAffectsLayout:a,mode:c},X),w.set(z,q)}x.splice(ue,0,q)}),x=x.map(U=>{const z=U.key;return w.has(z)?U:F.createElement(hf,{key:Ai(U),isPresent:!0,presenceAffectsLayout:a,mode:c},U)}),F.createElement(F.Fragment,null,w.size?x:x.map(U=>F.cloneElement(U)))},Xk="http://127.0.0.1:5000/api",Jk=({onUploadComplete:t})=>{const[e,n]=F.useState([]),[s,o]=F.useState([]),[a,c]=F.useState(!1),[f,m]=F.useState(null),[g,x]=F.useState(null),[w,E]=F.useState(0),b=F.useRef(null),R=F.useRef(null),L=F.useCallback(()=>{E(0);const N=setInterval(()=>{E(P=>{const C=P+Math.random()*15;return C>=95?(clearInterval(N),95):C})},500);return()=>clearInterval(N)},[]),k=N=>{const C=Array.from(N.target.files).filter(V=>V.type.startsWith("image/"));if(C.length===0){m("Please select image files only");return}n(V=>[...V,...C]);const D=C.map(V=>({name:V.name,url:URL.createObjectURL(V),size:$(V.size),type:V.type.split("/")[1].toUpperCase()}));o(V=>[...V,...D]),m(null)},$=N=>N<1024?N+" B":N<1048576?(N/1024).toFixed(1)+" KB":(N/1048576).toFixed(1)+" MB",U=N=>{URL.revokeObjectURL(s[N].url),n(e.filter((P,C)=>C!==N)),o(s.filter((P,C)=>C!==N))},z=()=>{s.forEach(N=>URL.revokeObjectURL(N.url)),n([]),o([])},X=N=>{N.preventDefault();const C=Array.from(N.dataTransfer.files).filter(V=>V.type.startsWith("image/"));if(C.length===0){m("Please drop image files only");return}n(V=>[...V,...C]);const D=C.map(V=>({name:V.name,url:URL.createObjectURL(V),size:$(V.size),type:V.type.split("/")[1].toUpperCase()}));o(V=>[...V,...D]),m(null)},ue=N=>{N.preventDefault(),R.current&&(R.current.classList.add("border-blue-500"),R.current.classList.add("bg-blue-900"),R.current.classList.add("bg-opacity-10"))},q=N=>{N.preventDefault(),R.current&&(R.current.classList.remove("border-blue-500"),R.current.classList.remove("bg-blue-900"),R.current.classList.remove("bg-opacity-10"))},j=async()=>{if(e.length===0){m("Please select at least one screenshot to upload");return}c(!0),m(null),x(null);const N=L();try{const P=new FormData;e.forEach(V=>{P.append("images",V)});const C=await fetch(`${Xk}/parse_screenshot`,{method:"POST",body:P});if(!C.ok){const V=await C.json();throw new Error(V.error||`API Error: ${C.status}`)}const D=await C.json();E(100),e.forEach((V,A)=>{URL.revokeObjectURL(s[A].url)}),n([]),o([]),x(`Successfully processed ${D.parsedPlayers.length} players from your screenshots!`),t&&t(D.parsedPlayers)}catch(P){console.error("Error uploading screenshots:",P),m(P.message||"Failed to process screenshots. Please try again.")}finally{N(),c(!1),setTimeout(()=>E(0),1e3)}};return u.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 p-6 rounded-xl mb-8 shadow-lg border border-gray-700",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-blue-600",children:"Upload PrizePicks Screenshots"}),s.length>0&&u.jsxs("button",{onClick:z,className:"flex items-center px-3 py-1.5 text-sm bg-gray-700 hover:bg-gray-600 rounded-md transition-colors",children:[u.jsx(om,{className:"w-4 h-4 mr-1.5"}),"Clear All"]})]}),u.jsxs("div",{ref:R,className:"border-2 border-dashed border-gray-600 rounded-xl p-8 text-center mb-6 cursor-pointer hover:border-blue-500 transition-all duration-300 relative overflow-hidden group",onClick:()=>b.current.click(),onDrop:X,onDragOver:ue,onDragLeave:q,children:[u.jsx("input",{type:"file",ref:b,className:"hidden",accept:"image/*",multiple:!0,onChange:k}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("div",{className:"bg-blue-600 bg-opacity-10 p-4 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:u.jsx(cN,{className:"h-10 w-10 text-blue-400"})}),u.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Drag and drop screenshots here"}),u.jsx("p",{className:"text-gray-300 mb-2",children:"or click to browse your files"}),u.jsx("p",{className:"text-gray-500 text-sm max-w-md mx-auto",children:"Upload screenshots of PrizePicks player cards to automatically extract player data and analyze betting opportunities"})]}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/0 via-blue-600/5 to-blue-600/0 opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{backgroundSize:"200% 100%",animation:"shimmer 2s infinite linear"}})]}),u.jsx(ff,{children:s.length>0&&u.jsxs(Ka.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6",children:[u.jsx("div",{className:"flex items-center justify-between mb-3",children:u.jsxs("h3",{className:"text-lg font-semibold",children:["Selected Screenshots (",s.length,")"]})}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:s.map((N,P)=>u.jsxs(Ka.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2},className:"relative group overflow-hidden",children:[u.jsx("div",{className:"aspect-video bg-gray-700 rounded-lg overflow-hidden shadow-md border border-gray-600 group-hover:border-blue-500 transition-colors",children:u.jsxs("div",{className:"relative h-full",children:[u.jsx("img",{src:N.url||"/placeholder.svg",alt:`Preview ${P+1}`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-2 text-xs bg-black/50 backdrop-blur-sm flex justify-between items-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[u.jsx("span",{className:"truncate max-w-[80%]",children:N.name}),u.jsx("span",{children:N.size})]})]})}),u.jsx("button",{onClick:()=>U(P),className:"absolute top-2 right-2 bg-gray-900 bg-opacity-70 rounded-full p-1.5 text-gray-300 hover:text-red-500 hover:bg-gray-800 transition-colors shadow-md opacity-0 group-hover:opacity-100",children:u.jsx(Ui,{className:"h-4 w-4"})}),u.jsx("div",{className:"absolute top-2 left-2 bg-gray-900 bg-opacity-70 rounded-md px-1.5 py-0.5 text-xs text-gray-300 shadow-md opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:N.type})]},P))})]})}),u.jsx(ff,{children:f&&u.jsxs(Ka.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-gradient-to-r from-red-900/30 to-red-800/30 border border-red-700/50 p-4 rounded-lg mb-4 flex items-start",children:[u.jsx(nm,{className:"text-red-400 w-5 h-5 mr-3 flex-shrink-0 mt-0.5"}),u.jsx("p",{className:"text-red-300",children:f})]})}),u.jsx(ff,{children:g&&u.jsxs(Ka.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-gradient-to-r from-green-900/30 to-green-800/30 border border-green-700/50 p-4 rounded-lg mb-4 flex items-start",children:[u.jsx(sm,{className:"text-green-400 w-5 h-5 mr-3 flex-shrink-0 mt-0.5"}),u.jsx("p",{className:"text-green-300",children:g})]})}),u.jsxs("div",{className:"flex flex-col",children:[w>0&&u.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-4 overflow-hidden",children:u.jsx(Ka.div,{className:"h-full bg-blue-600 rounded-full",initial:{width:0},animate:{width:`${w}%`},transition:{duration:.3}})}),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{onClick:j,disabled:e.length===0||a,className:`px-6 py-3 rounded-lg font-medium flex items-center shadow-lg transition-all duration-300 ${e.length===0||a?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 text-white transform hover:-translate-y-0.5"}`,children:a?u.jsxs(u.Fragment,{children:[u.jsx(iN,{className:"w-5 h-5 mr-2 animate-spin"}),u.jsx("span",{children:"Processing..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Y1,{className:"w-5 h-5 mr-2"}),u.jsx("span",{children:"Process Screenshots"})]})})})]}),u.jsx("style",{jsx:!0,children:`
        @keyframes shimmer {
          0% { background-position: 0% 0; }
          10% { background-position: 200% 0; }
        }
      `})]})},Zk=({playerData:t,threshold:e,onAddToPicks:n})=>{var Un,Pn,zn,mn,zt,$t;const[s,o]=F.useState("main"),[a,c]=F.useState([]),[f,m]=F.useState(!1),[g,x]=F.useState(!1),[w,E]=F.useState(null);if(!t)return null;const b=t.name;t.playerId;const R=t.team,L=t.position,k=t.opponent,$=t.photoUrl,U=t.teamLogo,z=t.opponentLogo,X=t.gameDate,ue=t.gameTime,q=t.gameType,j=t.teamPlayoffRank,N=t.opponentPlayoffRank,P=t.seasonAvgPoints,C=t.last5RegularGamesAvg,D=t.seasonAvgVsOpponent;t.homeAwgAvg;const V=t.last5RegularGames||[],A=t.advancedPerformance||{},je=t.careerSeasonStats||[],Oe=t.injuryReport||{},ke=t.betExplanation||{},Ce=t.poissonProbability,ee=t.monteCarloProbability,fe=t.volatilityForecast,le=t.season_games_agst_opp,O=t.num_playoff_games,Y=t.playoffAvg,pe=t.playoff_games,Pe=t.volatilityPlayOffsForecast,Te=ie=>ie==null?"N/A":typeof ie=="number"?ie.toFixed(2):ie,me=ie=>ie==null?"N/A":typeof ie=="number"?`${(ie*100).toFixed(1)}%`:ie,De=ie=>{const J=ie.toLowerCase();return J.includes("over")||J.includes("yes")?"text-green-500":J.includes("under")||J.includes("no")?"text-red-500":"text-yellow-500"},Be=ie=>{if(ie==null)return"text-gray-400";const J=typeof ie=="string"?Number.parseFloat(ie):ie;return J>=.7?"text-green-500":J>=.5?"text-yellow-500":"text-red-500"},Le=(ie,J)=>ie==null?"text-gray-400":ie>J?"text-green-500":"text-red-500",Xe=Ce?`${(Ce*100).toFixed(2)}%`:"N/A",ct=ee?`${(ee*100).toFixed(2)}%`:"N/A",Dt=ke.recommendation||"N/A",ze=De(Dt),Pt=ie=>{o(s===ie?"main":ie)},Ut=async()=>{if(f)return m(!1);x(!0),E(null);try{const ie=await fetch(`/api/player/${t.playerId}/more_games`);if(!ie.ok)throw new Error(`HTTP ${ie.status}`);const J=await ie.json();c(J),m(!0)}catch(ie){console.error(ie),E("Failed to load more games.")}finally{x(!1)}};return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 rounded-xl overflow-hidden shadow-xl",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between",children:[u.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[u.jsxs("div",{className:"relative",children:[u.jsx(It,{src:$||"/placeholder.svg",alt:b,className:"w-24 h-24 rounded-full object-cover border-2 border-blue-500",fallbackSrc:"/placeholder.svg?height=96&width=96"}),u.jsx("div",{className:"absolute -bottom-1 -right-1 bg-gray-800 rounded-full p-1 border border-gray-700",children:u.jsx(It,{src:U||"/placeholder.svg",alt:R,className:"w-8 h-8",fallbackSrc:"/placeholder.svg?height=32&width=32"})})]}),u.jsxs("div",{className:"ml-4",children:[u.jsx("h1",{className:"text-3xl font-bold",children:b}),u.jsxs("div",{className:"flex items-center text-gray-400",children:[u.jsx("span",{children:R}),u.jsx("span",{className:"mx-2",children:""}),u.jsx("span",{children:L}),u.jsx("span",{className:"mx-2",children:""}),u.jsxs("span",{children:["Rank: ",j]})]}),u.jsxs("div",{className:"flex items-center mt-1 text-sm",children:[u.jsx("span",{className:"text-gray-400",children:"vs"}),u.jsx(It,{src:z||"/placeholder.svg",alt:k,className:"w-4 h-4 mx-1",fallbackSrc:"/placeholder.svg?height=16&width=16"}),u.jsxs("span",{children:[k," (Rank: ",N,")"]}),u.jsx("span",{className:"mx-2",children:""}),u.jsxs("span",{children:[X," ",ue]}),u.jsx("span",{className:"mx-2",children:""}),u.jsx("span",{children:q})]})]})]}),u.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700 w-full md:w-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-gray-400",children:"Threshold"}),u.jsxs("span",{className:"text-2xl font-bold",children:[e," pts"]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-400",children:"Recommendation"}),u.jsxs("span",{className:`text-2xl font-bold ${ze} flex items-center`,children:[Dt.toLowerCase().includes("over")?u.jsx(Lu,{className:"mr-1"}):u.jsx(am,{className:"mr-1"}),Dt]})]})]})]}),u.jsxs("div",{className:"mt-6 bg-gray-800 bg-opacity-50 rounded-lg p-4 border border-gray-700",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(ki,{className:"text-blue-400 w-5 h-5 mr-2"}),u.jsx("h2",{className:"text-xl font-semibold",children:"AI Betting Recommendation"})]}),u.jsxs("div",{className:"flex space-x-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-400",children:"Poisson: "}),u.jsx("span",{className:Be(Ce),children:Xe})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-400",children:"Monte Carlo: "}),u.jsx("span",{className:Be(ee),children:ct})]})]})]}),u.jsx("p",{className:"text-gray-300",children:ke.explanation})]})]})}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-5",children:[u.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[u.jsx("p",{className:"text-gray-400 text-sm",children:"Season Average"}),u.jsxs("p",{className:`text-2xl font-bold ${Le(P,e)}`,children:[Te(P)," pts"]})]}),u.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[u.jsx("p",{className:"text-gray-400 text-sm",children:"Average Last 5 Games"}),u.jsxs("p",{className:`text-2xl font-bold ${Le(C,e)}`,children:[Te(C)," pts"]})]}),u.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[u.jsxs("p",{className:"text-gray-400 text-sm",children:["Average Vs. ",k]}),u.jsxs("p",{className:`text-2xl font-bold ${Le(D,e)}`,children:[Te(D)," pts"]})]}),u.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[u.jsx("p",{className:"text-gray-400 text-sm",children:"Season Average @ Home"}),u.jsxs("p",{className:`text-2xl font-bold ${Le(A.avg_points_home,e)}`,children:[Te(A.avg_points_home)," pts"]})]}),u.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[u.jsx("p",{className:"text-gray-400 text-sm",children:"Season Average @ Away"}),u.jsxs("p",{className:`text-2xl font-bold ${Le(A.avg_points_away,e)}`,children:[Te(A.avg_points_away)," pts"]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[u.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[u.jsx("p",{className:"text-gray-400 text-sm",children:"Regular Season Volatility Forecast"}),u.jsxs("p",{className:`text-2xl font-bold ${Le(fe,e)}`,children:[Te(fe)," pts"]})]}),Pe!=0&&u.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[u.jsx("p",{className:"text-gray-400 text-sm",children:"Playoffs Volatility Forecast"}),u.jsxs("p",{className:`text-2xl font-bold ${Le(Pe,e)}`,children:[Te(Pe)," pts"]})]}),O!==0&&u.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[u.jsx("p",{className:"text-gray-400 text-sm",children:"Playoffs Average"}),u.jsxs("p",{className:`text-2xl font-bold ${Le(Y,e)}`,children:[Te(Y)," pts"]})]})]}),u.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>Pt("recentEncounters"),children:[u.jsx("h2",{className:"text-xl font-semibold",children:"All Season Encounters"}),s==="recentEncounters"?u.jsx(Mn,{className:"w-5 h-5 text-gray-400"}):u.jsx(Ln,{className:"w-5 h-5 text-gray-400"})]}),s==="recentEncounters"&&u.jsx("div",{className:"p-4 border-t border-gray-700",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-left text-gray-400 border-b border-gray-700",children:[u.jsx("th",{className:"pb-2",children:"Date"}),u.jsx("th",{className:"pb-2",children:"Opponent"}),u.jsx("th",{className:"pb-2",children:"Location"}),u.jsx("th",{className:"pb-2",children:"MIN"}),u.jsx("th",{className:"pb-2",children:"PTS"}),u.jsx("th",{className:"pb-2 text-right",children:"vs Threshold"})]})}),u.jsx("tbody",{children:le.map((ie,J)=>u.jsxs("tr",{className:"border-b border-gray-700",children:[u.jsx("td",{className:"py-3",children:ie.date}),u.jsx("td",{className:"py-3",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(It,{src:ie.opponentLogo||"/placeholder.svg",alt:ie.opponent,className:"w-5 h-5 mr-2",fallbackSrc:"/placeholder.svg?height=20&width=20"}),u.jsx("span",{children:ie.opponentFullName||ie.opponent})]})}),u.jsx("td",{className:"py-3",children:ie.location}),u.jsx("td",{className:"py-3",children:ie.minutes||"N/A"}),u.jsx("td",{className:"py-3 font-bold",children:ie.points}),u.jsx("td",{className:"py-3 text-right",children:e&&u.jsx("span",{className:ie.points>Number.parseFloat(e)?"text-green-500":"text-red-500",children:ie.points>Number.parseFloat(e)?"OVER":"UNDER"})})]},J))})]})})})]}),O!==0&&u.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>Pt("playoffsLog"),children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Playoffs Game Log"}),s==="playoffsLog"?u.jsx(Mn,{className:"w-5 h-5 text-gray-400"}):u.jsx(Ln,{className:"w-5 h-5 text-gray-400"})]}),s==="playoffsLog"&&u.jsx("div",{className:"p-4 border-t border-gray-700",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-left text-gray-400 border-b border-gray-700",children:[u.jsx("th",{className:"pb-2",children:"Date"}),u.jsx("th",{className:"pb-2",children:"Opponent"}),u.jsx("th",{className:"pb-2",children:"Location"}),u.jsx("th",{className:"pb-2",children:"MIN"}),u.jsx("th",{className:"pb-2",children:"PTS"}),u.jsx("th",{className:"pb-2 text-right",children:"vs Threshold"})]})}),u.jsx("tbody",{children:pe.map((ie,J)=>u.jsxs("tr",{className:"border-b border-gray-700",children:[u.jsx("td",{className:"py-3",children:ie.date}),u.jsx("td",{className:"py-3",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(It,{src:ie.opponentLogo||"/placeholder.svg",alt:ie.opponent,className:"w-5 h-5 mr-2",fallbackSrc:"/placeholder.svg?height=20&width=20"}),u.jsx("span",{children:ie.opponentFullName||ie.opponent})]})}),u.jsx("td",{className:"py-3",children:ie.location}),u.jsx("td",{className:"py-3",children:ie.minutes||"N/A"}),u.jsx("td",{className:"py-3 font-bold",children:ie.points}),u.jsx("td",{className:"py-3 text-right",children:e&&u.jsx("span",{className:ie.points>Number.parseFloat(e)?"text-green-500":"text-red-500",children:ie.points>Number.parseFloat(e)?"OVER":"UNDER"})})]},J))})]})})})]}),u.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>Pt("recentGames"),children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Recent Regular Season Games"}),s==="recentGames"?u.jsx(Mn,{className:"w-5 h-5 text-gray-400"}):u.jsx(Ln,{className:"w-5 h-5 text-gray-400"})]}),s==="recentGames"&&u.jsxs("div",{className:"p-4 border-t border-gray-700 flex flex-col",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-left text-gray-400 border-b border-gray-700",children:[u.jsx("th",{className:"pb-2",children:"Date"}),u.jsx("th",{className:"pb-2",children:"Opponent"}),u.jsx("th",{className:"pb-2",children:"Location"}),u.jsx("th",{className:"pb-2",children:"MIN"}),u.jsx("th",{className:"pb-2",children:"PTS"}),u.jsx("th",{className:"pb-2 text-right",children:"vs Threshold"})]})}),u.jsx("tbody",{children:V.map((ie,J)=>u.jsxs("tr",{className:"border-b border-gray-700",children:[u.jsx("td",{className:"py-3",children:ie.date}),u.jsx("td",{className:"py-3",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(It,{src:ie.opponentLogo||"/placeholder.svg",alt:ie.opponentFullName||ie.opponent,className:"w-5 h-5 mr-2",fallbackSrc:"/placeholder.svg?height=20&width=20"}),u.jsx("span",{children:ie.opponentFullName||ie.opponent})]})}),u.jsx("td",{className:"py-3",children:ie.location}),u.jsx("td",{className:"py-3",children:ie.minutes||"N/A"}),u.jsx("td",{className:"py-3 font-bold",children:ie.points}),u.jsx("td",{className:"py-3 text-right",children:e&&u.jsx("span",{className:ie.points>parseFloat(e)?"text-green-500":"text-red-500",children:ie.points>parseFloat(e)?"OVER":"UNDER"})})]},J))})]})}),f&&a.length>0&&u.jsx("div",{className:"overflow-x-auto mt-6",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-left text-gray-400 border-b border-gray-700",children:[u.jsx("th",{className:"pb-2",children:"Date"}),u.jsx("th",{className:"pb-2",children:"Opponent"}),u.jsx("th",{className:"pb-2",children:"Location"}),u.jsx("th",{className:"pb-2",children:"MIN"}),u.jsx("th",{className:"pb-2",children:"PTS"}),u.jsx("th",{className:"pb-2 text-right",children:"vs Threshold"})]})}),u.jsx("tbody",{children:a.map((ie,J)=>u.jsxs("tr",{className:"border-b border-gray-700",children:[u.jsx("td",{className:"py-3",children:ie.date}),u.jsx("td",{className:"py-3",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(It,{src:ie.opponentLogo||"/placeholder.svg",alt:ie.opponentFullName||ie.opponent,className:"w-5 h-5 mr-2",fallbackSrc:"/placeholder.svg?height=20&width=20"}),u.jsx("span",{children:ie.opponentFullName||ie.opponent})]})}),u.jsx("td",{className:"py-3",children:ie.location}),u.jsx("td",{className:"py-3",children:ie.minutes??"N/A"}),u.jsx("td",{className:"py-3 font-bold",children:ie.points}),u.jsx("td",{className:"py-3 text-right",children:e&&u.jsx("span",{className:ie.points>parseFloat(e)?"text-green-500":"text-red-500",children:ie.points>parseFloat(e)?"OVER":"UNDER"})})]},J))})]})}),w&&u.jsx("p",{className:"text-red-400 text-center mt-4",children:w}),u.jsx("div",{className:"mt-auto flex justify-center",children:u.jsx("button",{onClick:Ut,disabled:g,className:"px-4 py-2 bg-blue-600 rounded hover:bg-blue-700 disabled:opacity-50",children:g?"Loading":f?"See Less Games":"See More Games"})})]})]}),u.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>Pt("injuryStatus"),children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Injury Status"}),s==="injuryStatus"?u.jsx(Mn,{className:"w-5 h-5 text-gray-400"}):u.jsx(Ln,{className:"w-5 h-5 text-gray-400"})]}),s==="injuryStatus"&&u.jsx("div",{className:"p-4 border-t border-gray-700",children:Oe.found?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(ki,{className:`w-5 h-5 mr-2 ${((Un=Oe.status)==null?void 0:Un.toLowerCase())==="out"?"text-red-500":((Pn=Oe.status)==null?void 0:Pn.toLowerCase())==="doubtful"?"text-orange-500":((zn=Oe.status)==null?void 0:zn.toLowerCase())==="questionable"?"text-yellow-500":"text-green-500"}`}),u.jsx("span",{className:`text-lg font-bold ${((mn=Oe.status)==null?void 0:mn.toLowerCase())==="out"?"text-red-500":((zt=Oe.status)==null?void 0:zt.toLowerCase())==="doubtful"?"text-orange-500":(($t=Oe.status)==null?void 0:$t.toLowerCase())==="questionable"?"text-yellow-500":"text-green-500"}`,children:Oe.status||"Unknown"})]}),Oe.reason&&u.jsx("div",{className:"bg-gray-700 p-4 rounded-lg",children:u.jsx("p",{className:"text-sm text-gray-300",children:Oe.reason})})]}):u.jsxs("div",{className:"bg-green-900 bg-opacity-30 p-4 rounded-lg flex items-start",children:[u.jsx(ki,{className:"text-green-400 w-5 h-5 mr-2"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-green-300 font-medium",children:"No Injury Reported"}),u.jsxs("p",{className:"text-green-400 text-sm mt-1",children:[b," is not listed on the latest NBA injury report."]})]})]})})]}),u.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>Pt("monteCarlo"),children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Monte Carlo Simulation"}),s==="monteCarlo"?u.jsx(Mn,{className:"w-5 h-5 text-gray-400"}):u.jsx(Ln,{className:"w-5 h-5 text-gray-400"})]}),s==="monteCarlo"&&u.jsx("div",{className:"p-4 border-t border-gray-700",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsxs("p",{className:"text-gray-400",children:["Probability Over ",e," Points"]}),u.jsx("p",{className:`text-2xl font-bold ${Be(ee)}`,children:ct})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("p",{className:"text-gray-400",children:"Distribution Type"}),u.jsx("p",{className:"text-gray-300",children:"normal"})]})]}),u.jsxs("div",{className:"bg-blue-900 bg-opacity-30 p-4 rounded-lg flex items-start",children:[u.jsx(rm,{className:"text-blue-400 w-5 h-5 mr-2"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-blue-300 font-medium",children:"What is Monte Carlo Simulation?"}),u.jsx("p",{className:"text-blue-400 text-sm mt-1",children:"Monte Carlo simulation runs thousands of random scenarios based on historical data to predict the probability of a player exceeding their points threshold. It accounts for variability in performance and provides a more robust prediction than simple averages."})]})]})]})})]}),u.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>Pt("advancedMetrics"),children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Advanced Metrics"}),s==="advancedMetrics"?u.jsx(Mn,{className:"w-5 h-5 text-gray-400"}):u.jsx(Ln,{className:"w-5 h-5 text-gray-400"})]}),s==="advancedMetrics"&&u.jsx("div",{className:"p-4 border-t border-gray-700",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[u.jsx("p",{className:"text-gray-400 text-sm",children:"Effective FG%"}),u.jsx("p",{className:"text-2xl font-bold",children:me(A.efg)})]}),u.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[u.jsx("p",{className:"text-gray-400 text-sm",children:"3PT Shot Distribution"}),u.jsx("p",{className:"text-2xl font-bold",children:me(A.shot_dist_3pt)})]}),u.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[u.jsx("p",{className:"text-gray-400 text-sm",children:"FT Rate"}),u.jsx("p",{className:"text-2xl font-bold",children:me(A.ft_rate)})]})]}),u.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[u.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Home vs Away Splits"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-400",children:"Home Average"}),u.jsxs("p",{className:"text-xl font-bold",children:[Te(A.avg_points_home)," pts"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-400",children:"Away Average"}),u.jsxs("p",{className:"text-xl font-bold",children:[Te(A.avg_points_away)," pts"]})]})]})]}),je.length>0&&u.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[u.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Career Season Stats"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-left text-gray-400 border-b border-gray-700",children:[u.jsx("th",{className:"pb-2",children:"Season"}),u.jsx("th",{className:"pb-2",children:"Team"}),u.jsx("th",{className:"pb-2",children:"GP"}),u.jsx("th",{className:"pb-2",children:"PPG"}),u.jsx("th",{className:"pb-2",children:"FG%"}),u.jsx("th",{className:"pb-2",children:"3P%"})]})}),u.jsx("tbody",{children:je.map((ie,J)=>u.jsxs("tr",{className:"border-b border-gray-700",children:[u.jsx("td",{className:"py-2",children:ie.SEASON_ID}),u.jsx("td",{className:"py-2",children:ie.TEAM_ABBREVIATION}),u.jsx("td",{className:"py-2",children:ie.GP}),u.jsx("td",{className:"py-2",children:(ie.PTS/ie.GP).toFixed(1)}),u.jsxs("td",{className:"py-2",children:[(ie.FG_PCT*100).toFixed(1),"%"]}),u.jsxs("td",{className:"py-2",children:[(ie.FG3_PCT*100).toFixed(1),"%"]})]},J))})]})})]})]})})]}),u.jsxs("button",{onClick:n,className:"w-full py-4 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg flex items-center justify-center transition-colors",children:[u.jsx(im,{className:"w-5 h-5 mr-2"}),u.jsx("span",{children:"Add to Picks"})]})]})},eV=({onSearch:t,loading:e,error:n})=>{const[s,o]=F.useState(""),[a,c]=F.useState(""),[f,m]=F.useState([]),[g,x]=F.useState(!1),[w,E]=F.useState(!1);F.useEffect(()=>{try{const $=localStorage.getItem("recentPlayerSearches");$&&m(JSON.parse($).slice(0,5))}catch($){console.error("Error loading recent searches:",$)}},[]);const b=($,U)=>{try{const X=[{name:$,threshold:U,timestamp:Date.now()},...f.filter(ue=>ue.name!==$)].slice(0,5);m(X),localStorage.setItem("recentPlayerSearches",JSON.stringify(X))}catch(z){console.error("Error saving recent search:",z)}},R=$=>{$.preventDefault(),s.trim()&&a&&(b(s,a),t(s,a))},L=$=>{o($.name),c($.threshold),x(!1),t($.name,$.threshold)},k=["Enter a player's full name for best results (e.g., 'LeBron James' instead of just 'LeBron')","The points threshold should match what you see on PrizePicks","Our AI analyzes recent games, matchup history, and advanced metrics","Results are most accurate for NBA players with sufficient game history"];return u.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 p-6 rounded-lg shadow-lg mb-8 border border-gray-700",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(lN,{className:"w-6 h-6 text-blue-400 mr-3"}),u.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Player Analysis"})]}),u.jsx("button",{onClick:()=>E(!w),className:"text-gray-400 hover:text-blue-400 transition-colors",children:u.jsx(rN,{className:"w-5 h-5"})})]}),w&&u.jsxs("div",{className:"mb-6 bg-gray-800/50 p-4 rounded-lg border border-gray-700",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("h3",{className:"font-medium text-blue-400",children:"Search Tips"}),u.jsx("button",{onClick:()=>E(!1),className:"text-gray-500 hover:text-gray-300",children:u.jsx(Ui,{className:"w-4 h-4"})})]}),u.jsx("ul",{className:"space-y-2 text-sm text-gray-300",children:k.map(($,U)=>u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"text-blue-400 mr-2",children:""}),u.jsx("span",{children:$})]},U))})]}),n&&u.jsx("div",{className:"mb-6 bg-red-900/20 border border-red-800/50 text-red-300 p-4 rounded-lg",children:u.jsx("p",{children:n})}),u.jsxs("form",{onSubmit:R,className:"relative",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 mb-4",children:[u.jsxs("div",{className:"md:col-span-8 relative",children:[u.jsx("label",{htmlFor:"playerName",className:"block text-sm font-medium text-gray-300 mb-1",children:"Player Name"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",id:"playerName",className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all pl-10",placeholder:"e.g. LeBron James",value:s,onChange:$=>o($.target.value),onFocus:()=>x(!0),onBlur:()=>setTimeout(()=>x(!1),200),required:!0}),u.jsx(yf,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),g&&f.length>0&&u.jsxs("div",{className:"absolute z-10 mt-1 w-full bg-gray-800 border border-gray-700 rounded-lg shadow-lg overflow-hidden",children:[u.jsxs("div",{className:"p-2 border-b border-gray-700 flex justify-between items-center",children:[u.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Recent Searches"}),u.jsx(cx,{className:"w-3 h-3 text-gray-500"})]}),u.jsx("ul",{children:f.map(($,U)=>u.jsxs("li",{className:"px-3 py-2 hover:bg-gray-700 cursor-pointer flex justify-between items-center",onClick:()=>L($),children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-white",children:$.name}),u.jsxs("span",{className:"text-gray-400 text-xs ml-2",children:["(",$.threshold," pts)"]})]}),u.jsx(Lu,{className:"w-3 h-3 text-blue-400"})]},U))})]})]})]}),u.jsxs("div",{className:"md:col-span-4",children:[u.jsx("label",{htmlFor:"pointsThreshold",className:"block text-sm font-medium text-gray-300 mb-1",children:"Points Threshold"}),u.jsx("input",{type:"number",id:"pointsThreshold",className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"e.g. 19.5",value:a,onChange:$=>c($.target.value),step:"0.5",min:"0",required:!0})]})]}),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{type:"submit",className:`px-6 py-3 rounded-lg font-medium flex items-center justify-center min-w-[140px] transition-all ${e?"bg-gray-700 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 text-white shadow-lg hover:shadow-blue-500/20"}`,disabled:e,children:e?u.jsxs("span",{className:"flex items-center",children:[u.jsx("span",{className:"mr-2",children:"Analyzing"}),u.jsxs("span",{className:"flex space-x-1",children:[u.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full animate-pulse",style:{animationDelay:"0ms"}}),u.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full animate-pulse",style:{animationDelay:"200ms"}}),u.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full animate-pulse",style:{animationDelay:"400ms"}})]})]}):u.jsxs(u.Fragment,{children:[u.jsx(yf,{className:"w-4 h-4 mr-2"}),u.jsx("span",{children:"Analyze"})]})})})]}),e&&u.jsx("div",{className:"mt-8 border-t border-gray-700 pt-8",children:u.jsx(IC,{text:"Analyzing player statistics and calculating probabilities..."})})]})};function tV(){const[t,e]=F.useState("Dashboard"),[n,s]=F.useState(""),[o,a]=F.useState(""),[c,f]=F.useState(!1),[m,g]=F.useState(!1),[x,w]=F.useState([]),[E,b]=F.useState(!1),[R,L]=F.useState(!1),[k,$]=F.useState(""),[U,z]=F.useState(""),[X,ue]=F.useState([]),q=ix(),[j,N]=F.useState(null),[P,C]=F.useState([]),[D,V]=F.useState([]),[A,je]=F.useState(null),[Oe,ke]=F.useState(null),[Ce,ee]=F.useState(null),fe=new Date().toISOString().split("T")[0];F.useEffect(()=>{(async()=>{try{const ve=sessionStorage.getItem("currentUser");if(!ve){console.error("No user logged in"),q("/");return}je(ve);try{const de=await dC(ve);if(!de){console.error("User profile not found"),q("/");return}N(de)}catch(de){console.error("Error loading user profile:",de)}try{const de=await fC(ve);de!=null&&de.length&&w(de)}catch(de){console.error("Error loading picks:",de)}try{const de=await Fo(ve);C(de||[])}catch(de){console.error("Error loading active bets:",de),C([])}try{const de=await EC(ve);if(de.moved>0){console.log(`Moved ${de.moved} completed bets to history`);const Ie=await Fo(ve);C(Ie||[]);const rt=await W0(ve);V(rt||[])}}catch(de){console.error("Error moving completed bets:",de)}try{const de=await W0(ve);V(de||[])}catch(de){console.error("Error loading bet history:",de),V([])}}catch(ve){console.error("Error loading user data:",ve)}})()},[q,fe]);const le=(j==null?void 0:j.totalEarnings)||0,O=Z=>{ee(Z)},Y=async(Z,ve)=>{try{await _C(A,Z,ve);const de=await Fo(A);C(de||[]),ee(null)}catch(de){console.error("Error updating bet:",de),alert(`Failed to update bet: ${de.message}`)}},pe=async Z=>{if(window.confirm("Are you sure you want to cancel this bet?"))try{console.log(`Canceling bet: ${Z}`),await wC(A,Z),console.log("Bet canceled successfully");const ve=await Fo(A);C(ve||[])}catch(ve){console.error("Error canceling bet:",ve),alert(`Failed to cancel bet: ${ve.message}`)}},Pe=Z=>!Z||!Array.isArray(Z)||Z.length===0?[]:Z.map(ve=>{var de,Ie;return{id:ve.id,date:new Date(((de=ve.createdAt)==null?void 0:de.seconds)*1e3||Date.now()).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}).toUpperCase(),betAmount:ve.betAmount,potentialWinnings:ve.potentialWinnings,status:"Active",gameTime:((Ie=ve.picks[0])==null?void 0:Ie.gameTime)||"TBD",bettingPlatform:ve.bettingPlatform||"PrizePicks",betType:ve.betType||"Power Play",picks:ve.picks.map(rt=>({player:rt.playerName,team:rt.playerTeam||"Team",opponent:rt.opponent||"Opponent",threshold:rt.threshold,recommendation:rt.recommendation,photoUrl:rt.photoUrl||"/placeholder.svg?height=40&width=40"}))}}),me=(Z=>!Z||!Array.isArray(Z)?[]:Z.map(ve=>{var de;return{id:ve.id,date:new Date(((de=ve.createdAt)==null?void 0:de.seconds)*1e3||Date.parse(ve.createdAt)||Date.now()).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}).toUpperCase(),betAmount:ve.betAmount,winnings:ve.winnings||0,status:ve.status||"Lost",bettingPlatform:ve.bettingPlatform||"PrizePicks",betType:ve.betType||"Power Play",picks:Array.isArray(ve.picks)?ve.picks.map(Ie=>({player:Ie.playerName,team:Ie.playerTeam||"Team",opponent:Ie.opponent||"Opponent",threshold:Ie.threshold,recommendation:Ie.recommendation,actual:Ie.actualPoints||0,result:Ie.result||"MISS",photoUrl:Ie.photoUrl||"/placeholder.svg?height=40&width=40"})):[]}}))(D),De=Pe(P),Be=(Z,ve)=>{const de=Number.parseFloat(ve),rt=[Z.seasonAvgPoints>de,Z.careerAvgVsOpponent>de,Z.last5GamesAvg>de,Z.seasonAvgVsOpponent>de].filter(Boolean).length;return rt>=3?{recommendation:"OVER",confidence:"High",color:"text-green-500"}:rt===2?{recommendation:"OVER",confidence:"Medium",color:"text-yellow-500"}:{recommendation:"UNDER",confidence:"High",color:"text-red-500"}},Le=Z=>{e(Z)},Xe=()=>{sessionStorage.removeItem("currentUser"),q("/")},[ct,Dt]=F.useState(null),[ze,Pt]=F.useState(null),Ut=async(Z,ve)=>{g(!0),Dt(null),Pt(null),f(!1);try{console.log("Searching for player:",Z,ve);const de=await fetch("/api/player",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerName:Z,threshold:ve})});if(!de.ok)throw new Error(`API error: ${de.statusText}`);const Ie=await de.json();if(console.log("Player data received:",Ie),Ie.error){Dt(Ie.error);return}Pt(Ie),f(!0)}catch(de){console.error("Search error:",de),Dt(de.message||"Failed to analyze player. Please check the console for more details.")}finally{g(!1)}},Un=async()=>{if(!ze){alert("No player data available");return}if(x.length>=6){alert("You can only add up to 6 picks");return}if(!o||o<=0){alert("Please enter a valid points threshold");return}const Z=Be(ze,o),Ie={id:`${ze.name.toLowerCase().replace(/\s+/g,"_")}_${o}`,player:ze.name,team:ze.team,teamLogo:ze.teamLogo,opponent:ze.opponent,opponentLogo:ze.opponentLogo,gameDate:ze.gameDate,gameTime:ze.gameTime,threshold:Number.parseFloat(o),recommendation:Z.recommendation,confidence:Z.confidence,photoUrl:ze.photoUrl,gameId:ze.gameId};w([...x,Ie]);try{const rt={playerId:Ie.id,playerName:ze.name,playerTeam:ze.team,playerTeamLogo:ze.teamLogo,opponent:ze.opponent,opponentLogo:ze.opponentLogo,gameDate:ze.gameDate,gameTime:ze.gameTime,threshold:Number.parseFloat(o),recommendation:Z.recommendation,confidence:Z.confidence,photoUrl:ze.photoUrl};await $0(A,Ie)}catch(rt){console.error("Error adding pick to Firebase:",rt),alert("Failed to save pick. Please try again."),w(x.filter(xr=>xr.id!==Ie.id));return}f(!1),s(""),a("")},Pn=async Z=>{w(x.filter(ve=>ve.id!==Z));try{await hC(A,Z)}catch(ve){console.error("Error removing pick from Firebase:",ve)}},zn=async Z=>{if(x.length>=6){alert("You can only add up to 6 picks");return}if(x.findIndex(de=>de.id===Z.id)>=0){alert(`${Z.player} is already in your picks`);return}w([...x,Z]);try{const de={playerId:Z.id,playerName:Z.player,playerTeam:Z.team,playerTeamLogo:Z.teamLogo,opponent:Z.opponent,opponentLogo:Z.opponentLogo,gameDate:Z.gameDate,gameTime:Z.gameTime,threshold:Z.threshold,recommendation:Z.recommendation,confidence:Z.confidence,photoUrl:Z.photoUrl};await $0(A,Z),t!=="Dashboard"&&console.log(`Added ${Z.player} to your picks with a threshold of ${Z.threshold} points`)}catch(de){console.error("Error adding pick to Firebase:",de),alert("Failed to save pick. Please try again."),w(x.filter(Ie=>Ie.id!==Z.id));return}},mn=()=>{if(x.length<2){alert("You need at least 2 picks to place a bet");return}b(!0)},zt=async(Z,ve,de,Ie,rt)=>{$(Z),z(ve);const xr=x.filter(An=>de.includes(An.id));ue(xr);const wr=Ie||"PrizePicks",Br=rt||"Power Play";try{const An={betAmount:Number.parseFloat(Z),potentialWinnings:Number.parseFloat(ve),gameDate:fe,bettingPlatform:wr,betType:Br,picks:xr.map(an=>({playerId:an.id.toString(),playerName:an.player,playerTeam:an.team,opponent:an.opponent,threshold:Number.parseFloat(an.threshold),recommendation:an.recommendation,photoUrl:an.photoUrl,gameTime:an.gameTime,gameId:an.gameId}))},Xs=await pC(A,An);console.log("Created bet with ID:",Xs),await mC(A);const Js=await Fo(A);C(Js)}catch(An){console.error("Error creating bet in Firebase:",An)}b(!1),L(!0)},$t=async()=>{L(!1),w([])},ie=Z=>{ke(Z)},J=({tab:Z,icon:ve,label:de})=>u.jsxs("button",{className:`flex items-center px-4 py-2 ${t===Z?"text-white":"text-gray-400 hover:text-white"} text-sm font-medium`,onClick:()=>Le(Z),children:[u.jsx(ve,{className:"w-5 h-5 mr-2"}),u.jsx("span",{children:de})]});return u.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[u.jsx("header",{className:"bg-gray-800 py-4",children:u.jsxs("div",{className:"container mx-auto px-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("img",{src:"/logo.png",alt:"PrizePicks Logo",className:"w-8 h-8",style:{aspectRatio:"1/1",objectFit:"contain"}}),u.jsx("span",{className:"text-xl font-semibold",children:"PrizePicks Analyzer"})]}),u.jsxs("nav",{className:"flex space-x-4",children:[u.jsx(J,{tab:"Dashboard",icon:nN,label:"Home"}),u.jsx(J,{tab:"ProcessedPlayers",icon:sN,label:"Already Processed Players"}),u.jsx(J,{tab:"PreviousBets",icon:cx,label:"Previous Bets"}),u.jsx(J,{tab:"Notifications",icon:K1,label:"Alerts"})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("img",{alt:"User avatar",className:"w-8 h-8 rounded-full",src:(j==null?void 0:j.pfp)||A,style:{aspectRatio:"1/1",objectFit:"cover"}}),u.jsxs("div",{className:"text-sm",children:[u.jsx("p",{className:"font-medium",children:(j==null?void 0:j.displayName)||A}),u.jsxs("p",{className:"text-gray-400",children:["@",A]})]}),u.jsxs("button",{onClick:Xe,className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded-md flex items-center",children:[u.jsx(oN,{className:"w-4 h-4 mr-1"}),u.jsx("span",{children:"Sign Out"})]})]})]})}),u.jsx("main",{className:"flex-1 p-8 overflow-auto",children:u.jsxs("div",{className:"container mx-auto",children:[u.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg mb-8",children:[u.jsx("h2",{className:"text-xl font-bold mb-2 text-yellow-400",children:"WARNING - PLAY AT YOUR OWN RISK"}),u.jsx("p",{className:"text-gray-300",children:"This website is currently in beta and testflight mode. Additionally, our model currently only does statistics on player points in the NBA, with its focus specifically on 'Over' points."})]}),u.jsx("div",{className:"bg-gradient-to-r from-green-900 to-green-700 p-6 rounded-lg mb-8",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold mb-1",children:"Total Earnings"}),u.jsx("p",{className:"text-gray-200",children:"Keep up the good work! Your picks are paying off."})]}),u.jsxs("div",{className:"text-4xl font-bold",children:["$",le.toFixed(2)]})]})}),t!=="PreviousBets"&&De.length>0&&u.jsx("div",{className:"mb-8",children:u.jsx(AC,{bets:De,onCancel:pe,onPlayerClick:ie,onEdit:O})}),t==="Dashboard"&&u.jsxs(u.Fragment,{children:[x.length>0&&u.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg mb-8",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h2",{className:"text-2xl font-bold",children:["Your Picks (",x.length,"/6)"]}),u.jsxs("button",{onClick:mn,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-md flex items-center",disabled:x.length<2,children:[u.jsx(ux,{className:"w-4 h-4 mr-2"}),u.jsx("span",{children:"Lock In Picks"})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(Z=>u.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("img",{src:Z.photoUrl||"/placeholder.svg",alt:Z.player,className:"w-12 h-12 rounded-full object-cover mr-3"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-bold",children:Z.player}),u.jsxs("p",{className:"text-sm text-gray-400",children:[Z.threshold," pts (",Z.recommendation,")"]}),u.jsx("p",{className:"text-xs text-gray-500",children:Z.gameDate})]})]}),u.jsx("button",{onClick:()=>Pn(Z.id),className:"p-1 text-gray-400 hover:text-red-500",children:u.jsx(om,{className:"w-5 h-5"})})]},Z.id))})]}),u.jsx(Jk,{onUploadComplete:Z=>{console.log("Parsed players:",Z),Le("ProcessedPlayers")}}),u.jsx(eV,{onSearch:(Z,ve)=>{s(Z),a(ve),Ut(Z,ve)},loading:m,error:ct}),c&&ze&&!m&&u.jsx(Zk,{playerData:ze,threshold:o,onAddToPicks:Un})]}),t==="DailyPicks"&&u.jsx(jC,{picks:De.length>0?De[0].picks:[]}),t==="PreviousBets"&&u.jsx(PC,{bets:me,activeBets:De}),t==="Notifications"&&u.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Alerts & Notifications"}),u.jsx("p",{className:"text-gray-400",children:"Set up alerts for your favorite players and games. This feature is coming soon!"})]}),t==="ProcessedPlayers"&&u.jsx(VC,{onAddToPicks:zn})]})}),E&&u.jsx(bC,{picks:X,onConfirm:zt,onClose:()=>b(!1)}),R&&u.jsx(SC,{picks:X,betAmount:k,potentialWinnings:U,bettingPlatform:P.length>0?P[P.length-1].bettingPlatform:"PrizePicks",betType:P.length>0?P[P.length-1].betType:"Power Play",onClose:$t}),Oe&&u.jsx(CC,{player:Oe,onClose:()=>ke(null)}),Ce&&u.jsx(RC,{bet:Ce,onSave:Y,onClose:()=>ee(null)})]})}const nV=()=>u.jsx(H1,{children:u.jsxs(z1,{children:[u.jsx(pf,{path:"/",element:u.jsx(NC,{})}),u.jsx(pf,{path:"/HomePage",element:u.jsx(tV,{})})]})});XT.createRoot(document.getElementById("root")).render(u.jsx(F.StrictMode,{children:u.jsx(nV,{})}));
